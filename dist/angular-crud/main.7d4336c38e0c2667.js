"use strict";(self.webpackChunkAngular_crud=self.webpackChunkAngular_crud||[]).push([[179],{2011:(pt,Ae,F)=>{F.d(Ae,{Dh:()=>ve,GT:()=>ae,cc:()=>Ie,hO:()=>Ve,on:()=>$,pX:()=>oe,xv:()=>De});var g=F(4650),V=F(9260),G=F(3069);pt=F.hmd(pt);const ie=["ngOnDestroy"],oe=(_e,me,Me,be={})=>new Proxy(_e,{get:(Te,Ee)=>Me.runOutsideAngular(()=>{var Ue;if(_e[Ee])return!(null===(Ue=be?.spy)||void 0===Ue)&&Ue.get&&be.spy.get(Ee,_e[Ee]),_e[Ee];if(ie.indexOf(Ee)>-1)return()=>{};const Y=me.toPromise().then(ne=>{const he=ne&&ne[Ee];return"function"==typeof he?he.bind(ne):he&&he.then?he.then(He=>Me.run(()=>He)):Me.run(()=>he)});return new Proxy(()=>{},{get:(ne,he)=>Y[he],apply:(ne,he,He)=>Y.then(Be=>{var Ct;const Qe=Be&&Be(...He);return!(null===(Ct=be?.spy)||void 0===Ct)&&Ct.apply&&be.spy.apply(Ee,He,Qe),Qe})})})}),ae=(_e,me)=>{me.forEach(Me=>{Object.getOwnPropertyNames(Me.prototype||Me).forEach(be=>{Object.defineProperty(_e.prototype,be,Object.getOwnPropertyDescriptor(Me.prototype||Me,be))})})};class Pe{constructor(me){return me}}const ve=new g.OlP("angularfire2.app.options"),De=new g.OlP("angularfire2.app.name");function $(_e,me,Me){const Te="object"==typeof Me&&Me||{};Te.name=Te.name||"string"==typeof Me&&Me||"[DEFAULT]";const Ue=V.Z.apps.filter(Y=>Y&&Y.name===Te.name)[0]||me.runOutsideAngular(()=>V.Z.initializeApp(_e,Te));try{JSON.stringify(_e)!==JSON.stringify(Ue.options)&&j("error",`${Ue.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Pe(Ue)}const j=(_e,...me)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_e](...me)},K={provide:Pe,useFactory:$,deps:[ve,g.R0b,[new g.FiY,De]]};let Ve=(()=>{class _e{constructor(Me){V.Z.registerVersion("angularfire",G.q4.full,"core"),V.Z.registerVersion("angularfire",G.q4.full,"app-compat"),V.Z.registerVersion("angular",g.q4F.full,Me.toString())}static initializeApp(Me,be){return{ngModule:_e,providers:[{provide:ve,useValue:Me},{provide:De,useValue:be}]}}}return _e.\u0275fac=function(Me){return new(Me||_e)(g.LFG(g.Lbi))},_e.\u0275mod=g.oAB({type:_e}),_e.\u0275inj=g.cJS({providers:[K]}),_e})();function Ie(_e,me,Me,be,Te){const[,Ee,Ue]=globalThis.\u0275AngularfireInstanceCache.find(Y=>Y[0]===_e)||[];if(Ee)return function je(_e,me){try{return _e.toString()===me.toString()}catch{return _e===me}}(Te,Ue)||(ce("error",`${me} was already initialized on the ${Me} Firebase App with different settings.${rt?" You may need to reload as Firebase is not HMR aware.":""}`),ce("warn",{is:Te,was:Ue})),Ee;{const Y=be();return globalThis.\u0275AngularfireInstanceCache.push([_e,Y,Te]),Y}}const rt=!!pt.hot,ce=(_e,...me)=>{(0,g.X6Q)()&&typeof console<"u"&&console[_e](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},3069:(pt,Ae,F)=>{F.d(Ae,{q4:()=>Dc,iC:()=>yu,HU:()=>Aa,vb:()=>Tc,JM:()=>Fs,u3:()=>_u});var g=F(4650),V=F(259),G=F(5861),ie=F(9681),oe=F(2090),ae=F(4859),Pe=F(1877),ve=F(8766);const De="@firebase/installations",$="0.6.4",j=1e4,K=`w:${$}`,Ve="FIS_v2",Ie="https://firebaseinstallations.googleapis.com/v1",je=36e5,me=new oe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Me(D){return D instanceof oe.ZR&&D.code.includes("request-failed")}function be({projectId:D}){return`${Ie}/projects/${D}/installations`}function Te(D){return{token:D.token,requestStatus:2,expiresIn:Be(D.expiresIn),creationTime:Date.now()}}function Ee(D,T){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,G.Z)(function*(D,T){const O=(yield T.json()).error;return me.create("request-failed",{requestName:D,serverCode:O.code,serverMessage:O.message,serverStatus:O.status})})).apply(this,arguments)}function Y({apiKey:D}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D})}function he(D){return He.apply(this,arguments)}function He(){return(He=(0,G.Z)(function*(D){const T=yield D();return T.status>=500&&T.status<600?D():T})).apply(this,arguments)}function Be(D){return Number(D.replace("s","000"))}function te(){return(te=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:T},{fid:M}){const O=be(D),z=Y(D),J=T.getImmediate({optional:!0});if(J){const lt=yield J.getHeartbeatsHeader();lt&&z.append("x-firebase-client",lt)}const nt={method:"POST",headers:z,body:JSON.stringify({fid:M,authVersion:Ve,appId:D.appId,sdkVersion:K})},ut=yield he(()=>fetch(O,nt));if(ut.ok){const lt=yield ut.json();return{fid:lt.fid||M,registrationStatus:2,refreshToken:lt.refreshToken,authToken:Te(lt.authToken)}}throw yield Ee("Create Installation",ut)})).apply(this,arguments)}function ue(D){return new Promise(T=>{setTimeout(T,D)})}const Se=/^[cdef][\w-]{21}$/,Oe="";function Fe(){try{const D=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(D),D[0]=112+D[0]%16;const M=function Xe(D){return function pe(D){return btoa(String.fromCharCode(...D)).replace(/\+/g,"-").replace(/\//g,"_")}(D).substr(0,22)}(D);return Se.test(M)?M:Oe}catch{return Oe}}function ze(D){return`${D.appName}!${D.appId}`}const sn=new Map;function gt(D,T){const M=ze(D);tn(M,T),function Un(D,T){const M=function on(){return!fn&&"BroadcastChannel"in self&&(fn=new BroadcastChannel("[Firebase] FID Change"),fn.onmessage=D=>{tn(D.data.key,D.data.fid)}),fn}();M&&M.postMessage({key:D,fid:T}),function lr(){0===sn.size&&fn&&(fn.close(),fn=null)}()}(M,T)}function tn(D,T){const M=sn.get(D);if(M)for(const O of M)O(T)}let fn=null;const ii="firebase-installations-database",Ys=1,cr="firebase-installations-store";let ki=null;function Fi(){return ki||(ki=(0,ve.X3)(ii,Ys,{upgrade:(D,T)=>{0===T&&D.createObjectStore(cr)}})),ki}function Dn(D,T){return br.apply(this,arguments)}function br(){return(br=(0,G.Z)(function*(D,T){const M=ze(D),z=(yield Fi()).transaction(cr,"readwrite"),J=z.objectStore(cr),Ce=yield J.get(M);return yield J.put(T,M),yield z.done,(!Ce||Ce.fid!==T.fid)&&gt(D,T.fid),T})).apply(this,arguments)}function ct(D){return Li.apply(this,arguments)}function Li(){return(Li=(0,G.Z)(function*(D){const T=ze(D),O=(yield Fi()).transaction(cr,"readwrite");yield O.objectStore(cr).delete(T),yield O.done})).apply(this,arguments)}function zr(D,T){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,G.Z)(function*(D,T){const M=ze(D),z=(yield Fi()).transaction(cr,"readwrite"),J=z.objectStore(cr),Ce=yield J.get(M),nt=T(Ce);return void 0===nt?yield J.delete(M):yield J.put(nt,M),yield z.done,nt&&(!Ce||Ce.fid!==nt.fid)&&gt(D,nt.fid),nt})).apply(this,arguments)}function dr(D){return Vi.apply(this,arguments)}function Vi(){return Vi=(0,G.Z)(function*(D){let T;const M=yield zr(D.appConfig,O=>{const z=function St(D){return hr(D||{fid:Fe(),registrationStatus:0})}(O),J=function at(D,T){if(0===T.registrationStatus){if(!navigator.onLine)return{installationEntry:T,registrationPromise:Promise.reject(me.create("app-offline"))};const M={fid:T.fid,registrationStatus:1,registrationTime:Date.now()},O=function Dt(D,T){return Tr.apply(this,arguments)}(D,M);return{installationEntry:M,registrationPromise:O}}return 1===T.registrationStatus?{installationEntry:T,registrationPromise:Hn(D)}:{installationEntry:T}}(D,z);return T=J.registrationPromise,J.installationEntry});return M.fid===Oe?{installationEntry:yield T}:{installationEntry:M,registrationPromise:T}}),Vi.apply(this,arguments)}function Tr(){return Tr=(0,G.Z)(function*(D,T){try{const M=yield function Qe(D,T){return te.apply(this,arguments)}(D,T);return Dn(D.appConfig,M)}catch(M){throw Me(M)&&409===M.customData.serverCode?yield ct(D.appConfig):yield Dn(D.appConfig,{fid:T.fid,registrationStatus:0}),M}}),Tr.apply(this,arguments)}function Hn(D){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,G.Z)(function*(D){let T=yield Sr(D.appConfig);for(;1===T.registrationStatus;)yield ue(100),T=yield Sr(D.appConfig);if(0===T.registrationStatus){const{installationEntry:M,registrationPromise:O}=yield dr(D);return O||M}return T})).apply(this,arguments)}function Sr(D){return zr(D,T=>{if(!T)throw me.create("installation-not-found");return hr(T)})}function hr(D){return function Is(D){return 1===D.registrationStatus&&D.registrationTime+j<Date.now()}(D)?{fid:D.fid,registrationStatus:0}:D}function Cs(){return(Cs=(0,G.Z)(function*({appConfig:D,heartbeatServiceProvider:T},M){const O=function jt(D,{fid:T}){return`${be(D)}/${T}/authTokens:generate`}(D,M),z=function ne(D,{refreshToken:T}){const M=Y(D);return M.append("Authorization",function Ct(D){return`${Ve} ${D}`}(T)),M}(D,M),J=T.getImmediate({optional:!0});if(J){const lt=yield J.getHeartbeatsHeader();lt&&z.append("x-firebase-client",lt)}const nt={method:"POST",headers:z,body:JSON.stringify({installation:{sdkVersion:K,appId:D.appId}})},ut=yield he(()=>fetch(O,nt));if(ut.ok)return Te(yield ut.json());throw yield Ee("Generate Auth Token",ut)})).apply(this,arguments)}function si(D){return Ui.apply(this,arguments)}function Ui(){return Ui=(0,G.Z)(function*(D,T=!1){let M;const O=yield zr(D.appConfig,J=>{if(!Yt(J))throw me.create("not-registered");const Ce=J.authToken;if(!T&&function Gn(D){return 2===D.requestStatus&&!function B(D){const T=Date.now();return T<D.creationTime||D.creationTime+D.expiresIn<T+je}(D)}(Ce))return J;if(1===Ce.requestStatus)return M=function $e(D,T){return ge.apply(this,arguments)}(D,T),J;{if(!navigator.onLine)throw me.create("app-offline");const nt=function L(D){const T={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},D),{authToken:T})}(J);return M=function mt(D,T){return At.apply(this,arguments)}(D,nt),nt}});return M?yield M:O.authToken}),Ui.apply(this,arguments)}function ge(){return(ge=(0,G.Z)(function*(D,T){let M=yield et(D.appConfig);for(;1===M.authToken.requestStatus;)yield ue(100),M=yield et(D.appConfig);const O=M.authToken;return 0===O.requestStatus?si(D,T):O})).apply(this,arguments)}function et(D){return zr(D,T=>{if(!Yt(T))throw me.create("not-registered");return function W(D){return 1===D.requestStatus&&D.requestTime+j<Date.now()}(T.authToken)?Object.assign(Object.assign({},T),{authToken:{requestStatus:0}}):T})}function At(){return At=(0,G.Z)(function*(D,T){try{const M=yield function mn(D,T){return Cs.apply(this,arguments)}(D,T),O=Object.assign(Object.assign({},T),{authToken:M});return yield Dn(D.appConfig,O),M}catch(M){if(!Me(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const O=Object.assign(Object.assign({},T),{authToken:{requestStatus:0}});yield Dn(D.appConfig,O)}else yield ct(D.appConfig);throw M}}),At.apply(this,arguments)}function Yt(D){return void 0!==D&&2===D.registrationStatus}function X(){return(X=(0,G.Z)(function*(D){const T=D,{installationEntry:M,registrationPromise:O}=yield dr(T);return O?O.catch(console.error):si(T).catch(console.error),M.fid})).apply(this,arguments)}function Ge(){return Ge=(0,G.Z)(function*(D,T=!1){const M=D;return yield function ln(D){return Bn.apply(this,arguments)}(M),(yield si(M,T)).token}),Ge.apply(this,arguments)}function Bn(){return(Bn=(0,G.Z)(function*(D){const{registrationPromise:T}=yield dr(D);T&&(yield T)})).apply(this,arguments)}function Zu(D){return me.create("missing-app-config-values",{valueName:D})}const Ka="installations",Xo=D=>{const T=D.getProvider("app").getImmediate(),M=function qa(D){if(!D||!D.options)throw Zu("App Configuration");if(!D.name)throw Zu("App Name");const T=["projectId","apiKey","appId"];for(const M of T)if(!D.options[M])throw Zu(M);return{appName:D.name,projectId:D.options.projectId,apiKey:D.options.apiKey,appId:D.options.appId}}(T);return{app:T,appConfig:M,heartbeatServiceProvider:(0,ie._getProvider)(T,"heartbeat"),_delete:()=>Promise.resolve()}},Qu=D=>{const T=D.getProvider("app").getImmediate(),M=(0,ie._getProvider)(T,Ka).getImmediate();return{getId:()=>function de(D){return X.apply(this,arguments)}(M),getToken:z=>function Je(D){return Ge.apply(this,arguments)}(M,z)}};(function Xu(){(0,ie._registerComponent)(new ae.wA(Ka,Xo,"PUBLIC")),(0,ie._registerComponent)(new ae.wA("installations-internal",Qu,"PRIVATE"))})(),(0,ie.registerVersion)(De,$),(0,ie.registerVersion)(De,$,"esm2017");const en="@firebase/remote-config",gr=new oe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ss{constructor(T,M,O,z){this.client=T,this.storage=M,this.storageCache=O,this.logger=z}isCachedDataFresh(T,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const O=Date.now()-M,z=O<=T;return this.logger.debug(`Config fetch cache check. Cache age millis: ${O}. Cache max age millis (minimumFetchIntervalMillis setting): ${T}. Is cache hit: ${z}.`),z}fetch(T){var M=this;return(0,G.Z)(function*(){const[O,z]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(z&&M.isCachedDataFresh(T.cacheMaxAgeMillis,O))return z;T.eTag=z&&z.eTag;const J=yield M.client.fetch(T),Ce=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===J.status&&Ce.push(M.storage.setLastSuccessfulFetchResponse(J)),yield Promise.all(Ce),J})()}}function rs(D=navigator){return D.languages&&D.languages[0]||D.language}class er{constructor(T,M,O,z,J,Ce){this.firebaseInstallations=T,this.sdkVersion=M,this.namespace=O,this.projectId=z,this.apiKey=J,this.appId=Ce}fetch(T){var M=this;return(0,G.Z)(function*(){const[O,z]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ce=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,nt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":T.eTag||"*"},ut={sdk_version:M.sdkVersion,app_instance_id:O,app_instance_id_token:z,app_id:M.appId,language_code:rs()},lt={method:"POST",headers:nt,body:JSON.stringify(ut)},Pt=fetch(Ce,lt),yt=new Promise((sr,ho)=>{T.signal.addEventListener(()=>{const Qr=new Error("The operation was aborted.");Qr.name="AbortError",ho(Qr)})});let _r;try{yield Promise.race([Pt,yt]),_r=yield Pt}catch(sr){let ho="fetch-client-network";throw"AbortError"===sr?.name&&(ho="fetch-timeout"),gr.create(ho,{originalErrorMessage:sr?.message})}let rn=_r.status;const Us=_r.headers.get("ETag")||void 0;let Ma,Pn;if(200===_r.status){let sr;try{sr=yield _r.json()}catch(ho){throw gr.create("fetch-client-parse",{originalErrorMessage:ho?.message})}Ma=sr.entries,Pn=sr.state}if("INSTANCE_STATE_UNSPECIFIED"===Pn?rn=500:"NO_CHANGE"===Pn?rn=304:("NO_TEMPLATE"===Pn||"EMPTY_CONFIG"===Pn)&&(Ma={}),304!==rn&&200!==rn)throw gr.create("fetch-status",{httpStatus:rn});return{status:rn,eTag:Us,config:Ma}})()}}class Mt{constructor(T,M){this.client=T,this.storage=M}fetch(T){var M=this;return(0,G.Z)(function*(){const O=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(T,O)})()}attemptFetch(T,{throttleEndTimeMillis:M,backoffCount:O}){var z=this;return(0,G.Z)(function*(){yield function To(D,T){return new Promise((M,O)=>{const z=Math.max(T-Date.now(),0),J=setTimeout(M,z);D.addEventListener(()=>{clearTimeout(J),O(gr.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(T.signal,M);try{const J=yield z.client.fetch(T);return yield z.storage.deleteThrottleMetadata(),J}catch(J){if(!function Bd(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(J))throw J;const Ce={throttleEndTimeMillis:Date.now()+(0,oe.$s)(O),backoffCount:O+1};return yield z.storage.setThrottleMetadata(Ce),z.attemptFetch(T,Ce)}})()}}class Jl{constructor(T,M,O,z,J){this.app=T,this._client=M,this._storageCache=O,this._storage=z,this._logger=J,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function is(D,T){const M=D.target.error||void 0;return gr.create(T,{originalErrorMessage:M&&M?.message})}const ji="app_namespace_store";class xr{constructor(T,M,O,z=function dp(){return new Promise((D,T)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=O=>{T(is(O,"storage-open"))},M.onsuccess=O=>{D(O.target.result)},M.onupgradeneeded=O=>{0===O.oldVersion&&O.target.result.createObjectStore(ji,{keyPath:"compositeKey"})}}catch(M){T(gr.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=T,this.appName=M,this.namespace=O,this.openDbPromise=z}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(T){return this.set("last_fetch_status",T)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(T){return this.set("last_successful_fetch_timestamp_millis",T)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(T){return this.set("last_successful_fetch_response",T)}getActiveConfig(){return this.get("active_config")}setActiveConfig(T){return this.set("active_config",T)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(T){return this.set("active_config_etag",T)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(T){return this.set("throttle_metadata",T)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(T){var M=this;return(0,G.Z)(function*(){const O=yield M.openDbPromise;return new Promise((z,J)=>{const nt=O.transaction([ji],"readonly").objectStore(ji),ut=M.createCompositeKey(T);try{const lt=nt.get(ut);lt.onerror=Pt=>{J(is(Pt,"storage-get"))},lt.onsuccess=Pt=>{const yt=Pt.target.result;z(yt?yt.value:void 0)}}catch(lt){J(gr.create("storage-get",{originalErrorMessage:lt?.message}))}})})()}set(T,M){var O=this;return(0,G.Z)(function*(){const z=yield O.openDbPromise;return new Promise((J,Ce)=>{const ut=z.transaction([ji],"readwrite").objectStore(ji),lt=O.createCompositeKey(T);try{const Pt=ut.put({compositeKey:lt,value:M});Pt.onerror=yt=>{Ce(is(yt,"storage-set"))},Pt.onsuccess=()=>{J()}}catch(Pt){Ce(gr.create("storage-set",{originalErrorMessage:Pt?.message}))}})})()}delete(T){var M=this;return(0,G.Z)(function*(){const O=yield M.openDbPromise;return new Promise((z,J)=>{const nt=O.transaction([ji],"readwrite").objectStore(ji),ut=M.createCompositeKey(T);try{const lt=nt.delete(ut);lt.onerror=Pt=>{J(is(Pt,"storage-delete"))},lt.onsuccess=()=>{z()}}catch(lt){J(gr.create("storage-delete",{originalErrorMessage:lt?.message}))}})})()}createCompositeKey(T){return[this.appId,this.appName,this.namespace,T].join()}}class tr{constructor(T){this.storage=T}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var T=this;return(0,G.Z)(function*(){const M=T.storage.getLastFetchStatus(),O=T.storage.getLastSuccessfulFetchTimestampMillis(),z=T.storage.getActiveConfig(),J=yield M;J&&(T.lastFetchStatus=J);const Ce=yield O;Ce&&(T.lastSuccessfulFetchTimestampMillis=Ce);const nt=yield z;nt&&(T.activeConfig=nt)})()}setLastFetchStatus(T){return this.lastFetchStatus=T,this.storage.setLastFetchStatus(T)}setLastSuccessfulFetchTimestampMillis(T){return this.lastSuccessfulFetchTimestampMillis=T,this.storage.setLastSuccessfulFetchTimestampMillis(T)}setActiveConfig(T){return this.activeConfig=T,this.storage.setActiveConfig(T)}}function Gi(){return ta.apply(this,arguments)}function ta(){return(ta=(0,G.Z)(function*(){if(!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}!function tl(){(0,ie._registerComponent)(new ae.wA("remote-config",function D(T,{instanceIdentifier:M}){const O=T.getProvider("app").getImmediate(),z=T.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw gr.create("registration-window");if(!(0,oe.hl)())throw gr.create("indexed-db-unavailable");const{projectId:J,apiKey:Ce,appId:nt}=O.options;if(!J)throw gr.create("registration-project-id");if(!Ce)throw gr.create("registration-api-key");if(!nt)throw gr.create("registration-app-id");const ut=new xr(nt,O.name,M=M||"firebase"),lt=new tr(ut),Pt=new Pe.Yd(en);Pt.logLevel=Pe.in.ERROR;const yt=new er(z,ie.SDK_VERSION,M,J,Ce,nt),_r=new Mt(yt,ut),rn=new Ss(_r,ut,lt,Pt),Us=new Jl(O,rn,lt,ut,Pt);return function ns(D){const T=(0,oe.m9)(D);T._initializePromise||(T._initializePromise=T._storageCache.loadFromStorage().then(()=>{T._isInitializationComplete=!0}))}(Us),Us},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(en,"0.4.4"),(0,ie.registerVersion)(en,"0.4.4","esm2017")}();const Ms="/firebase-messaging-sw.js",So="/firebase-cloud-messaging-push-scope",Ao="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hp="https://fcmregistrations.googleapis.com/v1",ec="google.c.a.c_id",fp="google.c.a.c_l",pp="google.c.a.ts",na="google.c.a.e";var Wi=(()=>{return(D=Wi||(Wi={})).PUSH_RECEIVED="push-received",D.NOTIFICATION_CLICKED="notification-clicked",Wi;var D})();function Qs(D){const T=new Uint8Array(D);return btoa(String.fromCharCode(...T)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function gp(D){const M=(D+"=".repeat((4-D.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),O=atob(M),z=new Uint8Array(O.length);for(let J=0;J<O.length;++J)z[J]=O.charCodeAt(J);return z}const Qa="fcm_token_details_db",oi=5,tc="fcm_token_object_Store";function Mo(){return Mo=(0,G.Z)(function*(D){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(J=>J.name).includes(Qa))return null;let T=null;return(yield(0,ve.X3)(Qa,oi,{upgrade:(O=(0,G.Z)(function*(z,J,Ce,nt){var ut;if(J<2||!z.objectStoreNames.contains(tc))return;const lt=nt.objectStore(tc),Pt=yield lt.index("fcmSenderId").get(D);if(yield lt.clear(),Pt)if(2===J){const yt=Pt;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;T={token:yt.fcmToken,createTime:null!==(ut=yt.createTime)&&void 0!==ut?ut:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:Qs(yt.vapidKey)}}}else if(3===J){const yt=Pt;T={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Qs(yt.auth),p256dh:Qs(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Qs(yt.vapidKey)}}}else if(4===J){const yt=Pt;T={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Qs(yt.auth),p256dh:Qs(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Qs(yt.vapidKey)}}}}),function(J,Ce,nt,ut){return O.apply(this,arguments)})})).close(),yield(0,ve.Lj)(Qa),yield(0,ve.Lj)("fcm_vapid_details_db"),yield(0,ve.Lj)("undefined"),function rc(D){if(!D||!D.subscriptionOptions)return!1;const{subscriptionOptions:T}=D;return"number"==typeof D.createTime&&D.createTime>0&&"string"==typeof D.token&&D.token.length>0&&"string"==typeof T.auth&&T.auth.length>0&&"string"==typeof T.p256dh&&T.p256dh.length>0&&"string"==typeof T.endpoint&&T.endpoint.length>0&&"string"==typeof T.swScope&&T.swScope.length>0&&"string"==typeof T.vapidKey&&T.vapidKey.length>0}(T)?T:null;var O}),Mo.apply(this,arguments)}const jd="firebase-messaging-database",mp=1,ai="firebase-messaging-store";let Xa=null;function Xs(){return Xa||(Xa=(0,ve.X3)(jd,mp,{upgrade:(D,T)=>{0===T&&D.createObjectStore(ai)}})),Xa}function ra(D){return Js.apply(this,arguments)}function Js(){return Js=(0,G.Z)(function*(D){const T=ss(D),O=yield(yield Xs()).transaction(ai).objectStore(ai).get(T);if(O)return O;{const z=yield function nc(D){return Mo.apply(this,arguments)}(D.appConfig.senderId);if(z)return yield ia(D,z),z}}),Js.apply(this,arguments)}function ia(D,T){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,G.Z)(function*(D,T){const M=ss(D),z=(yield Xs()).transaction(ai,"readwrite");return yield z.objectStore(ai).put(T,M),yield z.done,T})).apply(this,arguments)}function nl(){return(nl=(0,G.Z)(function*(D){const T=ss(D),O=(yield Xs()).transaction(ai,"readwrite");yield O.objectStore(ai).delete(T),yield O.done})).apply(this,arguments)}function ss({appConfig:D}){return D.appId}const nn=new oe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function il(D,T){return xo.apply(this,arguments)}function xo(){return(xo=(0,G.Z)(function*(D,T){const M=yield oa(D),O=mr(T),z={method:"POST",headers:M,body:JSON.stringify(O)};let J;try{J=yield(yield fetch(sl(D.appConfig),z)).json()}catch(Ce){throw nn.create("token-subscribe-failed",{errorInfo:Ce?.toString()})}if(J.error)throw nn.create("token-subscribe-failed",{errorInfo:J.error.message});if(!J.token)throw nn.create("token-subscribe-no-token");return J.token})).apply(this,arguments)}function sa(){return(sa=(0,G.Z)(function*(D,T){const M=yield oa(D),O=mr(T.subscriptionOptions),z={method:"PATCH",headers:M,body:JSON.stringify(O)};let J;try{J=yield(yield fetch(`${sl(D.appConfig)}/${T.token}`,z)).json()}catch(Ce){throw nn.create("token-update-failed",{errorInfo:Ce?.toString()})}if(J.error)throw nn.create("token-update-failed",{errorInfo:J.error.message});if(!J.token)throw nn.create("token-update-no-token");return J.token})).apply(this,arguments)}function xs(D,T){return nr.apply(this,arguments)}function nr(){return(nr=(0,G.Z)(function*(D,T){const O={method:"DELETE",headers:yield oa(D)};try{const J=yield(yield fetch(`${sl(D.appConfig)}/${T}`,O)).json();if(J.error)throw nn.create("token-unsubscribe-failed",{errorInfo:J.error.message})}catch(z){throw nn.create("token-unsubscribe-failed",{errorInfo:z?.toString()})}})).apply(this,arguments)}function sl({projectId:D}){return`${hp}/projects/${D}/registrations`}function oa(D){return Di.apply(this,arguments)}function Di(){return(Di=(0,G.Z)(function*({appConfig:D,installations:T}){const M=yield T.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":D.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function mr({p256dh:D,auth:T,endpoint:M,vapidKey:O}){const z={web:{endpoint:M,auth:T,p256dh:D}};return O!==Ao&&(z.web.applicationPubKey=O),z}const tu=6048e5;function ru(){return ru=(0,G.Z)(function*(D){const T=yield function Hd(D,T){return aa.apply(this,arguments)}(D.swRegistration,D.vapidKey),M={vapidKey:D.vapidKey,swScope:D.swRegistration.scope,endpoint:T.endpoint,auth:Qs(T.getKey("auth")),p256dh:Qs(T.getKey("p256dh"))},O=yield ra(D.firebaseDependencies);if(O){if(function Gd(D,T){return T.vapidKey===D.vapidKey&&T.endpoint===D.endpoint&&T.auth===D.auth&&T.p256dh===D.p256dh}(O.subscriptionOptions,M))return Date.now()>=O.createTime+tu?function ol(D,T){return Et.apply(this,arguments)}(D,{token:O.token,createTime:Date.now(),subscriptionOptions:M}):O.token;try{yield xs(D.firebaseDependencies,O.token)}catch(z){console.warn(z)}return al(D.firebaseDependencies,M)}return al(D.firebaseDependencies,M)}),ru.apply(this,arguments)}function Ro(){return Ro=(0,G.Z)(function*(D){const T=yield ra(D.firebaseDependencies);T&&(yield xs(D.firebaseDependencies,T.token),yield function eu(D){return nl.apply(this,arguments)}(D.firebaseDependencies));const M=yield D.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Ro.apply(this,arguments)}function Et(){return Et=(0,G.Z)(function*(D,T){try{const M=yield function xn(D,T){return sa.apply(this,arguments)}(D.firebaseDependencies,T),O=Object.assign(Object.assign({},T),{token:M,createTime:Date.now()});return yield ia(D.firebaseDependencies,O),M}catch(M){throw yield function os(D){return Ro.apply(this,arguments)}(D),M}}),Et.apply(this,arguments)}function al(D,T){return iu.apply(this,arguments)}function iu(){return(iu=(0,G.Z)(function*(D,T){const O={token:yield il(D,T),createTime:Date.now(),subscriptionOptions:T};return yield ia(D,O),O.token})).apply(this,arguments)}function aa(){return(aa=(0,G.Z)(function*(D,T){return(yield D.pushManager.getSubscription())||D.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:gp(T)})})).apply(this,arguments)}function su(D){const T={from:D.from,collapseKey:D.collapse_key,messageId:D.fcmMessageId};return function Wd(D,T){if(!T.notification)return;D.notification={};const M=T.notification.title;M&&(D.notification.title=M);const O=T.notification.body;O&&(D.notification.body=O);const z=T.notification.image;z&&(D.notification.image=z);const J=T.notification.icon;J&&(D.notification.icon=J)}(T,D),function Rn(D,T){T.data&&(D.data=T.data)}(T,D),function we(D,T){var M,O,z,J,Ce;if(!(T.fcmOptions||null!==(M=T.notification)&&void 0!==M&&M.click_action))return;D.fcmOptions={};const nt=null!==(z=null===(O=T.fcmOptions)||void 0===O?void 0:O.link)&&void 0!==z?z:null===(J=T.notification)||void 0===J?void 0:J.click_action;nt&&(D.fcmOptions.link=nt);const ut=null===(Ce=T.fcmOptions)||void 0===Ce?void 0:Ce.analytics_label;ut&&(D.fcmOptions.analyticsLabel=ut)}(T,D),T}function zd(D,T){const M=[];for(let O=0;O<D.length;O++)M.push(D.charAt(O)),O<T.length&&M.push(T.charAt(O));return M.join("")}function zn(D){return nn.create("missing-app-config-values",{valueName:D})}zd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),zd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ul{constructor(T,M,O){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const z=function ic(D){if(!D||!D.options)throw zn("App Configuration Object");if(!D.name)throw zn("App Name");const T=["projectId","apiKey","appId","messagingSenderId"],{options:M}=D;for(const O of T)if(!M[O])throw zn(O);return{appName:D.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(T);this.firebaseDependencies={app:T,appConfig:z,installations:M,analyticsProvider:O}}_delete(){return Promise.resolve()}}function No(D){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,G.Z)(function*(D){try{D.swRegistration=yield navigator.serviceWorker.register(Ms,{scope:So}),D.swRegistration.update().catch(()=>{})}catch(T){throw nn.create("failed-service-worker-registration",{browserErrorMessage:T?.message})}})).apply(this,arguments)}function Po(){return(Po=(0,G.Z)(function*(D,T){if(!T&&!D.swRegistration&&(yield No(D)),T||!D.swRegistration){if(!(T instanceof ServiceWorkerRegistration))throw nn.create("invalid-sw-registration");D.swRegistration=T}})).apply(this,arguments)}function ou(){return(ou=(0,G.Z)(function*(D,T){T?D.vapidKey=T:D.vapidKey||(D.vapidKey=Ao)})).apply(this,arguments)}function Nn(){return Nn=(0,G.Z)(function*(D,T){if(!navigator)throw nn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw nn.create("permission-blocked");return yield function oc(D,T){return ou.apply(this,arguments)}(D,T?.vapidKey),yield function sc(D,T){return Po.apply(this,arguments)}(D,T?.serviceWorkerRegistration),function nu(D){return ru.apply(this,arguments)}(D)}),Nn.apply(this,arguments)}function ua(){return(ua=(0,G.Z)(function*(D,T,M){const O=function la(D){switch(D){case Wi.NOTIFICATION_CLICKED:return"notification_open";case Wi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(T);(yield D.firebaseDependencies.analyticsProvider.get()).logEvent(O,{message_id:M[ec],message_name:M[fp],message_time:M[pp],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ca(){return ca=(0,G.Z)(function*(D,T){const M=T.data;if(!M.isFirebaseMessaging)return;D.onMessageHandler&&M.messageType===Wi.PUSH_RECEIVED&&("function"==typeof D.onMessageHandler?D.onMessageHandler(su(M)):D.onMessageHandler.next(su(M)));const O=M.data;(function Xt(D){return"object"==typeof D&&!!D&&ec in D})(O)&&"1"===O[na]&&(yield function Yr(D,T,M){return ua.apply(this,arguments)}(D,M.messageType,O))}),ca.apply(this,arguments)}const au="@firebase/messaging",Oo=D=>{const T=new ul(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),D.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function zi(D,T){return ca.apply(this,arguments)}(T,M)),T},da=D=>{const T=D.getProvider("messaging").getImmediate();return{getToken:O=>function ll(D,T){return Nn.apply(this,arguments)}(T,O)}};function uc(){return uu.apply(this,arguments)}function uu(){return(uu=(0,G.Z)(function*(){try{yield(0,oe.eu)()}catch{return!1}return typeof window<"u"&&(0,oe.hl)()&&(0,oe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ac(){(0,ie._registerComponent)(new ae.wA("messaging",Oo,"PUBLIC")),(0,ie._registerComponent)(new ae.wA("messaging-internal",da,"PRIVATE")),(0,ie.registerVersion)(au,"0.12.4"),(0,ie.registerVersion)(au,"0.12.4","esm2017")}();const cc="analytics",Ep="firebase_id",rr="origin",ui=6e4,vn="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zd="https://www.googletagmanager.com/gtag/js",yr=new Pe.Yd("@firebase/analytics");function Qd(D){return Promise.all(D.map(T=>T.catch(M=>M)))}function ha(){return(ha=(0,G.Z)(function*(D,T,M,O,z,J){const Ce=O[z];try{if(Ce)yield T[Ce];else{const ut=(yield Qd(M)).find(lt=>lt.measurementId===z);ut&&(yield T[ut.appId])}}catch(nt){yr.error(nt)}D("config",z,J)})).apply(this,arguments)}function eo(){return(eo=(0,G.Z)(function*(D,T,M,O,z){try{let J=[];if(z&&z.send_to){let Ce=z.send_to;Array.isArray(Ce)||(Ce=[Ce]);const nt=yield Qd(M);for(const ut of Ce){const lt=nt.find(yt=>yt.measurementId===ut),Pt=lt&&T[lt.appId];if(!Pt){J=[];break}J.push(Pt)}}0===J.length&&(J=Object.values(T)),yield Promise.all(J),D("event",O,z||{})}catch(J){yr.error(J)}})).apply(this,arguments)}const qn=new oe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jd=30,eh=new class dl{constructor(T={},M=1e3){this.throttleMetadata=T,this.intervalMillis=M}getThrottleMetadata(T){return this.throttleMetadata[T]}setThrottleMetadata(T,M){this.throttleMetadata[T]=M}deleteThrottleMetadata(T){delete this.throttleMetadata[T]}};function pa(D){return new Headers({Accept:"application/json","x-goog-api-key":D})}function En(){return(En=(0,G.Z)(function*(D){var T;const{appId:M,apiKey:O}=D,z={method:"GET",headers:pa(O)},J=vn.replace("{app-id}",M),Ce=yield fetch(J,z);if(200!==Ce.status&&304!==Ce.status){let nt="";try{const ut=yield Ce.json();null!==(T=ut.error)&&void 0!==T&&T.message&&(nt=ut.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:Ce.status,responseMessage:nt})}return Ce.json()})).apply(this,arguments)}function Ns(){return(Ns=(0,G.Z)(function*(D,T=eh,M){const{appId:O,apiKey:z,measurementId:J}=D.options;if(!O)throw qn.create("no-app-id");if(!z){if(J)return{measurementId:J,appId:O};throw qn.create("no-api-key")}const Ce=T.getThrottleMetadata(O)||{backoffCount:0,throttleEndTimeMillis:Date.now()},nt=new cu;return setTimeout((0,G.Z)(function*(){nt.abort()}),void 0!==M?M:ui),to({appId:O,apiKey:z,measurementId:J},Ce,nt,T)})).apply(this,arguments)}function to(D,T,M){return Ps.apply(this,arguments)}function Ps(){return Ps=(0,G.Z)(function*(D,{throttleEndTimeMillis:T,backoffCount:M},O,z=eh){var J;const{appId:Ce,measurementId:nt}=D;try{yield function no(D,T){return new Promise((M,O)=>{const z=Math.max(T-Date.now(),0),J=setTimeout(M,z);D.addEventListener(()=>{clearTimeout(J),O(qn.create("fetch-throttle",{throttleEndTimeMillis:T}))})})}(O,T)}catch(ut){if(nt)return yr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:Ce,measurementId:nt};throw ut}try{const ut=yield function lu(D){return En.apply(this,arguments)}(D);return z.deleteThrottleMetadata(Ce),ut}catch(ut){const lt=ut;if(!function hl(D){if(!(D instanceof oe.ZR&&D.customData))return!1;const T=Number(D.customData.httpStatus);return 429===T||500===T||503===T||504===T}(lt)){if(z.deleteThrottleMetadata(Ce),nt)return yr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${nt} provided in the "measurementId" field in the local Firebase config. [${lt?.message}]`),{appId:Ce,measurementId:nt};throw ut}const Pt=503===Number(null===(J=lt?.customData)||void 0===J?void 0:J.httpStatus)?(0,oe.$s)(M,z.intervalMillis,Jd):(0,oe.$s)(M,z.intervalMillis),yt={throttleEndTimeMillis:Date.now()+Pt,backoffCount:M+1};return z.setThrottleMetadata(Ce,yt),yr.debug(`Calling attemptFetch again in ${Pt} millis`),to(D,yt,O,z)}}),Ps.apply(this,arguments)}class cu{constructor(){this.listeners=[]}addEventListener(T){this.listeners.push(T)}abort(){this.listeners.forEach(T=>T())}}let Lo,ks;function ro(){return(ro=(0,G.Z)(function*(D,T,M,O,z){if(z&&z.global)D("event",M,O);else{const J=yield T;D("event",M,Object.assign(Object.assign({},O),{send_to:J}))}})).apply(this,arguments)}function oo(){return(oo=(0,G.Z)(function*(){if(!(0,oe.hl)())return yr.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,oe.eu)()}catch(D){return yr.warn(qn.create("indexeddb-unavailable",{errorInfo:D?.toString()}).message),!1}return!0})).apply(this,arguments)}function ya(){return ya=(0,G.Z)(function*(D,T,M,O,z,J,Ce){var nt;const ut=function th(D){return Ns.apply(this,arguments)}(D);ut.then(rn=>{M[rn.measurementId]=rn.appId,D.options.measurementId&&rn.measurementId!==D.options.measurementId&&yr.warn(`The measurement ID in the local Firebase config (${D.options.measurementId}) does not match the measurement ID fetched from the server (${rn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(rn=>yr.error(rn)),T.push(ut);const lt=function fu(){return oo.apply(this,arguments)}().then(rn=>{if(rn)return O.getId()}),[Pt,yt]=yield Promise.all([ut,lt]);(function Xd(D){const T=window.document.getElementsByTagName("script");for(const M of Object.values(T))if(M.src&&M.src.includes(Zd)&&M.src.includes(D))return M;return null})(J)||function wp(D,T){const M=document.createElement("script");M.src=`${Zd}?l=${D}&id=${T}`,M.async=!0,document.head.appendChild(M)}(J,Pt.measurementId),ks&&(z("consent","default",ks),function ma(D){ks=D}(void 0)),z("js",new Date);const _r=null!==(nt=Ce?.config)&&void 0!==nt?nt:{};return _r[rr]="firebase",_r.update=!0,null!=yt&&(_r[Ep]=yt),z("config",Pt.measurementId,_r),Lo&&(z("set",Lo),function fl(D){Lo=D}(void 0)),Pt.measurementId}),ya.apply(this,arguments)}class pc{constructor(T){this.app=T}_delete(){return delete ci[this.app.options.appId],Promise.resolve()}}let ci={},pl=[];const _a={};let gl,di,ao="dataLayer",uo="gtag",pu=!1;function Ea(D,T,M){!function rh(){const D=[];if((0,oe.ru)()&&D.push("This is a browser extension environment."),(0,oe.zI)()||D.push("Cookies are not available."),D.length>0){const T=D.map((O,z)=>`(${z+1}) ${O}`).join(" "),M=qn.create("invalid-analytics-context",{errorInfo:T});yr.warn(M.message)}}();const O=D.options.appId;if(!O)throw qn.create("no-app-id");if(!D.options.apiKey){if(!D.options.measurementId)throw qn.create("no-api-key");yr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${D.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ci[O])throw qn.create("already-exists",{id:O});if(!pu){!function dc(D){let T=[];Array.isArray(window[D])?T=window[D]:window[D]=T}(ao);const{wrappedGtag:J,gtagCore:Ce}=function Fo(D,T,M,O,z){let J=function(...Ce){window[O].push(arguments)};return window[z]&&"function"==typeof window[z]&&(J=window[z]),window[z]=function fa(D,T,M,O){function J(){return J=(0,G.Z)(function*(Ce,nt,ut){try{"event"===Ce?yield function ko(D,T,M,O,z){return eo.apply(this,arguments)}(D,T,M,nt,ut):"config"===Ce?yield function hc(D,T,M,O,z,J){return ha.apply(this,arguments)}(D,T,M,O,nt,ut):"consent"===Ce?D("consent","update",ut):D("set",nt)}catch(lt){yr.error(lt)}}),J.apply(this,arguments)}return function z(Ce,nt,ut){return J.apply(this,arguments)}}(J,D,T,M),{gtagCore:J,wrappedGtag:window[z]}}(ci,pl,_a,ao,uo);di=J,gl=Ce,pu=!0}return ci[O]=function nh(D,T,M,O,z,J,Ce){return ya.apply(this,arguments)}(D,pl,_a,T,gl,ao,M),new pc(D)}function ml(){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,G.Z)(function*(){if((0,oe.ru)()||!(0,oe.zI)()||!(0,oe.hl)())return!1;try{return yield(0,oe.eu)()}catch{return!1}})).apply(this,arguments)}const bi="@firebase/analytics";!function _c(){(0,ie._registerComponent)(new ae.wA(cc,(T,{options:M})=>Ea(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ie._registerComponent)(new ae.wA("analytics-internal",function D(T){try{const M=T.getProvider(cc).getImmediate();return{logEvent:(O,z,J)=>function us(D,T,M,O){D=(0,oe.m9)(D),function du(D,T,M,O,z){return ro.apply(this,arguments)}(di,ci[D.app.options.appId],T,M,O).catch(z=>yr.error(z))}(M,O,z,J)}}catch(M){throw qn.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ie.registerVersion)(bi,"0.9.4"),(0,ie.registerVersion)(bi,"0.9.4","esm2017")}();var vc=F(727);class yl extends vc.w0{constructor(T,M){super()}schedule(T,M=0){return this}}const Da={setInterval(D,T,...M){const{delegate:O}=Da;return O?.setInterval?O.setInterval(D,T,...M):setInterval(D,T,...M)},clearInterval(D){const{delegate:T}=Da;return(T?.clearInterval||clearInterval)(D)},delegate:void 0};var ih=F(8737);class bp extends yl{constructor(T,M){super(T,M),this.scheduler=T,this.work=M,this.pending=!1}schedule(T,M=0){var O;if(this.closed)return this;this.state=T;const z=this.id,J=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(J,z,M)),this.pending=!0,this.delay=M,this.id=null!==(O=this.id)&&void 0!==O?O:this.requestAsyncId(J,this.id,M),this}requestAsyncId(T,M,O=0){return Da.setInterval(T.flush.bind(T,this),O)}recycleAsyncId(T,M,O=0){if(null!=O&&this.delay===O&&!1===this.pending)return M;null!=M&&Da.clearInterval(M)}execute(T,M){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const O=this._execute(T,M);if(O)return O;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(T,M){let z,O=!1;try{this.work(T)}catch(J){O=!0,z=J||new Error("Scheduled action threw falsy error")}if(O)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:T,scheduler:M}=this,{actions:O}=M;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ih.P)(O,this),null!=T&&(this.id=this.recycleAsyncId(M,T,null)),this.delay=null,super.unsubscribe()}}}var gu=F(6063);class ls{constructor(T,M=ls.now){this.schedulerActionCtor=T,this.now=M}schedule(T,M=0,O){return new this.schedulerActionCtor(this,T).schedule(O,M)}}ls.now=gu.l.now;class wc extends ls{constructor(T,M=ls.now){super(T,M),this.actions=[],this._active=!1}flush(T){const{actions:M}=this;if(this._active)return void M.push(T);let O;this._active=!0;do{if(O=T.execute(T.state,T.delay))break}while(T=M.shift());if(this._active=!1,O){for(;T=M.shift();)T.unsubscribe();throw O}}}const Ic=new class Kn extends wc{}(class Ec extends bp{constructor(T,M){super(T,M),this.scheduler=T,this.work=M}schedule(T,M=0){return M>0?super.schedule(T,M):(this.delay=M,this.state=T,this.scheduler.flush(this),this)}execute(T,M){return M>0||this.closed?super.execute(T,M):this._execute(T,M)}requestAsyncId(T,M,O=0){return null!=O&&O>0||null==O&&this.delay>0?super.requestAsyncId(T,M,O):(T.flush(this),0)}}),Cc=new wc(bp);var lo=F(9751),sh=F(8505),Uo=F(9468),ba=F(5363);const Dc=new g.GfV("7.5.0"),oh="__angularfire_symbol__analyticsIsSupportedValue",Ta="__angularfire_symbol__analyticsIsSupported",_l="__angularfire_symbol__remoteConfigIsSupportedValue",qt="__angularfire_symbol__remoteConfigIsSupported",Br="__angularfire_symbol__messagingIsSupportedValue",it="__angularfire_symbol__messagingIsSupported";function Fs(D,T,M){if(T){if(1===T.length)return T[0];const J=T.filter(Ce=>Ce.app===M);if(1===J.length)return J[0]}return M.container.getProvider(D).getImmediate({optional:!0})}globalThis[Ta]||(globalThis[Ta]=ml().then(D=>globalThis[oh]=D).catch(()=>globalThis[oh]=!1)),globalThis[it]||(globalThis[it]=uc().then(D=>globalThis[Br]=D).catch(()=>globalThis[Br]=!1)),globalThis[qt]||(globalThis[qt]=Gi().then(D=>globalThis[_l]=D).catch(()=>globalThis[_l]=!1));const Tc=(D,T)=>{const M=T?[T]:(0,V.C6)(),O=[];return M.forEach(z=>{z.container.getProvider(D).instances.forEach(Ce=>{O.includes(Ce)||O.push(Ce)})}),O};function co(){}class vl{constructor(T,M=Ic){this.zone=T,this.delegate=M}now(){return this.delegate.now()}schedule(T,M,O){const z=this.zone;return this.delegate.schedule(function(Ce){z.runGuarded(()=>{T.apply(this,[Ce])})},M,O)}}class El{constructor(T){this.zone=T,this.task=null}call(T,M){const O=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)),M.pipe((0,sh.b)({next:O,complete:O,error:O})).subscribe(T).add(O)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Aa=(()=>{class D{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new vl(Zone.current)),this.insideAngular=M.run(()=>new vl(Zone.current,Cc)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return D.\u0275fac=function(M){return new(M||D)(g.LFG(g.R0b))},D.\u0275prov=g.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();function Si(){const D=globalThis.\u0275AngularFireScheduler;if(!D)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return D}function bt(D){return Si().ngZone.run(()=>D())}function yu(D){return Si(),function Vs(D){return function(M){return(M=M.lift(new El(D.ngZone))).pipe((0,Uo.R)(D.outsideAngular),(0,ba.Q)(D.insideAngular))}}(Si())(D)}const ir=(D,T)=>function(){const O=arguments;return T&&setTimeout(()=>{"scheduled"===T.state&&T.invoke()},10),bt(()=>D.apply(void 0,O))},_u=(D,T)=>function(){let M;const O=arguments;for(let J=0;J<arguments.length;J++)"function"==typeof O[J]&&(T&&(M||(M=bt(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",co,{},co,co)))),O[J]=ir(O[J],M));const z=function Ls(D){return Si().ngZone.runOutsideAngular(()=>D())}(()=>D.apply(this,O));if(!T){if(z instanceof lo.y){const J=Si();return z.pipe((0,Uo.R)(J.outsideAngular),(0,ba.Q)(J.insideAngular))}return bt(()=>z)}return z instanceof lo.y?z.pipe(yu):z instanceof Promise?bt(()=>new Promise((J,Ce)=>z.then(nt=>bt(()=>J(nt)),nt=>bt(()=>Ce(nt))))):"function"==typeof z&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),z.apply(this,arguments)}:bt(()=>z)}},5114:(pt,Ae,F)=>{F.d(Ae,{$:()=>sl,A:()=>j,B:()=>Ie,G:()=>Qu,H:()=>qr,J:()=>Mt,L:()=>Gn,M:()=>ta,N:()=>hp,P:()=>gu,Q:()=>ec,R:()=>Cp,T:()=>fp,U:()=>Ao,V:()=>Wi,W:()=>Qs,X:()=>nc,Y:()=>rl,Z:()=>il,_:()=>xn,a:()=>fc,a0:()=>nu,a1:()=>os,a2:()=>ol,a3:()=>al,a4:()=>Hd,a5:()=>Gd,a6:()=>Wd,a7:()=>Rn,a8:()=>Xt,a9:()=>zd,aA:()=>B,aB:()=>D,aC:()=>Tc,aD:()=>Fs,aE:()=>fr,aI:()=>pa,aL:()=>na,aa:()=>No,ab:()=>sc,ac:()=>oc,af:()=>Yr,ag:()=>la,ah:()=>zi,ak:()=>ai,al:()=>cl,an:()=>Zd,ao:()=>ha,ap:()=>he,aq:()=>An,ar:()=>ln,as:()=>Me,at:()=>ch,au:()=>lt,av:()=>$t,aw:()=>be,ax:()=>Y,ay:()=>J,az:()=>Be,b:()=>qn,c:()=>sh,d:()=>oh,e:()=>ba,f:()=>El,g:()=>Tp,h:()=>Ls,i:()=>oo,j:()=>ir,k:()=>dh,l:()=>gn,m:()=>Rr,n:()=>Np,o:()=>ve,r:()=>vc,s:()=>Dp,u:()=>bp});var g=F(5861),V=F(2090),G=F(9681),ie=F(1877),oe=F(655),ae=F(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},j={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ie=function K(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},je=function Ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_e=new ie.Yd("@firebase/auth");function me(E,...p){_e.logLevel<=ie.in.ERROR&&_e.error(`Auth (${G.SDK_VERSION}): ${E}`,...p)}function Me(E,...p){throw Ue(E,...p)}function be(E,...p){return Ue(E,...p)}function Te(E,p,m){const I=Object.assign(Object.assign({},je()),{[p]:m});return new V.LL("auth","Firebase",I).create(p,{appName:E.name})}function Ee(E,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Me(E,"argument-error"),Te(E,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ue(E,...p){if("string"!=typeof E){const m=p[0],I=[...p.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(m,...I)}return rt.create(E,...p)}function Y(E,p,...m){if(!E)throw Ue(p,...m)}function ne(E){const p="INTERNAL ASSERTION FAILED: "+E;throw me(p),new Error(p)}function he(E,p){E||ne(p)}const He=new Map;function Be(E){he(E instanceof Function,"Expected a class definition");let p=He.get(E);return p?(he(p instanceof E,"Instance stored in cache mismatched with class"),p):(p=new E,He.set(E,p),p)}function te(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function ue(){return"http:"===pe()||"https:"===pe()}function pe(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Fe{constructor(p,m){this.shortDelay=p,this.longDelay=m,he(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Se(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ue()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Xe(E,p){he(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class ze{static initialize(p,m,I){this.fetchImpl=p,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ne("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ne("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ne("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},gt=new Fe(3e4,6e4);function vt(E,p){return E.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:E.tenantId}):p}function tt(E,p,m,I){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(E,p,m,I,x={}){return Un(E,x,(0,g.Z)(function*(){let P={},Z={};I&&("GET"===p?Z=I:P={body:JSON.stringify(I)});const ye=(0,V.xO)(Object.assign({key:E.config.apiKey},Z)).slice(1),Ye=yield E._getAdditionalHeaders();return Ye["Content-Type"]="application/json",E.languageCode&&(Ye["X-Firebase-Locale"]=E.languageCode),ze.fetch()(ii(E,E.config.apiHost,m,ye),Object.assign({method:p,headers:Ye,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Un(E,p,m){return fn.apply(this,arguments)}function fn(){return(fn=(0,g.Z)(function*(E,p,m){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},sn),p);try{const x=new Ys(E),P=yield Promise.race([m(),x.promise]);x.clearNetworkTimeout();const Z=yield P.json();if("needConfirmation"in Z)throw cr(E,"account-exists-with-different-credential",Z);if(P.ok&&!("errorMessage"in Z))return Z;{const ye=P.ok?Z.errorMessage:Z.error.message,[Ye,dt]=ye.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ye)throw cr(E,"credential-already-in-use",Z);if("EMAIL_EXISTS"===Ye)throw cr(E,"email-already-in-use",Z);if("USER_DISABLED"===Ye)throw cr(E,"user-disabled",Z);const Tt=I[Ye]||Ye.toLowerCase().replace(/[_\s]+/g,"-");if(dt)throw Te(E,Tt,dt);Me(E,Tt)}}catch(x){if(x instanceof V.ZR)throw x;Me(E,"internal-error",{message:String(x)})}})).apply(this,arguments)}function on(E,p,m,I){return lr.apply(this,arguments)}function lr(){return(lr=(0,g.Z)(function*(E,p,m,I,x={}){const P=yield tt(E,p,m,I,x);return"mfaPendingCredential"in P&&Me(E,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function ii(E,p,m,I){const x=`${p}${m}?${I}`;return E.config.emulator?Xe(E.config,x):`${E.config.apiScheme}://${x}`}class Ys{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(be(this.auth,"network-request-failed")),gt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function cr(E,p,m){const I={appName:E.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const x=be(E,p,I);return x.customData._tokenResponse=m,x}function Fi(){return(Fi=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function br(){return(br=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Li(){return(Li=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function zr(E){if(E)try{const p=new Date(Number(E));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Vi(){return(Vi=(0,g.Z)(function*(E,p=!1){const m=(0,V.m9)(E),I=yield m.getIdToken(p),x=at(I);Y(x&&x.exp&&x.auth_time&&x.iat,m.auth,"internal-error");const P="object"==typeof x.firebase?x.firebase:void 0,Z=P?.sign_in_provider;return{claims:x,token:I,authTime:zr(St(x.auth_time)),issuedAtTime:zr(St(x.iat)),expirationTime:zr(St(x.exp)),signInProvider:Z||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function St(E){return 1e3*Number(E)}function at(E){const[p,m,I]=E.split(".");if(void 0===p||void 0===m||void 0===I)return me("JWT malformed, contained fewer than 3 sections"),null;try{const x=(0,V.tV)(m);return x?JSON.parse(x):(me("Failed to decode base64 JWT payload"),null)}catch(x){return me("Caught error parsing JWT payload as JSON",x?.toString()),null}}function Tr(E,p){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*(E,p,m=!1){if(m)return p;try{return yield p}catch(I){throw I instanceof V.ZR&&function Jn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}class Sr{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const x=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,x)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(p);this.timerId=setTimeout((0,g.Z)(function*(){yield m.iteration()}),I)}iteration(){var p=this;return(0,g.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class hr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=zr(this.lastLoginAt),this.creationTime=zr(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Is(E){return mn.apply(this,arguments)}function mn(){return mn=(0,g.Z)(function*(E){var p;const m=E.auth,I=yield E.getIdToken(),x=yield Tr(E,function ct(E,p){return Li.apply(this,arguments)}(m,{idToken:I}));Y(x?.users.length,m,"internal-error");const P=x.users[0];E._notifyReloadListener(P);const Z=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?function Ui(E){return E.map(p=>{var{providerId:m}=p,I=(0,oe._T)(p,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(P.providerUserInfo):[],ye=function si(E,p){return[...E.filter(I=>!p.some(x=>x.providerId===I.providerId)),...p]}(E.providerData,Z),Tt=!!E.isAnonymous&&!(E.email&&P.passwordHash||ye?.length),yn={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ye,metadata:new hr(P.createdAt,P.lastLoginAt),isAnonymous:Tt};Object.assign(E,yn)}),mn.apply(this,arguments)}function jt(){return(jt=(0,g.Z)(function*(E){const p=(0,V.m9)(E);yield Is(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ge(){return(ge=(0,g.Z)(function*(E,p){const m=yield Un(E,{},(0,g.Z)(function*(){const I=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:x,apiKey:P}=E.config,Z=ii(E,x,"/v1/token",`key=${P}`),ye=yield E._getAdditionalHeaders();return ye["Content-Type"]="application/x-www-form-urlencoded",ze.fetch()(Z,{method:"POST",headers:ye,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class et{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){Y(p.idToken,"internal-error"),Y(typeof p.idToken<"u","internal-error"),Y(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Dt(E){const p=at(E);return Y(p,"internal-error"),Y(typeof p.exp<"u","internal-error"),Y(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var I=this;return(0,g.Z)(function*(){return Y(!I.accessToken||I.refreshToken,p,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(p,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var I=this;return(0,g.Z)(function*(){const{accessToken:x,refreshToken:P,expiresIn:Z}=yield function $e(E,p){return ge.apply(this,arguments)}(p,m);I.updateTokensAndExpiration(x,P,Number(Z))})()}updateTokensAndExpiration(p,m,I){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(p,m){const{refreshToken:I,accessToken:x,expirationTime:P}=m,Z=new et;return I&&(Y("string"==typeof I,"internal-error",{appName:p}),Z.refreshToken=I),x&&(Y("string"==typeof x,"internal-error",{appName:p}),Z.accessToken=x),P&&(Y("number"==typeof P,"internal-error",{appName:p}),Z.expirationTime=P),Z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new et,this.toJSON())}_performRefresh(){return ne("not implemented")}}function mt(E,p){Y("string"==typeof E||typeof E>"u","internal-error",{appName:p})}class At{constructor(p){var{uid:m,auth:I,stsTokenManager:x}=p,P=(0,oe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=x,this.accessToken=x.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new hr(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,g.Z)(function*(){const I=yield Tr(m,m.stsTokenManager.getToken(m.auth,p));return Y(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(p){return function dr(E){return Vi.apply(this,arguments)}(this,p)}reload(){return function Cs(E){return jt.apply(this,arguments)}(this)}_assign(p){this!==p&&(Y(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const m=new At(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(p){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var I=this;return(0,g.Z)(function*(){let x=!1;p.idToken&&p.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(p),x=!0),m&&(yield Is(I)),yield I.auth._persistUserIfCurrent(I),x&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var p=this;return(0,g.Z)(function*(){const m=yield p.getIdToken();return yield Tr(p,function ki(E,p){return Fi.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var I,x,P,Z,ye,Ye,dt,Tt;const yn=null!==(I=m.displayName)&&void 0!==I?I:void 0,hs=null!==(x=m.email)&&void 0!==x?x:void 0,Ai=null!==(P=m.phoneNumber)&&void 0!==P?P:void 0,Cu=null!==(Z=m.photoURL)&&void 0!==Z?Z:void 0,Il=null!==(ye=m.tenantId)&&void 0!==ye?ye:void 0,fs=null!==(Ye=m._redirectEventId)&&void 0!==Ye?Ye:void 0,Cl=null!==(dt=m.createdAt)&&void 0!==dt?dt:void 0,Ac=null!==(Tt=m.lastLoginAt)&&void 0!==Tt?Tt:void 0,{uid:yh,emailVerified:Mc,isAnonymous:Pp,providerData:Du,stsTokenManager:Op}=m;Y(yh&&Op,p,"internal-error");const Gm=et.fromJSON(this.name,Op);Y("string"==typeof yh,p,"internal-error"),mt(yn,p.name),mt(hs,p.name),Y("boolean"==typeof Mc,p,"internal-error"),Y("boolean"==typeof Pp,p,"internal-error"),mt(Ai,p.name),mt(Cu,p.name),mt(Il,p.name),mt(fs,p.name),mt(Cl,p.name),mt(Ac,p.name);const _h=new At({uid:yh,auth:p,email:hs,emailVerified:Mc,displayName:yn,isAnonymous:Pp,photoURL:Cu,phoneNumber:Ai,tenantId:Il,stsTokenManager:Gm,createdAt:Cl,lastLoginAt:Ac});return Du&&Array.isArray(Du)&&(_h.providerData=Du.map(Wm=>Object.assign({},Wm))),fs&&(_h._redirectEventId=fs),_h}static _fromIdTokenResponse(p,m,I=!1){return(0,g.Z)(function*(){const x=new et;x.updateFromServerResponse(m);const P=new At({uid:m.localId,auth:p,stsTokenManager:x,isAnonymous:I});return yield Is(P),P})()}}const Gn=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(m,I){var x=this;return(0,g.Z)(function*(){x.storage[m]=I})()}_get(m){var I=this;return(0,g.Z)(function*(){const x=I.storage[m];return void 0===x?null:x})()}_remove(m){var I=this;return(0,g.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return E.type="NONE",E})();function B(E,p,m){return`firebase:${E}:${p}:${m}`}class L{constructor(p,m,I){this.persistence=p,this.auth=m,this.userKey=I;const{config:x,name:P}=this.auth;this.fullUserKey=B(this.userKey,x.apiKey,P),this.fullPersistenceKey=B("persistence",x.apiKey,P),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,g.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?At._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,g.Z)(function*(){if(m.persistence===p)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,I="authUser"){return(0,g.Z)(function*(){if(!m.length)return new L(Be(Gn),p,I);const x=(yield Promise.all(m.map(function(){var dt=(0,g.Z)(function*(Tt){if(yield Tt._isAvailable())return Tt});return function(Tt){return dt.apply(this,arguments)}}()))).filter(dt=>dt);let P=x[0]||Be(Gn);const Z=B(I,p.config.apiKey,p.name);let ye=null;for(const dt of m)try{const Tt=yield dt._get(Z);if(Tt){const yn=At._fromJSON(p,Tt);dt!==P&&(ye=yn),P=dt;break}}catch{}const Ye=x.filter(dt=>dt._shouldAllowMigration);return P._shouldAllowMigration&&Ye.length?(P=Ye[0],ye&&(yield P._set(Z,ye.toJSON())),yield Promise.all(m.map(function(){var dt=(0,g.Z)(function*(Tt){if(Tt!==P)try{yield Tt._remove(Z)}catch{}});return function(Tt){return dt.apply(this,arguments)}}())),new L(P,p,I)):new L(P,p,I)})()}}function W(E){const p=E.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ge(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(de(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Bn(p))return"Blackberry";if(Sn(p))return"Webos";if(X(p))return"Safari";if((p.includes("chrome/")||Je(p))&&!p.includes("edge/"))return"Chrome";if(ln(p))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function de(E=(0,V.z$)()){return/firefox\//i.test(E)}function X(E=(0,V.z$)()){const p=E.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Je(E=(0,V.z$)()){return/crios\//i.test(E)}function Ge(E=(0,V.z$)()){return/iemobile/i.test(E)}function ln(E=(0,V.z$)()){return/android/i.test(E)}function Bn(E=(0,V.z$)()){return/blackberry/i.test(E)}function Sn(E=(0,V.z$)()){return/webos/i.test(E)}function An(E=(0,V.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function $t(E=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Qo(E=(0,V.z$)()){return An(E)||ln(E)||Sn(E)||Bn(E)||/windows phone/i.test(E)||Ge(E)}function qa(E,p=[]){let m;switch(E){case"Browser":m=W((0,V.z$)());break;case"Worker":m=`${W((0,V.z$)())}-${E}`;break;default:m=E}const I=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${G.SDK_VERSION}/${I}`}class Zu{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const I=P=>new Promise((Z,ye)=>{try{Z(p(P))}catch(Ye){ye(Ye)}});I.onAbort=m,this.queue.push(I);const x=this.queue.length-1;return()=>{this.queue[x]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,g.Z)(function*(){if(m.auth.currentUser===p)return;const I=[];try{for(const x of m.queue)yield x(p),x.onAbort&&I.push(x.onAbort)}catch(x){I.reverse();for(const P of I)try{P()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:x?.message})}})()}}class Ka{constructor(p,m,I){this.app=p,this.heartbeatServiceProvider=m,this.config=I,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xo(this),this.idTokenSubscription=new Xo(this),this.beforeStateQueue=new Zu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=I.sdkClientVersion}_initializeWithPersistence(p,m){var I=this;return m&&(this._popupRedirectResolver=Be(m)),this._initializationPromise=this.queue((0,g.Z)(function*(){var x,P;if(!I._deleted&&(I.persistenceManager=yield L.create(I,p),!I._deleted)){if(null!==(x=I._popupRedirectResolver)&&void 0!==x&&x._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(P=I.currentUser)||void 0===P?void 0:P.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,g.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,g.Z)(function*(){var I;const x=yield m.assertedPersistence.getCurrentUser();let P=x,Z=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ye=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,Ye=P?._redirectEventId,dt=yield m.tryRedirectSignIn(p);(!ye||ye===Ye)&&dt?.user&&(P=dt.user,Z=!0)}if(!P)return m.directlySetCurrentUser(null);if(!P._redirectEventId){if(Z)try{yield m.beforeStateQueue.runMiddleware(P)}catch(ye){P=x,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ye))}return P?m.reloadAndSetCurrentUserOrClear(P):m.directlySetCurrentUser(null)}return Y(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===P._redirectEventId?m.directlySetCurrentUser(P):m.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var m=this;return(0,g.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,g.Z)(function*(){try{yield Is(p)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Oe(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var p=this;return(0,g.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,g.Z)(function*(){const I=p?(0,V.m9)(p):null;return I&&Y(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(p,m=!1){var I=this;return(0,g.Z)(function*(){if(!I._deleted)return p&&Y(I.tenantId===p.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(p)),I.queue((0,g.Z)(function*(){yield I.directlySetCurrentUser(p),I.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,g.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,g.Z)(function*(){yield m.assertedPersistence.setPersistence(Be(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,m,I){return this.registerStateListener(this.authStateSubscription,p,m,I)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,I){return this.registerStateListener(this.idTokenSubscription,p,m,I)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var I=this;return(0,g.Z)(function*(){const x=yield I.getOrInitRedirectPersistenceManager(m);return null===p?x.removeCurrentUser():x.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,g.Z)(function*(){if(!m.redirectPersistenceManager){const I=p&&Be(p)||m._popupRedirectResolver;Y(I,m,"argument-error"),m.redirectPersistenceManager=yield L.create(m,[Be(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,g.Z)(function*(){var I,x;return m._isInitialized&&(yield m.queue((0,g.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===p?m._currentUser:(null===(x=m.redirectUser)||void 0===x?void 0:x._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,g.Z)(function*(){if(p===m.currentUser)return m.queue((0,g.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,I,x){if(this._deleted)return()=>{};const P="function"==typeof m?m:m.next.bind(m),Z=this._isInitialized?Promise.resolve():this._initializationPromise;return Y(Z,this,"internal-error"),Z.then(()=>P(this.currentUser)),"function"==typeof m?p.addObserver(m,I,x):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,g.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=qa(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,g.Z)(function*(){var m;const I={"X-Client-Version":p.clientVersion};p.app.options.appId&&(I["X-Firebase-gmpid"]=p.app.options.appId);const x=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return x&&(I["X-Firebase-Client"]=x),I})()}}function fr(E){return(0,V.m9)(E)}class Xo{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(m=>this.observer=m)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Qu(E,p,m){const I=fr(E);Y(I._canInitEmulator,I,"emulator-config-failed"),Y(/^https?:\/\//.test(p),I,"invalid-emulator-scheme");const x=!!m?.disableWarnings,P=Xu(p),{host:Z,port:ye}=function en(E){const p=Xu(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(p.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",x=/^(\[[^\]]+\])(:|$)/.exec(I);if(x){const P=x[1];return{host:P,port:Fn(I.substr(P.length+1))}}{const[P,Z]=I.split(":");return{host:P,port:Fn(Z)}}}(p);I.config.emulator={url:`${P}//${Z}${null===ye?"":`:${ye}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:Z,port:ye,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:x})}),x||function pr(){function E(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function Xu(E){const p=E.indexOf(":");return p<0?"":E.substr(0,p+1)}function Fn(E){if(!E)return null;const p=Number(E);return isNaN(p)?null:p}class qr{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return ne("not implemented")}_getIdTokenResponse(p){return ne("not implemented")}_linkToIdToken(p,m){return ne("not implemented")}_getReauthenticationResolver(p){return ne("not implemented")}}function Vr(E,p){return gr.apply(this,arguments)}function gr(){return(gr=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:resetPassword",vt(E,p))})).apply(this,arguments)}function Ju(E,p){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ke(){return(Ke=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:update",vt(E,p))})).apply(this,arguments)}function pn(){return(pn=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signInWithPassword",vt(E,p))})).apply(this,arguments)}function Ur(E,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:sendOobCode",vt(E,p))})).apply(this,arguments)}function ns(){return(ns=(0,g.Z)(function*(E,p){return Ur(E,p)})).apply(this,arguments)}function bs(){return(bs=(0,g.Z)(function*(E,p){return Ur(E,p)})).apply(this,arguments)}function Nt(){return(Nt=(0,g.Z)(function*(E,p){return Ur(E,p)})).apply(this,arguments)}function Ts(){return(Ts=(0,g.Z)(function*(E,p){return Ur(E,p)})).apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signInWithEmailLink",vt(E,p))})).apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signInWithEmailLink",vt(E,p))})).apply(this,arguments)}class rs extends qr{constructor(p,m,I,x=null){super("password",I),this._email=p,this._password=m,this._tenantId=x}static _fromEmailAndPassword(p,m){return new rs(p,m,"password")}static _fromEmailAndCode(p,m,I=null){return new rs(p,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,g.Z)(function*(){switch(m.signInMethod){case"password":return function kt(E,p){return pn.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Jo(E,p){return Zs.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Me(p,"internal-error")}})()}_linkToIdToken(p,m){var I=this;return(0,g.Z)(function*(){switch(I.signInMethod){case"password":return Ju(p,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Ar(E,p){return Ss.apply(this,arguments)}(p,{idToken:m,email:I._email,oobCode:I._password});default:Me(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function er(E,p){return To.apply(this,arguments)}function To(){return(To=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signInWithIdp",vt(E,p))})).apply(this,arguments)}class Mt extends qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Mt(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Me("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:x}=m,P=(0,oe._T)(m,["providerId","signInMethod"]);if(!I||!x)return null;const Z=new Mt(I,x);return Z.idToken=P.idToken||void 0,Z.accessToken=P.accessToken||void 0,Z.secret=P.secret,Z.nonce=P.nonce,Z.pendingToken=P.pendingToken||null,Z}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,er(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,er(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,V.xO)(m)}return p}}function ea(){return(ea=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:sendVerificationCode",vt(E,p))})).apply(this,arguments)}function is(){return(is=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,p))})).apply(this,arguments)}function As(){return(As=(0,g.Z)(function*(E,p){const m=yield on(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,p));if(m.temporaryProof)throw cr(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Mr={USER_NOT_FOUND:"user-not-found"};function xr(){return(xr=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Mr)})).apply(this,arguments)}class tr extends qr{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new tr({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new tr({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Jl(E,p){return is.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function ji(E,p){return As.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function dp(E,p){return xr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:I,verificationCode:x}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:I,code:x}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:I,phoneNumber:x,temporaryProof:P}=p;return I||m||x||P?new tr({verificationId:m,verificationCode:I,phoneNumber:x,temporaryProof:P}):null}}class Hi{constructor(p){var m,I,x,P,Z,ye;const Ye=(0,V.zd)((0,V.pd)(p)),dt=null!==(m=Ye.apiKey)&&void 0!==m?m:null,Tt=null!==(I=Ye.oobCode)&&void 0!==I?I:null,yn=function tl(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(x=Ye.mode)&&void 0!==x?x:null);Y(dt&&Tt&&yn,"argument-error"),this.apiKey=dt,this.operation=yn,this.code=Tt,this.continueUrl=null!==(P=Ye.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(Z=Ye.languageCode)&&void 0!==Z?Z:null,this.tenantId=null!==(ye=Ye.tenantId)&&void 0!==ye?ye:null}static parseLink(p){const m=function Za(E){const p=(0,V.zd)((0,V.pd)(E)).link,m=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,I=(0,V.zd)((0,V.pd)(E)).deep_link_id;return(I?(0,V.zd)((0,V.pd)(I)).link:null)||I||m||p||E}(p);try{return new Hi(m)}catch{return null}}}let ta=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,I){return rs._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const x=Hi.parseLink(I);return Y(x,"argument-error"),rs._fromEmailAndCode(m,x.code,x.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Ms{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class So extends Ms{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ao extends So{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return Y("providerId"in m&&"signInMethod"in m,"argument-error"),Mt._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return Y(p.idToken||p.accessToken,"argument-error"),Mt._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ao.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ao.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:x,pendingToken:P,nonce:Z,providerId:ye}=p;if(!I&&!x&&!m&&!P||!ye)return null;try{return new Ao(ye)._credential({idToken:m,accessToken:I,nonce:Z,pendingToken:P})}catch{return null}}}let hp=(()=>{class E extends So{constructor(){super("facebook.com")}static credential(m){return Mt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ec=(()=>{class E extends So{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Mt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:x}=m;if(!I&&!x)return null;try{return E.credential(I,x)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),fp=(()=>{class E extends So{constructor(){super("github.com")}static credential(m){return Mt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class na extends qr{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return er(p,this.buildRequest())}_linkToIdToken(p,m){const I=this.buildRequest();return I.idToken=m,er(p,I)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,er(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:I,signInMethod:x,pendingToken:P}=m;return I&&x&&P&&I===x?new na(I,P):null}static _create(p,m){return new na(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wi extends Ms{constructor(p){Y(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wi.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wi.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=na.fromJSON(p);return Y(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:I}=p;if(!m||!I)return null;try{return na._create(I,m)}catch{return null}}}let Qs=(()=>{class E extends So{constructor(){super("twitter.com")}static credential(m,I){return Mt._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:x}=m;if(!I||!x)return null;try{return E.credential(I,x)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function gp(E,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signUp",vt(E,p))})).apply(this,arguments)}class oi{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,I,x=!1){return(0,g.Z)(function*(){const P=yield At._fromIdTokenResponse(p,I,x),Z=tc(I);return new oi({user:P,providerId:Z,_tokenResponse:I,operationType:m})})()}static _forOperation(p,m,I){return(0,g.Z)(function*(){yield p._updateTokensIfNecessary(I,!0);const x=tc(I);return new oi({user:p,providerId:x,_tokenResponse:I,operationType:m})})()}}function tc(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function nc(E){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,g.Z)(function*(E){var p;const m=fr(E);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new oi({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield gp(m,{returnSecureToken:!0}),x=yield oi._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(x.user),x})).apply(this,arguments)}class rc extends V.ZR{constructor(p,m,I,x){var P;super(m.code,m.message),this.operationType=I,this.user=x,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(p,m,I,x){return new rc(p,m,I,x)}}function jd(E,p,m,I){return("reauthenticate"===p?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?rc._fromErrorAndOperation(E,P,p,I):P})}function mp(E){return new Set(E.map(({providerId:p})=>p).filter(p=>!!p))}function ai(E,p){return Xa.apply(this,arguments)}function Xa(){return Xa=(0,g.Z)(function*(E,p){const m=(0,V.m9)(E);yield Js(!0,m,p);const{providerUserInfo:I}=yield function Dn(E,p){return br.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),x=mp(I||[]);return m.providerData=m.providerData.filter(P=>x.has(P.providerId)),x.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Xa.apply(this,arguments)}function Xs(E,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,g.Z)(function*(E,p,m=!1){const I=yield Tr(E,p._linkToIdToken(E.auth,yield E.getIdToken()),m);return oi._forOperation(E,"link",I)})).apply(this,arguments)}function Js(E,p,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,g.Z)(function*(E,p,m){yield Is(p);const x=!1===E?"provider-already-linked":"no-such-provider";Y(mp(p.providerData).has(m)===E,p.auth,x)})).apply(this,arguments)}function Ja(E,p){return eu.apply(this,arguments)}function eu(){return(eu=(0,g.Z)(function*(E,p,m=!1){const{auth:I}=E,x="reauthenticate";try{const P=yield Tr(E,jd(I,x,p,E),m);Y(P.idToken,I,"internal-error");const Z=at(P.idToken);Y(Z,I,"internal-error");const{sub:ye}=Z;return Y(E.uid===ye,I,"user-mismatch"),oi._forOperation(E,x,P)}catch(P){throw"auth/user-not-found"===P?.code&&Me(I,"user-mismatch"),P}})).apply(this,arguments)}function nl(E,p){return ss.apply(this,arguments)}function ss(){return(ss=(0,g.Z)(function*(E,p,m=!1){const I="signIn",x=yield jd(E,I,p),P=yield oi._fromIdTokenResponse(E,I,x);return m||(yield E._updateCurrentUser(P.user)),P})).apply(this,arguments)}function rl(E,p){return nn.apply(this,arguments)}function nn(){return(nn=(0,g.Z)(function*(E,p){return nl(fr(E),p)})).apply(this,arguments)}function il(E,p){return xo.apply(this,arguments)}function xo(){return(xo=(0,g.Z)(function*(E,p){const m=(0,V.m9)(E);return yield Js(!1,m,p.providerId),Xs(m,p)})).apply(this,arguments)}function xn(E,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,g.Z)(function*(E,p){return Ja((0,V.m9)(E),p)})).apply(this,arguments)}function nr(){return(nr=(0,g.Z)(function*(E,p){return on(E,"POST","/v1/accounts:signInWithCustomToken",vt(E,p))})).apply(this,arguments)}function sl(E,p){return oa.apply(this,arguments)}function oa(){return oa=(0,g.Z)(function*(E,p){const m=fr(E),I=yield function xs(E,p){return nr.apply(this,arguments)}(m,{token:p,returnSecureToken:!0}),x=yield oi._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(x.user),x}),oa.apply(this,arguments)}class Di{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?mr._fromServerResponse(p,m):Me(p,"internal-error")}}class mr extends Di{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new mr(m)}}function tu(E,p,m){var I;Y((null===(I=m.url)||void 0===I?void 0:I.length)>0,E,"invalid-continue-uri"),Y(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(Y(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(Y(m.android.packageName.length>0,E,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function nu(E,p,m){return ru.apply(this,arguments)}function ru(){return ru=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E),x={requestType:"PASSWORD_RESET",email:p};m&&tu(I,x,m),yield function Mn(E,p){return bs.apply(this,arguments)}(I,x)}),ru.apply(this,arguments)}function os(E,p,m){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,g.Z)(function*(E,p,m){yield Vr((0,V.m9)(E),{oobCode:p,newPassword:m})})).apply(this,arguments)}function ol(E,p){return Et.apply(this,arguments)}function Et(){return Et=(0,g.Z)(function*(E,p){yield function $i(E,p){return Ke.apply(this,arguments)}((0,V.m9)(E),{oobCode:p})}),Et.apply(this,arguments)}function al(E,p){return iu.apply(this,arguments)}function iu(){return(iu=(0,g.Z)(function*(E,p){const m=(0,V.m9)(E),I=yield Vr(m,{oobCode:p}),x=I.requestType;switch(Y(x,m,"internal-error"),x){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Y(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Y(I.mfaInfo,m,"internal-error");default:Y(I.email,m,"internal-error")}let P=null;return I.mfaInfo&&(P=Di._fromServerResponse(fr(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:P},operation:x}})).apply(this,arguments)}function Hd(E,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,g.Z)(function*(E,p){const{data:m}=yield al((0,V.m9)(E),p);return m.email})).apply(this,arguments)}function Gd(E,p,m){return su.apply(this,arguments)}function su(){return(su=(0,g.Z)(function*(E,p,m){const I=fr(E),x=yield gp(I,{returnSecureToken:!0,email:p,password:m}),P=yield oi._fromIdTokenResponse(I,"signIn",x);return yield I._updateCurrentUser(P.user),P})).apply(this,arguments)}function Wd(E,p,m){return rl((0,V.m9)(E),ta.credential(p,m))}function Rn(E,p,m){return we.apply(this,arguments)}function we(){return we=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E),x={requestType:"EMAIL_SIGNIN",email:p};Y(m.handleCodeInApp,I,"argument-error"),m&&tu(I,x,m),yield function el(E,p){return Nt.apply(this,arguments)}(I,x)}),we.apply(this,arguments)}function Xt(E,p){return"EMAIL_SIGNIN"===Hi.parseLink(p)?.operation}function zd(E,p,m){return ic.apply(this,arguments)}function ic(){return(ic=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E),x=ta.credentialWithLink(p,m||te());return Y(x._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),rl(I,x)})).apply(this,arguments)}function ul(){return(ul=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:createAuthUri",vt(E,p))})).apply(this,arguments)}function No(E,p){return Kr.apply(this,arguments)}function Kr(){return Kr=(0,g.Z)(function*(E,p){const I={identifier:p,continueUri:ue()?te():"http://localhost"},{signinMethods:x}=yield function zn(E,p){return ul.apply(this,arguments)}((0,V.m9)(E),I);return x||[]}),Kr.apply(this,arguments)}function sc(E,p){return Po.apply(this,arguments)}function Po(){return Po=(0,g.Z)(function*(E,p){const m=(0,V.m9)(E),x={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};p&&tu(m.auth,x,p);const{email:P}=yield function Wn(E,p){return ns.apply(this,arguments)}(m.auth,x);P!==E.email&&(yield E.reload())}),Po.apply(this,arguments)}function oc(E,p,m){return ou.apply(this,arguments)}function ou(){return ou=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:p};m&&tu(I.auth,P,m);const{email:Z}=yield function Ya(E,p){return Ts.apply(this,arguments)}(I.auth,P);Z!==E.email&&(yield E.reload())}),ou.apply(this,arguments)}function Nn(){return(Nn=(0,g.Z)(function*(E,p){return tt(E,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yr(E,p){return ua.apply(this,arguments)}function ua(){return ua=(0,g.Z)(function*(E,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const I=(0,V.m9)(E),P={idToken:yield I.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Z=yield Tr(I,function ll(E,p){return Nn.apply(this,arguments)}(I.auth,P));I.displayName=Z.displayName||null,I.photoURL=Z.photoUrl||null;const ye=I.providerData.find(({providerId:Ye})=>"password"===Ye);ye&&(ye.displayName=I.displayName,ye.photoURL=I.photoURL),yield I._updateTokensIfNecessary(Z)}),ua.apply(this,arguments)}function la(E,p){return ca((0,V.m9)(E),p,null)}function zi(E,p){return ca((0,V.m9)(E),null,p)}function ca(E,p,m){return au.apply(this,arguments)}function au(){return(au=(0,g.Z)(function*(E,p,m){const{auth:I}=E,P={idToken:yield E.getIdToken(),returnSecureToken:!0};p&&(P.email=p),m&&(P.password=m);const Z=yield Tr(E,Ju(I,P));yield E._updateTokensIfNecessary(Z,!0)})).apply(this,arguments)}class Oo{constructor(p,m,I={}){this.isNewUser=p,this.providerId=m,this.profile=I}}class da extends Oo{constructor(p,m,I,x){super(p,m,I),this.username=x}}class ac extends Oo{constructor(p,m){super(p,"facebook.com",m)}}class uc extends da{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class uu extends Oo{constructor(p,m){super(p,"google.com",m)}}class yp extends da{constructor(p,m,I){super(p,"twitter.com",m,I)}}function cl(E){const{user:p,_tokenResponse:m}=E;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function qd(E){var p,m;if(!E)return null;const{providerId:I}=E,x=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},P=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!I&&E?.idToken){const Z=null===(m=null===(p=at(E.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Z)return new Oo(P,"anonymous"!==Z&&"custom"!==Z?Z:null)}if(!I)return null;switch(I){case"facebook.com":return new ac(P,x);case"github.com":return new uc(P,x);case"google.com":return new uu(P,x);case"twitter.com":return new yp(P,x,E.screenName||null);case"custom":case"anonymous":return new Oo(P,null);default:return new Oo(P,I,x)}}(m)}class ui{constructor(p,m,I){this.type=p,this.credential=m,this.auth=I}static _fromIdtoken(p,m){return new ui("enroll",p,m)}static _fromMfaPendingCredential(p){return new ui("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,I;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ui._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(I=p.multiFactorSession)&&void 0!==I&&I.idToken)return ui._fromIdtoken(p.multiFactorSession.idToken)}return null}}class vn{constructor(p,m,I){this.session=p,this.hints=m,this.signInResolver=I}static _fromError(p,m){const I=fr(p),x=m.customData._serverResponse,P=(x.mfaInfo||[]).map(ye=>Di._fromServerResponse(I,ye));Y(x.mfaPendingCredential,I,"internal-error");const Z=ui._fromMfaPendingCredential(x.mfaPendingCredential);return new vn(Z,P,function(){var ye=(0,g.Z)(function*(Ye){const dt=yield Ye._process(I,Z);delete x.mfaInfo,delete x.mfaPendingCredential;const Tt=Object.assign(Object.assign({},x),{idToken:dt.idToken,refreshToken:dt.refreshToken});switch(m.operationType){case"signIn":const yn=yield oi._fromIdTokenResponse(I,m.operationType,Tt);return yield I._updateCurrentUser(yn.user),yn;case"reauthenticate":return Y(m.user,I,"internal-error"),oi._forOperation(m.user,m.operationType,Tt);default:Me(I,"internal-error")}});return function(Ye){return ye.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,g.Z)(function*(){return m.signInResolver(p)})()}}function Zd(E,p){var m;const I=(0,V.m9)(E),x=p;return Y(p.customData.operationType,I,"argument-error"),Y(null===(m=x.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),vn._fromError(I,x)}class dc{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>Di._fromServerResponse(p.auth,I)))})}static _fromUser(p){return new dc(p)}getSession(){var p=this;return(0,g.Z)(function*(){return ui._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var I=this;return(0,g.Z)(function*(){const x=p,P=yield I.getSession(),Z=yield Tr(I.user,x._process(I.user.auth,P,m));return yield I.user._updateTokensIfNecessary(Z),I.user.reload()})()}unenroll(p){var m=this;return(0,g.Z)(function*(){const I="string"==typeof p?p:p.uid,x=yield m.user.getIdToken();try{const P=yield Tr(m.user,function wp(E,p){return tt(E,"POST","/v2/accounts/mfaEnrollment:withdraw",vt(E,p))}(m.user.auth,{idToken:x,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:Z})=>Z!==I),yield m.user._updateTokensIfNecessary(P),yield m.user.reload()}catch(P){throw P}})()}}const hc=new WeakMap;function ha(E){const p=(0,V.m9)(E);return hc.has(p)||hc.set(p,dc._fromUser(p)),hc.get(p)}const ko="__sak";class eo{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ko,"1"),this.storage.removeItem(ko),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const qn=(()=>{class E extends eo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function fa(){const E=(0,V.z$)();return X(E)||An(E)}()&&function lp(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qo(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const x=this.storage.getItem(I),P=this.localCache[I];x!==P&&m(I,P,x)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((ye,Ye,dt)=>{this.notifyListeners(ye,dt)});const x=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ye=this.storage.getItem(x);if(m.newValue!==ye)null!==m.newValue?this.storage.setItem(x,m.newValue):this.storage.removeItem(x);else if(this.localCache[x]===m.newValue&&!I)return}const P=()=>{const ye=this.storage.getItem(x);!I&&this.localCache[x]===ye||this.notifyListeners(x,ye)},Z=this.storage.getItem(x);!function Bi(){return(0,V.w1)()&&10===document.documentMode}()||Z===m.newValue||m.newValue===m.oldValue?P():setTimeout(P,10)}notifyListeners(m,I){this.localCache[m]=I;const x=this.listeners[m];if(x)for(const P of Array.from(x))P(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,x)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:x}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var x=()=>super._set,P=this;return(0,g.Z)(function*(){yield x().call(P,m,I),P.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,x=this;return(0,g.Z)(function*(){const P=yield I().call(x,m);return x.localCache[m]=JSON.stringify(P),P})()}_remove(m){var I=()=>super._remove,x=this;return(0,g.Z)(function*(){yield I().call(x,m),delete x.localCache[m]})()}}return E.type="LOCAL",E})(),fc=(()=>{class E extends eo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return E.type="SESSION",E})();let eh=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(P=>P.isListeningto(m));if(I)return I;const x=new E(m);return this.receivers.push(x),x}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,g.Z)(function*(){const x=m,{eventId:P,eventType:Z,data:ye}=x.data,Ye=I.handlersMap[Z];if(!Ye?.size)return;x.ports[0].postMessage({status:"ack",eventId:P,eventType:Z});const dt=Array.from(Ye).map(function(){var yn=(0,g.Z)(function*(hs){return hs(x.origin,ye)});return function(hs){return yn.apply(this,arguments)}}()),Tt=yield function dl(E){return Promise.all(E.map(function(){var p=(0,g.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return p.apply(this,arguments)}}()))}(dt);x.ports[0].postMessage({status:"done",eventId:P,eventType:Z,response:Tt})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function pa(E="",p=10){let m="";for(let I=0;I<p;I++)m+=Math.floor(10*Math.random());return E+m}class lu{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,I=50){var x=this;return(0,g.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let Z,ye;return new Promise((Ye,dt)=>{const Tt=pa("",20);P.port1.start();const yn=setTimeout(()=>{dt(new Error("unsupported_event"))},I);ye={messageChannel:P,onMessage(hs){const Ai=hs;if(Ai.data.eventId===Tt)switch(Ai.data.status){case"ack":clearTimeout(yn),Z=setTimeout(()=>{dt(new Error("timeout"))},3e3);break;case"done":clearTimeout(Z),Ye(Ai.data.response);break;default:clearTimeout(yn),clearTimeout(Z),dt(new Error("invalid_response"))}}},x.handlers.add(ye),P.port1.addEventListener("message",ye.onMessage),x.target.postMessage({eventType:p,eventId:Tt,data:m},[P.port2])}).finally(()=>{ye&&x.removeMessageHandler(ye)})})()}}function En(){return window}function Ns(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function Ps(){return(Ps=(0,g.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cu="firebaseLocalStorageDb",Lo=1,du="firebaseLocalStorage",ro="fbase_key";class Os{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function as(E,p){return E.transaction([du],p?"readwrite":"readonly").objectStore(du)}function io(){const E=indexedDB.open(cu,Lo);return new Promise((p,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const I=E.result;try{I.createObjectStore(du,{keyPath:ro})}catch(x){m(x)}}),E.addEventListener("success",(0,g.Z)(function*(){const I=E.result;I.objectStoreNames.contains(du)?p(I):(I.close(),yield function Ip(){const E=indexedDB.deleteDatabase(cu);return new Os(E).toPromise()}(),p(yield io()))}))})}function hu(E,p,m){return so.apply(this,arguments)}function so(){return(so=(0,g.Z)(function*(E,p,m){const I=as(E,!0).put({[ro]:p,value:m});return new Os(I).toPromise()})).apply(this,arguments)}function ga(){return(ga=(0,g.Z)(function*(E,p){const m=as(E,!1).get(p),I=yield new Os(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function ks(E,p){const m=as(E,!0).delete(p);return new Os(m).toPromise()}const oo=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,g.Z)(function*(){return m.db||(m.db=yield io()),m.db})()}_withRetries(m){var I=this;return(0,g.Z)(function*(){let x=0;for(;;)try{const P=yield I._openDb();return yield m(P)}catch(P){if(x++>3)throw P;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,g.Z)(function*(){return Ns()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,g.Z)(function*(){m.receiver=eh._getInstance(function hl(){return Ns()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,g.Z)(function*(x,P){return{keyProcessed:(yield m._poll()).includes(P.key)}});return function(x,P){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,g.Z)(function*(x,P){return["keyChanged"]});return function(x,P){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,g.Z)(function*(){var I,x;if(m.activeServiceWorker=yield function to(){return Ps.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new lu(m.activeServiceWorker);const P=yield m.sender._send("ping",{},800);P&&null!==(I=P[0])&&void 0!==I&&I.fulfilled&&null!==(x=P[0])&&void 0!==x&&x.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,g.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function no(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const m=yield io();return yield hu(m,ko,"1"),yield ks(m,ko),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,g.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var x=this;return(0,g.Z)(function*(){return x._withPendingWrite((0,g.Z)(function*(){return yield x._withRetries(P=>hu(P,m,I)),x.localCache[m]=I,x.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,g.Z)(function*(){const x=yield I._withRetries(P=>function li(E,p){return ga.apply(this,arguments)}(P,m));return I.localCache[m]=x,x})()}_remove(m){var I=this;return(0,g.Z)(function*(){return I._withPendingWrite((0,g.Z)(function*(){return yield I._withRetries(x=>ks(x,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,g.Z)(function*(){const I=yield m._withRetries(Z=>{const ye=as(Z,!1).getAll();return new Os(ye).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const x=[],P=new Set;for(const{fbase_key:Z,value:ye}of I)P.add(Z),JSON.stringify(m.localCache[Z])!==JSON.stringify(ye)&&(m.notifyListeners(Z,ye),x.push(Z));for(const Z of Object.keys(m.localCache))m.localCache[Z]&&!P.has(Z)&&(m.notifyListeners(Z,null),x.push(Z));return x})()}notifyListeners(m,I){this.localCache[m]=I;const x=this.listeners[m];if(x)for(const P of Array.from(x))P(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function ci(){return(ci=(0,g.Z)(function*(E){return(yield tt(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function _a(E){return new Promise((p,m)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=p,I.onerror=x=>{const P=be("internal-error");P.customData=x,m(P)},I.type="text/javascript",I.charset="UTF-8",function pl(){var E,p;return null!==(p=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==p?p:document}().appendChild(I)})}function ao(E){return`__${E}${Math.floor(1e6*Math.random())}`}const di=1e12;class pu{constructor(p){this.auth=p,this.counter=di,this._widgets=new Map}render(p,m){const I=this.counter;return this._widgets.set(I,new va(p,this.auth.name,m||{})),this.counter++,I}reset(p){var m;const I=p||di;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(p){var m;return(null===(m=this._widgets.get(p||di))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,g.Z)(function*(){var I;return null===(I=m._widgets.get(p||di))||void 0===I||I.execute(),""})()}}class va{constructor(p,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const x="string"==typeof p?document.getElementById(p):p;Y(x,"argument-error",{appName:m}),this.container=x,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rh(E){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<E;I++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Ea=ao("rcb"),gc=new Fe(3e4,6e4);class ml{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=En().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return Y(function Vo(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(En().grecaptcha):new Promise((I,x)=>{const P=En().setTimeout(()=>{x(be(p,"network-request-failed"))},gc.get());En()[Ea]=()=>{En().clearTimeout(P),delete En()[Ea];const ye=En().grecaptcha;if(!ye)return void x(be(p,"internal-error"));const Ye=ye.render;ye.render=(dt,Tt)=>{const yn=Ye(dt,Tt);return this.counter++,yn},this.hostLanguage=m,I(ye)},_a(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Ea,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(P),x(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=En().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class wa{load(p){return(0,g.Z)(function*(){return new pu(p)})()}clearedOneInstance(){}}const Ia="recaptcha",Ca={theme:"light",type:"image"};class Cp{constructor(p,m=Object.assign({},Ca),I){this.parameters=m,this.type=Ia,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=fr(I),this.isInvisible="invisible"===this.parameters.size,Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const x="string"==typeof p?document.getElementById(p):p;Y(x,this.auth,"argument-error"),this.container=x,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new wa:new ml,this.validateStartingState()}verify(){var p=this;return(0,g.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),I=p.getAssertedRecaptcha();return I.getResponse(m)||new Promise(P=>{const Z=ye=>{ye&&(p.tokenChangeListeners.delete(Z),P(ye))};p.tokenChangeListeners.add(Z),p.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){Y(!this.parameters.sitekey,this.auth,"argument-error"),Y(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Y(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof p)p(m);else if("string"==typeof p){const I=En()[p];"function"==typeof I&&I(m)}}}assertNotDestroyed(){Y(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,g.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,g.Z)(function*(){Y(ue()&&!Ns(),p.auth,"internal-error"),yield function yc(){let E=null;return new Promise(p=>{"complete"!==document.readyState?(E=()=>p(),window.addEventListener("load",E)):p()}).catch(p=>{throw E&&window.removeEventListener("load",E),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function pc(E){return ci.apply(this,arguments)}(p.auth);Y(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return Y(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class us{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=tr._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Dp(E,p,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,g.Z)(function*(E,p,m){const I=fr(E),x=yield Da(I,p,(0,V.m9)(m));return new us(x,P=>rl(I,P))})).apply(this,arguments)}function gn(E,p,m){return _c.apply(this,arguments)}function _c(){return(_c=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E);yield Js(!1,I,"phone");const x=yield Da(I.auth,p,(0,V.m9)(m));return new us(x,P=>il(I,P))})).apply(this,arguments)}function vc(E,p,m){return yl.apply(this,arguments)}function yl(){return(yl=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E),x=yield Da(I.auth,p,(0,V.m9)(m));return new us(x,P=>xn(I,P))})).apply(this,arguments)}function Da(E,p,m){return ih.apply(this,arguments)}function ih(){return ih=(0,g.Z)(function*(E,p,m){var I;const x=yield m.verify();try{let P;if(Y("string"==typeof x,E,"argument-error"),Y(m.type===Ia,E,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const Z=P.session;if("phoneNumber"in P)return Y("enroll"===Z.type,E,"internal-error"),(yield function yr(E,p){return tt(E,"POST","/v2/accounts/mfaEnrollment:start",vt(E,p))}(E,{idToken:Z.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:x}})).phoneSessionInfo.sessionInfo;{Y("signin"===Z.type,E,"internal-error");const ye=(null===(I=P.multiFactorHint)||void 0===I?void 0:I.uid)||P.multiFactorUid;return Y(ye,E,"missing-multi-factor-info"),(yield function nh(E,p){return tt(E,"POST","/v2/accounts/mfaSignIn:start",vt(E,p))}(E,{mfaPendingCredential:Z.credential,mfaEnrollmentId:ye,phoneSignInInfo:{recaptchaToken:x}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Z}=yield function cp(E,p){return ea.apply(this,arguments)}(E,{phoneNumber:P.phoneNumber,recaptchaToken:x});return Z}}finally{m._reset()}}),ih.apply(this,arguments)}function bp(E,p){return Ec.apply(this,arguments)}function Ec(){return(Ec=(0,g.Z)(function*(E,p){yield Xs((0,V.m9)(E),p)})).apply(this,arguments)}let gu=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=fr(m)}verifyPhoneNumber(m,I){return Da(this.auth,m,(0,V.m9)(I))}static credential(m,I){return tr._fromVerification(m,I)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:x}=m;return I&&x?tr._fromTokenResponse(I,x):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function ls(E,p){return p?Be(p):(Y(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class wc extends qr{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return er(p,this._buildIdpRequest())}_linkToIdToken(p,m){return er(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return er(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Kn(E){return nl(E.auth,new wc(E),E.bypassAuthState)}function Ic(E){const{auth:p,user:m}=E;return Y(m,p,"internal-error"),Ja(m,new wc(E),E.bypassAuthState)}function mu(E){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,g.Z)(function*(E){const{auth:p,user:m}=E;return Y(m,p,"internal-error"),Xs(m,new wc(E),E.bypassAuthState)})).apply(this,arguments)}class Ti{constructor(p,m,I,x,P=!1){this.auth=p,this.resolver=I,this.user=x,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,g.Z)(function*(I,x){p.pendingPromise={resolve:I,reject:x};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(I,x){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,g.Z)(function*(){const{urlResponse:I,sessionId:x,postBody:P,tenantId:Z,error:ye,type:Ye}=p;if(ye)return void m.reject(ye);const dt={auth:m.auth,requestUri:I,sessionId:x,tenantId:Z||void 0,postBody:P||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ye)(dt))}catch(Tt){m.reject(Tt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Kn;case"linkViaPopup":case"linkViaRedirect":return mu;case"reauthViaPopup":case"reauthViaRedirect":return Ic;default:Me(this.auth,"internal-error")}}resolve(p){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){he(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const lo=new Fe(2e3,1e4);function sh(E,p,m){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,g.Z)(function*(E,p,m){const I=fr(E);Ee(E,p,Ms);const x=ls(I,m);return new _l(I,"signInViaPopup",p,x).executeNotNull()})).apply(this,arguments)}function ba(E,p,m){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E);Ee(I.auth,p,Ms);const x=ls(I.auth,m);return new _l(I.auth,"reauthViaPopup",p,x,I).executeNotNull()})).apply(this,arguments)}function oh(E,p,m){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E);Ee(I.auth,p,Ms);const x=ls(I.auth,m);return new _l(I.auth,"linkViaPopup",p,x,I).executeNotNull()})).apply(this,arguments)}let _l=(()=>{class E extends Ti{constructor(m,I,x,P,Z){super(m,I,P,Z),this.provider=x,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,g.Z)(function*(){const I=yield m.execute();return Y(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,g.Z)(function*(){he(1===m.filter.length,"Popup operations only handle one event");const I=pa();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(x=>{m.reject(x)}),m.resolver._isIframeWebStorageSupported(m.auth,x=>{x||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,x;this.pollId=null!==(x=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==x&&x.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,lo.get())};m()}}return E.currentPopupAction=null,E})();const qt="pendingRedirect",Br=new Map;class it extends Ti{constructor(p,m,I=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,g.Z)(function*(){let I=Br.get(m.auth._key());if(!I){try{const P=(yield function cs(E,p){return Zr.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;I=()=>Promise.resolve(P)}catch(x){I=()=>Promise.reject(x)}Br.set(m.auth._key(),I)}return m.bypassAuthState||Br.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,I=this;return(0,g.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(I,p);if("unknown"!==p.type){if(p.eventId){const x=yield I.auth._redirectUserForId(p.eventId);if(x)return I.user=x,m().call(I,p);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function Zr(){return(Zr=(0,g.Z)(function*(E,p){const m=vl(p),I=co(E);if(!(yield I._isAvailable()))return!1;const x="true"===(yield I._get(m));return yield I._remove(m),x})).apply(this,arguments)}function bc(E,p){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,g.Z)(function*(E,p){return co(E)._set(vl(p),"true")})).apply(this,arguments)}function Fs(){Br.clear()}function Tc(E,p){Br.set(E._key(),p)}function co(E){return Be(E._redirectPersistence)}function vl(E){return B(qt,E.config.apiKey,E.name)}function El(E,p,m){return function Aa(E,p,m){return Si.apply(this,arguments)}(E,p,m)}function Si(){return(Si=(0,g.Z)(function*(E,p,m){const I=fr(E);Ee(E,p,Ms),yield I._initializationPromise;const x=ls(I,m);return yield bc(x,I),x._openRedirect(I,p,"signInViaRedirect")})).apply(this,arguments)}function Ls(E,p,m){return function bt(E,p,m){return Bo.apply(this,arguments)}(E,p,m)}function Bo(){return(Bo=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E);Ee(I.auth,p,Ms),yield I.auth._initializationPromise;const x=ls(I.auth,m);yield bc(x,I.auth);const P=yield M(I);return x._openRedirect(I.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function Tp(E,p,m){return function yu(E,p,m){return Vs.apply(this,arguments)}(E,p,m)}function Vs(){return(Vs=(0,g.Z)(function*(E,p,m){const I=(0,V.m9)(E);Ee(I.auth,p,Ms),yield I.auth._initializationPromise;const x=ls(I.auth,m);yield Js(!1,I,p.providerId),yield bc(x,I.auth);const P=yield M(I);return x._openRedirect(I.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function ir(E,p){return _u.apply(this,arguments)}function _u(){return(_u=(0,g.Z)(function*(E,p){return yield fr(E)._initializationPromise,D(E,p,!1)})).apply(this,arguments)}function D(E,p){return T.apply(this,arguments)}function T(){return(T=(0,g.Z)(function*(E,p,m=!1){const I=fr(E),x=ls(I,p),Z=yield new it(I,x,m).execute();return Z&&!m&&(delete Z.user._redirectEventId,yield I._persistUserIfCurrent(Z.user),yield I._setRedirectUser(null,p)),Z})).apply(this,arguments)}function M(E){return O.apply(this,arguments)}function O(){return(O=(0,g.Z)(function*(E){const p=pa(`${E.uid}:::`);return E._redirectEventId=p,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),p})).apply(this,arguments)}class J{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(p,I)&&(m=!0,this.sendToConsumer(p,I),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ut(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nt(E);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var I;if(p.error&&!nt(p)){const x=(null===(I=p.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(be(this.auth,x))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const I=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&I}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ce(p))}saveEventToCache(p){this.cachedEventUids.add(Ce(p)),this.lastProcessedEventTime=Date.now()}}function Ce(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(p=>p).join("-")}function nt({type:E,error:p}){return"unknown"===E&&"auth/no-auth-event"===p?.code}function lt(E){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,g.Z)(function*(E,p={}){return tt(E,"GET","/v1/projects",p)})).apply(this,arguments)}const yt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,_r=/^https?/;function Us(){return(Us=(0,g.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:p}=yield lt(E);for(const m of p)try{if(Ma(m))return}catch{}Me(E,"unauthorized-domain")})).apply(this,arguments)}function Ma(E){const p=te(),{protocol:m,hostname:I}=new URL(p);if(E.startsWith("chrome-extension://")){const Z=new URL(E);return""===Z.hostname&&""===I?"chrome-extension:"===m&&E.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Z.hostname===I}if(!_r.test(m))return!1;if(yt.test(E))return I===E;const x=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+x+"|"+x+")$","i").test(I)}const Pn=new Fe(3e4,6e4);function sr(){const E=En().___jsl;if(E?.H)for(const p of Object.keys(E.H))if(E.H[p].r=E.H[p].r||[],E.H[p].L=E.H[p].L||[],E.H[p].r=[...E.H[p].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Qr=null;const vu=new Fe(5e3,15e3),$m="__/auth/iframe",NE="emulator/auth/iframe",ds={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Eu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jr(E){const p=E.config;Y(p.authDomain,E,"auth-domain-config-required");const m=p.emulator?Xe(p,NE):`https://${E.config.authDomain}/${$m}`,I={apiKey:p.apiKey,appName:E.name,v:G.SDK_VERSION},x=Eu.get(E.config.apiHost);x&&(I.eid=x);const P=E._getFrameworks();return P.length&&(I.fw=P.join(",")),`${m}?${(0,V.xO)(I).slice(1)}`}function Sp(){return Sp=(0,g.Z)(function*(E){const p=yield function Xr(E){return Qr=Qr||function ho(E){return new Promise((p,m)=>{var I,x,P;function Z(){sr(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{sr(),m(be(E,"network-request-failed"))},timeout:Pn.get()})}if(null!==(x=null===(I=En().gapi)||void 0===I?void 0:I.iframes)&&void 0!==x&&x.Iframe)p(gapi.iframes.getContext());else{if(null===(P=En().gapi)||void 0===P||!P.load){const ye=ao("iframefcb");return En()[ye]=()=>{gapi.load?Z():m(be(E,"network-request-failed"))},_a(`https://apis.google.com/js/api.js?onload=${ye}`).catch(Ye=>m(Ye))}Z()}}).catch(p=>{throw Qr=null,p})}(E),Qr}(E),m=En().gapi;return Y(m,E,"internal-error"),p.open({where:document.body,url:Jr(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ds,dontclear:!0},I=>new Promise(function(){var x=(0,g.Z)(function*(P,Z){yield I.restyle({setHideOnLeave:!1});const ye=be(E,"network-request-failed"),Ye=En().setTimeout(()=>{Z(ye)},vu.get());function dt(){En().clearTimeout(Ye),P(I)}I.ping(dt).then(dt,()=>{Z(ye)})});return function(P,Z){return x.apply(this,arguments)}}()))}),Sp.apply(this,arguments)}const jm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ah=500,uh=600,lh="_blank",Ap="http://localhost";class wl{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Hm="__/auth/handler",wu="emulator/auth/handler";function ch(E,p,m,I,x,P){Y(E.config.authDomain,E,"auth-domain-config-required"),Y(E.config.apiKey,E,"invalid-api-key");const Z={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:I,v:G.SDK_VERSION,eventId:x};if(p instanceof Ms){p.setDefaultLanguage(E.languageCode),Z.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(Z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Ye,dt]of Object.entries(P||{}))Z[Ye]=dt}if(p instanceof So){const Ye=p.getScopes().filter(dt=>""!==dt);Ye.length>0&&(Z.scopes=Ye.join(","))}E.tenantId&&(Z.tid=E.tenantId);const ye=Z;for(const Ye of Object.keys(ye))void 0===ye[Ye]&&delete ye[Ye];return`${function Mp({config:E}){return E.emulator?Xe(E,wu):`https://${E.authDomain}/${Hm}`}(E)}?${(0,V.xO)(ye).slice(1)}`}const fi="webStorageSupport",dh=class xp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fc,this._completeRedirectFn=D,this._overrideRedirectResult=Tc}_openPopup(p,m,I,x){var P=this;return(0,g.Z)(function*(){var Z;he(null===(Z=P.eventManagers[p._key()])||void 0===Z?void 0:Z.manager,"_initialize() not called before _openPopup()");const ye=ch(p,m,I,te(),x);return function Ot(E,p,m,I=ah,x=uh){const P=Math.max((window.screen.availHeight-x)/2,0).toString(),Z=Math.max((window.screen.availWidth-I)/2,0).toString();let ye="";const Ye=Object.assign(Object.assign({},jm),{width:I.toString(),height:x.toString(),top:P,left:Z}),dt=(0,V.z$)().toLowerCase();m&&(ye=Je(dt)?lh:m),de(dt)&&(p=p||Ap,Ye.scrollbars="yes");const Tt=Object.entries(Ye).reduce((hs,[Ai,Cu])=>`${hs}${Ai}=${Cu},`,"");if(function Lr(E=(0,V.z$)()){var p;return An(E)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(dt)&&"_self"!==ye)return function hi(E,p){const m=document.createElement("a");m.href=E,m.target=p;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(p||"",ye),new wl(null);const yn=window.open(p||"",ye,Tt);Y(yn,E,"popup-blocked");try{yn.focus()}catch{}return new wl(yn)}(p,ye,pa())})()}_openRedirect(p,m,I,x){var P=this;return(0,g.Z)(function*(){return yield P._originValidation(p),function th(E){En().location.href=E}(ch(p,m,I,te(),x)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:x,promise:P}=this.eventManagers[m];return x?Promise.resolve(x):(he(P,"If manager is not set, promise should be"),P)}const I=this.initAndGetManager(p);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(p){var m=this;return(0,g.Z)(function*(){const I=yield function xa(E){return Sp.apply(this,arguments)}(p),x=new J(p);return I.register("authEvent",P=>(Y(P?.authEvent,p,"invalid-auth-event"),{status:x.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:x},m.iframes[p._key()]=I,x})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(fi,{type:fi},x=>{var P;const Z=null===(P=x?.[0])||void 0===P?void 0:P[fi];void 0!==Z&&m(!!Z),Me(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function rn(E){return Us.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Qo()||X()||An()}};class Rp{constructor(p){this.factorId=p}_process(p,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,I);case"signin":return this._finalizeSignIn(p,m.credential);default:return ne("unexpected MultiFactorSessionType")}}}class hh extends Rp{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new hh(p)}_finalizeEnroll(p,m,I){return function Qd(E,p){return tt(E,"POST","/v2/accounts/mfaEnrollment:finalize",vt(E,p))}(p,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ya(E,p){return tt(E,"POST","/v2/accounts/mfaSignIn:finalize",vt(E,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Rr=(()=>{class E{constructor(){}static assertion(m){return hh._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var fo="@firebase/auth";class fh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,g.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(I=>{p(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Iu=(0,V.Pz)("authIdTokenMaxAge")||300;let gh=null;const mh=E=>function(){var p=(0,g.Z)(function*(m){const I=m&&(yield m.getIdTokenResult()),x=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(x&&x>Iu)return;const P=I?.token;gh!==P&&(gh=P,yield fetch(E,{method:P?"POST":"DELETE",headers:P?{Authorization:`Bearer ${P}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function Np(E=(0,G.getApp)()){const p=(0,G._getProvider)(E,"auth");if(p.isInitialized())return p.getImmediate();const m=function Ct(E,p){const m=(0,G._getProvider)(E,"auth");if(m.isInitialized()){const x=m.getImmediate(),P=m.getOptions();if((0,V.vZ)(P,p??{}))return x;Me(x,"already-initialized")}return m.initialize({options:p})}(E,{popupRedirectResolver:dh,persistence:[oo,qn,fc]}),I=(0,V.Pz)("authTokenSyncURL");if(I){const P=mh(I);(function vp(E,p,m){(0,V.m9)(E).beforeAuthStateChanged(p,m)})(m,P,()=>P(m.currentUser)),function _p(E,p,m,I){(0,V.m9)(E).onIdTokenChanged(p,m,I)}(m,Z=>P(Z))}const x=(0,V.q4)("auth");return x&&Qu(m,`http://${x}`),m}!function Sc(E){(0,G._registerComponent)(new ae.wA("auth",(p,{options:m})=>{const I=p.getProvider("app").getImmediate(),x=p.getProvider("heartbeat"),{apiKey:P,authDomain:Z}=I.options;return((ye,Ye)=>{Y(P&&!P.includes(":"),"invalid-api-key",{appName:ye.name}),Y(!Z?.includes(":"),"argument-error",{appName:ye.name});const dt={apiKey:P,authDomain:Z,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qa(E)},Tt=new Ka(ye,Ye,dt);return function Qe(E,p){const m=p?.persistence||[],I=(Array.isArray(m)?m:[m]).map(Be);p?.errorMap&&E._updateErrorMap(p.errorMap),E._initializeWithPersistence(I,p?.popupRedirectResolver)}(Tt,m),Tt})(I,x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,I)=>{p.getProvider("auth-internal").initialize()})),(0,G._registerComponent)(new ae.wA("auth-internal",p=>{const m=fr(p.getProvider("auth").getImmediate());return new fh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)(fo,"0.21.5",function ph(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,G.registerVersion)(fo,"0.21.5","esm2017")}("Browser")},2090:(pt,Ae,F)=>{F.d(Ae,{$s:()=>mt,BH:()=>Ee,DV:()=>ki,GJ:()=>Ys,L:()=>De,LL:()=>gt,P0:()=>Me,Pz:()=>Te,Sg:()=>Ue,UG:()=>he,UI:()=>Dn,US:()=>ae,Wl:()=>Un,Yr:()=>pe,ZB:()=>K,ZR:()=>sn,aH:()=>be,b$:()=>Ct,cI:()=>tn,dS:()=>Cs,eu:()=>Fe,g5:()=>G,gK:()=>Sr,gQ:()=>Vi,h$:()=>ve,hl:()=>Oe,hu:()=>V,jU:()=>He,m9:()=>Gn,ne:()=>St,p$:()=>j,pd:()=>dr,q4:()=>me,r3:()=>cr,ru:()=>Be,tV:()=>$,uI:()=>ne,ug:()=>jt,vZ:()=>br,w1:()=>te,w9:()=>ii,xO:()=>zr,xb:()=>Fi,z$:()=>Y,zI:()=>Xe,zd:()=>Xn});const g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},V=function(B,L){if(!B)throw G(L)},G=function(B){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+B)},ie=function(B){const L=[];let W=0;for(let de=0;de<B.length;de++){let X=B.charCodeAt(de);X<128?L[W++]=X:X<2048?(L[W++]=X>>6|192,L[W++]=63&X|128):55296==(64512&X)&&de+1<B.length&&56320==(64512&B.charCodeAt(de+1))?(X=65536+((1023&X)<<10)+(1023&B.charCodeAt(++de)),L[W++]=X>>18|240,L[W++]=X>>12&63|128,L[W++]=X>>6&63|128,L[W++]=63&X|128):(L[W++]=X>>12|224,L[W++]=X>>6&63|128,L[W++]=63&X|128)}return L},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const W=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let X=0;X<B.length;X+=3){const Je=B[X],Ge=X+1<B.length,ln=Ge?B[X+1]:0,Bn=X+2<B.length,Sn=Bn?B[X+2]:0;let Lr=(15&ln)<<2|Sn>>6,Bi=63&Sn;Bn||(Bi=64,Ge||(Lr=64)),de.push(W[Je>>2],W[(3&Je)<<4|ln>>4],W[Lr],W[Bi])}return de.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(ie(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let W=0,de=0;for(;W<B.length;){const X=B[W++];if(X<128)L[de++]=String.fromCharCode(X);else if(X>191&&X<224){const Je=B[W++];L[de++]=String.fromCharCode((31&X)<<6|63&Je)}else if(X>239&&X<365){const Bn=((7&X)<<18|(63&B[W++])<<12|(63&B[W++])<<6|63&B[W++])-65536;L[de++]=String.fromCharCode(55296+(Bn>>10)),L[de++]=String.fromCharCode(56320+(1023&Bn))}else{const Je=B[W++],Ge=B[W++];L[de++]=String.fromCharCode((15&X)<<12|(63&Je)<<6|63&Ge)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const W=L?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let X=0;X<B.length;){const Je=W[B.charAt(X++)],ln=X<B.length?W[B.charAt(X)]:0;++X;const Sn=X<B.length?W[B.charAt(X)]:64;++X;const $t=X<B.length?W[B.charAt(X)]:64;if(++X,null==Je||null==ln||null==Sn||null==$t)throw new Pe;de.push(Je<<2|ln>>4),64!==Sn&&(de.push(ln<<4&240|Sn>>2),64!==$t&&de.push(Sn<<6&192|$t))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ve=function(B){const L=ie(B);return ae.encodeByteArray(L,!0)},De=function(B){return ve(B).replace(/\./g,"")},$=function(B){try{return ae.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function j(B){return K(void 0,B)}function K(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const W in L)!L.hasOwnProperty(W)||!Ve(W)||(B[W]=K(B[W],L[W]));return B}function Ve(B){return"__proto__"!==B}const _e=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const B=process.env.__FIREBASE_DEFAULTS__;return B?JSON.parse(B):void 0})()||(()=>{if(typeof document>"u")return;let B;try{B=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=B&&$(B[1]);return L&&JSON.parse(L)})()}catch(B){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${B}`)}},me=B=>{var L,W;return null===(W=null===(L=_e())||void 0===L?void 0:L.emulatorHosts)||void 0===W?void 0:W[B]},Me=B=>{const L=me(B);if(!L)return;const W=L.lastIndexOf(":");if(W<=0||W+1===L.length)throw new Error(`Invalid host ${L} with no separate hostname and port!`);const de=parseInt(L.substring(W+1),10);return"["===L[0]?[L.substring(1,W-1),de]:[L.substring(0,W),de]},be=()=>{var B;return null===(B=_e())||void 0===B?void 0:B.config},Te=B=>{var L;return null===(L=_e())||void 0===L?void 0:L[`_${B}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,W)=>{this.resolve=L,this.reject=W})}wrapCallback(L){return(W,de)=>{W?this.reject(W):this.resolve(de),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(W):L(W,de))}}}function Ue(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=L||"demo-project",X=B.iat||0,Je=B.sub||B.user_id;if(!Je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ge=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:X,exp:X+3600,auth_time:X,sub:Je,user_id:Je,firebase:{sign_in_provider:"custom",identities:{}}},B);return[De(JSON.stringify({alg:"none",type:"JWT"})),De(JSON.stringify(Ge)),""].join(".")}function Y(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ne(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Y())}function he(){var B;const L=null===(B=_e())||void 0===B?void 0:B.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function He(){return"object"==typeof self&&self.self===self}function Be(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Ct(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function te(){const B=Y();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function pe(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN}function Oe(){try{return"object"==typeof indexedDB}catch{return!1}}function Fe(){return new Promise((B,L)=>{try{let W=!0;const de="validate-browser-context-for-indexeddb-analytics-module",X=self.indexedDB.open(de);X.onsuccess=()=>{X.result.close(),W||self.indexedDB.deleteDatabase(de),B(!0)},X.onupgradeneeded=()=>{W=!1},X.onerror=()=>{var Je;L((null===(Je=X.error)||void 0===Je?void 0:Je.message)||"")}}catch(W){L(W)}})}function Xe(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class sn extends Error{constructor(L,W,de){super(W),this.code=L,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,sn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(L,W,de){this.service=L,this.serviceName=W,this.errors=de}create(L,...W){const de=W[0]||{},X=`${this.service}/${L}`,Je=this.errors[L],Ge=Je?function vt(B,L){return B.replace(tt,(W,de)=>{const X=L[de];return null!=X?String(X):`<${de}?>`})}(Je,de):"Error";return new sn(X,`${this.serviceName}: ${Ge} (${X}).`,de)}}const tt=/\{\$([^}]+)}/g;function tn(B){return JSON.parse(B)}function Un(B){return JSON.stringify(B)}const fn=function(B){let L={},W={},de={},X="";try{const Je=B.split(".");L=tn($(Je[0])||""),W=tn($(Je[1])||""),X=Je[2],de=W.d||{},delete W.d}catch{}return{header:L,claims:W,data:de,signature:X}},ii=function(B){const W=fn(B).claims;return!!W&&"object"==typeof W&&W.hasOwnProperty("iat")},Ys=function(B){const L=fn(B).claims;return"object"==typeof L&&!0===L.admin};function cr(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function ki(B,L){if(Object.prototype.hasOwnProperty.call(B,L))return B[L]}function Fi(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function Dn(B,L,W){const de={};for(const X in B)Object.prototype.hasOwnProperty.call(B,X)&&(de[X]=L.call(W,B[X],X,B));return de}function br(B,L){if(B===L)return!0;const W=Object.keys(B),de=Object.keys(L);for(const X of W){if(!de.includes(X))return!1;const Je=B[X],Ge=L[X];if(ct(Je)&&ct(Ge)){if(!br(Je,Ge))return!1}else if(Je!==Ge)return!1}for(const X of de)if(!W.includes(X))return!1;return!0}function ct(B){return null!==B&&"object"==typeof B}function zr(B){const L=[];for(const[W,de]of Object.entries(B))Array.isArray(de)?de.forEach(X=>{L.push(encodeURIComponent(W)+"="+encodeURIComponent(X))}):L.push(encodeURIComponent(W)+"="+encodeURIComponent(de));return L.length?"&"+L.join("&"):""}function Xn(B){const L={};return B.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[X,Je]=de.split("=");L[decodeURIComponent(X)]=decodeURIComponent(Je)}}),L}function dr(B){const L=B.indexOf("?");if(!L)return"";const W=B.indexOf("#",L);return B.substring(L,W>0?W:void 0)}class Vi{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let L=1;L<this.blockSize;++L)this.pad_[L]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(L,W){W||(W=0);const de=this.W_;if("string"==typeof L)for(let $t=0;$t<16;$t++)de[$t]=L.charCodeAt(W)<<24|L.charCodeAt(W+1)<<16|L.charCodeAt(W+2)<<8|L.charCodeAt(W+3),W+=4;else for(let $t=0;$t<16;$t++)de[$t]=L[W]<<24|L[W+1]<<16|L[W+2]<<8|L[W+3],W+=4;for(let $t=16;$t<80;$t++){const Lr=de[$t-3]^de[$t-8]^de[$t-14]^de[$t-16];de[$t]=4294967295&(Lr<<1|Lr>>>31)}let Sn,An,X=this.chain_[0],Je=this.chain_[1],Ge=this.chain_[2],ln=this.chain_[3],Bn=this.chain_[4];for(let $t=0;$t<80;$t++){$t<40?$t<20?(Sn=ln^Je&(Ge^ln),An=1518500249):(Sn=Je^Ge^ln,An=1859775393):$t<60?(Sn=Je&Ge|ln&(Je|Ge),An=2400959708):(Sn=Je^Ge^ln,An=3395469782);const Lr=(X<<5|X>>>27)+Sn+Bn+An+de[$t]&4294967295;Bn=ln,ln=Ge,Ge=4294967295&(Je<<30|Je>>>2),Je=X,X=Lr}this.chain_[0]=this.chain_[0]+X&4294967295,this.chain_[1]=this.chain_[1]+Je&4294967295,this.chain_[2]=this.chain_[2]+Ge&4294967295,this.chain_[3]=this.chain_[3]+ln&4294967295,this.chain_[4]=this.chain_[4]+Bn&4294967295}update(L,W){if(null==L)return;void 0===W&&(W=L.length);const de=W-this.blockSize;let X=0;const Je=this.buf_;let Ge=this.inbuf_;for(;X<W;){if(0===Ge)for(;X<=de;)this.compress_(L,X),X+=this.blockSize;if("string"==typeof L){for(;X<W;)if(Je[Ge]=L.charCodeAt(X),++Ge,++X,Ge===this.blockSize){this.compress_(Je),Ge=0;break}}else for(;X<W;)if(Je[Ge]=L[X],++Ge,++X,Ge===this.blockSize){this.compress_(Je),Ge=0;break}}this.inbuf_=Ge,this.total_+=W}digest(){const L=[];let W=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let X=this.blockSize-1;X>=56;X--)this.buf_[X]=255&W,W/=256;this.compress_(this.buf_);let de=0;for(let X=0;X<5;X++)for(let Je=24;Je>=0;Je-=8)L[de]=this.chain_[X]>>Je&255,++de;return L}}function St(B,L){const W=new at(B,L);return W.subscribe.bind(W)}class at{constructor(L,W){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=W,this.task.then(()=>{L(this)}).catch(de=>{this.error(de)})}next(L){this.forEachObserver(W=>{W.next(L)})}error(L){this.forEachObserver(W=>{W.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,W,de){let X;if(void 0===L&&void 0===W&&void 0===de)throw new Error("Missing Observer.");X=function Tr(B,L){if("object"!=typeof B||null===B)return!1;for(const W of L)if(W in B&&"function"==typeof B[W])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:W,complete:de},void 0===X.next&&(X.next=Hn),void 0===X.error&&(X.error=Hn),void 0===X.complete&&(X.complete=Hn);const Je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?X.error(this.finalError):X.complete()}catch{}}),this.observers.push(X),Je}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let W=0;W<this.observers.length;W++)this.sendOne(W,L)}sendOne(L,W){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{W(this.observers[L])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hn(){}function Sr(B,L){return`${B} failed: ${L} argument `}const Cs=function(B){const L=[];let W=0;for(let de=0;de<B.length;de++){let X=B.charCodeAt(de);if(X>=55296&&X<=56319){const Je=X-55296;de++,V(de<B.length,"Surrogate pair missing trail surrogate."),X=65536+(Je<<10)+(B.charCodeAt(de)-56320)}X<128?L[W++]=X:X<2048?(L[W++]=X>>6|192,L[W++]=63&X|128):X<65536?(L[W++]=X>>12|224,L[W++]=X>>6&63|128,L[W++]=63&X|128):(L[W++]=X>>18|240,L[W++]=X>>12&63|128,L[W++]=X>>6&63|128,L[W++]=63&X|128)}return L},jt=function(B){let L=0;for(let W=0;W<B.length;W++){const de=B.charCodeAt(W);de<128?L++:de<2048?L+=2:de>=55296&&de<=56319?(L+=4,W++):L+=3}return L},Ui=1e3,$e=2,ge=144e5,et=.5;function mt(B,L=Ui,W=$e){const de=L*Math.pow(W,B),X=Math.round(et*de*(Math.random()-.5)*2);return Math.min(ge,de+X)}function Gn(B){return B&&B._delegate?B._delegate:B}},113:(pt,Ae,F)=>{var g=F(4650);let V=null;function G(){return V}class oe{}const ae=new g.OlP("DocumentToken");let Pe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return function ve(){return(0,g.LFG)($)}()},providedIn:"platform"}),n})();const De=new g.OlP("Location Initialized");let $=(()=>{class n extends Pe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return G().getBaseHref(this._doc)}onPopState(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=G().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){j()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){j()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ae))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function K(){return new $((0,g.LFG)(ae))}()},providedIn:"platform"}),n})();function j(){return!!window.history.pushState}function Ve(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ie(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function je(n){return n&&"?"!==n[0]?"?"+n:n}let rt=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(_e)},providedIn:"root"}),n})();const ce=new g.OlP("appBaseHref");let _e=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,g.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Ve(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+je(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+je(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+je(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Pe),g.LFG(ce,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),me=(()=>{class n extends rt{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Ve(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+je(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+je(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Pe),g.LFG(ce,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),Me=(()=>{class n{constructor(t){this._subject=new g.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Ue(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ie(Ee(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+je(r))}normalize(t){return n.stripTrailingSlash(function Te(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+je(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=je,n.joinWithSlash=Ve,n.stripTrailingSlash=Ie,n.\u0275fac=function(t){return new(t||n)(g.LFG(rt))},n.\u0275prov=g.Yz7({token:n,factory:function(){return function be(){return new Me((0,g.LFG)(rt))}()},providedIn:"root"}),n})();function Ee(n){return n.replace(/\/index.html$/,"")}let Qa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})();let Xs=(()=>{class n{}return n.\u0275prov=(0,g.Yz7)({token:n,providedIn:"root",factory:()=>new ra((0,g.LFG)(ae),window)}),n})();class ra{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ia(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Js(this.window.history)||Js(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Js(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class eo extends oe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class fa extends eo{static makeCurrent(){!function ie(n){V||(V=n)}(new fa)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xd(){return Fo=Fo||document.querySelector("base"),Fo?Fo.getAttribute("href"):null}();return null==t?null:function qn(n){Rs=Rs||document.createElement("a"),Rs.setAttribute("href",n);const e=Rs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Fo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Ju(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Rs,Fo=null;const Jd=new g.OlP("TRANSITION_ID"),dl=[{provide:g.ip1,useFactory:function fc(n,e,t){return()=>{t.get(g.CZH).donePromise.then(()=>{const r=G(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Jd,ae,g.zs3],multi:!0}];let pa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const lu=new g.OlP("EventManagerPlugins");let En=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const l=i[a];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(lu),g.LFG(g.R0b))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class th{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=G().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Ns=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let a=i.get(t)??0;return a+=r,a>0?i.set(t,a):i.delete(t),a}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),to=(()=>{class n extends Ns{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(a=>a.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const a=this.styleRef.get(r);a?a.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ae))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const Ps={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},no=/%COMP%/g,Os=new g.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function io(n,e){return e.flat(100).map(t=>t.replace(no,n))}function hu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let so=(()=>{class n{constructor(t,r,i,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=a,this.rendererByCompId=new Map,this.defaultRenderer=new li(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof oo?i.applyToHost(t):i instanceof fu&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.eventManager,h=this.sharedStylesHost,y=this.removeStylesOnCompDestory;switch(r.encapsulation){case g.ifc.Emulated:a=new oo(l,h,r,this.appId,y);break;case g.ifc.ShadowDom:return new fl(l,h,t,r);default:a=new fu(l,h,r,y)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(En),g.LFG(to),g.LFG(g.AFp),g.LFG(Os))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();class li{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Ps[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ma(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ma(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Ps[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Ps[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(g.JOm.DashCase|g.JOm.Important)?e.style.setProperty(t,r,i&g.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&g.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,hu(r)):this.eventManager.addEventListener(e,t,hu(r))}}function ma(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fl extends li{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=io(i.id,i.styles);for(const l of a){const h=document.createElement("style");h.textContent=l,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class fu extends li{constructor(e,t,r,i,a=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=io(a,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class oo extends fu{constructor(e,t,r,i,a){const l=i+"-"+r.id;super(e,t,r,a,l),this.contentAttr=function as(n){return"_ngcontent-%COMP%".replace(no,n)}(l),this.hostAttr=function Ip(n){return"_nghost-%COMP%".replace(no,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let nh=(()=>{class n extends th{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ae))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const ya=["alt","control","meta","shift"],pc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ci={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pl=(()=>{class n extends th{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>G().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),ya.forEach(v=>{const b=r.indexOf(v);b>-1&&(r.splice(b,1),l+=v+".")}),l+=a,0!=r.length||0===a.length)return null;const y={};return y.domEventName=i,y.fullKey=l,y}static matchEventFullKeyCode(t,r){let i=pc[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),ya.forEach(l=>{l!==i&&(0,ci[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ae))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();const gc=(0,g.eFA)(g._c5,"browser",[{provide:g.Lbi,useValue:"browser"},{provide:g.g9A,useValue:function pu(){fa.makeCurrent()},multi:!0},{provide:ae,useFactory:function rh(){return(0,g.RDi)(document),document},deps:[]}]),mc=new g.OlP(""),ml=[{provide:g.rWj,useClass:class eh{addToWindow(e){g.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},g.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),g.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),g.dqk.frameworkStabilizers||(g.dqk.frameworkStabilizers=[]),g.dqk.frameworkStabilizers.push(r=>{const i=g.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const h=function(y){l=l||y,a--,0==a&&r(l)};i.forEach(function(y){y.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?G().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:g.lri,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]},{provide:g.dDg,useClass:g.dDg,deps:[g.R0b,g.eoX,g.rWj]}],Vo=[{provide:g.zSh,useValue:"root"},{provide:g.qLn,useFactory:function va(){return new g.qLn},deps:[]},{provide:lu,useClass:nh,multi:!0,deps:[ae,g.R0b,g.Lbi]},{provide:lu,useClass:pl,multi:!0,deps:[ae]},{provide:so,useClass:so,deps:[En,to,g.AFp,Os]},{provide:g.FYo,useExisting:so},{provide:Ns,useExisting:to},{provide:to,useClass:to,deps:[ae]},{provide:En,useClass:En,deps:[lu,g.R0b]},{provide:class eu{},useClass:pa,deps:[]},[]];let wa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:g.AFp,useValue:t.appId},{provide:Jd,useExisting:g.AFp},dl]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(mc,12))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[...Vo,...ml],imports:[Qa,g.hGG]}),n})(),us=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(ae))},n.\u0275prov=g.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function yc(){return new us((0,g.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var qt=F(8996),Br=F(7669);function it(...n){const e=(0,Br.yG)(n);return(0,qt.D)(n,e)}var cs=F(7579);class Zr extends cs.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const Sa=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Fs=F(9751);const{isArray:Tc}=Array,{getPrototypeOf:co,prototype:vl,keys:El}=Object;function Aa(n){if(1===n.length){const e=n[0];if(Tc(e))return{args:e,keys:null};if(function Si(n){return n&&"object"==typeof n&&co(n)===vl}(e)){const t=El(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Ls=F(4671),bt=F(4004);const{isArray:Bo}=Array;function yu(n){return(0,bt.U)(e=>function Tp(n,e){return Bo(e)?n(...e):n(e)}(n,e))}function Vs(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var ir=F(5403),_u=F(9672);function D(...n){const e=(0,Br.yG)(n),t=(0,Br.jO)(n),{args:r,keys:i}=Aa(n);if(0===r.length)return(0,qt.D)([],e);const a=new Fs.y(function T(n,e,t=Ls.y){return r=>{M(e,()=>{const{length:i}=n,a=new Array(i);let l=i,h=i;for(let y=0;y<i;y++)M(e,()=>{const v=(0,qt.D)(n[y],e);let b=!1;v.subscribe((0,ir.x)(r,A=>{a[y]=A,b||(b=!0,h--),h||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>Vs(i,l):Ls.y));return t?a.pipe(yu(t)):a}function M(n,e,t){n?(0,_u.f)(t,n,e):e()}var O=F(8189);function J(...n){return function z(){return(0,O.J)(1)}()((0,qt.D)(n,(0,Br.yG)(n)))}var Ce=F(8421);function nt(n){return new Fs.y(e=>{(0,Ce.Xf)(n()).subscribe(e)})}var ut=F(9635),lt=F(576);function Pt(n,e){const t=(0,lt.m)(n)?n:()=>n,r=i=>i.error(t());return new Fs.y(e?i=>e.schedule(r,0,i):r)}var yt=F(515),_r=F(727),rn=F(4482);function Us(){return(0,rn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,ir.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Ma extends Fs.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,rn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new _r.w0;const t=this.getSubject();e.add(this.source.subscribe((0,ir.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=_r.w0.EMPTY)}return e}refCount(){return Us()(this)}}function Pn(n,e){return(0,rn.e)((t,r)=>{let i=null,a=0,l=!1;const h=()=>l&&!i&&r.complete();t.subscribe((0,ir.x)(r,y=>{i?.unsubscribe();let v=0;const b=a++;(0,Ce.Xf)(n(y,b)).subscribe(i=(0,ir.x)(r,A=>r.next(e?e(y,A,b,v++):A),()=>{i=null,h()}))},()=>{l=!0,h()}))})}function sr(n){return n<=0?()=>yt.E:(0,rn.e)((e,t)=>{let r=0;e.subscribe((0,ir.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qr(n,e){return(0,rn.e)((t,r)=>{let i=0;t.subscribe((0,ir.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Xr=F(5577);function vu(n){return(0,rn.e)((e,t)=>{let r=!1;e.subscribe((0,ir.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function $m(n=NE){return(0,rn.e)((e,t)=>{let r=!1;e.subscribe((0,ir.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function NE(){return new Sa}function ds(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qr((i,a)=>n(i,a,r)):Ls.y,sr(1),t?vu(e):$m(()=>new Sa))}function Eu(n,e){return(0,lt.m)(e)?(0,Xr.z)(n,e,1):(0,Xr.z)(n,1)}var Jr=F(8505);function xa(n){return(0,rn.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,ir.x)(t,void 0,void 0,l=>{a=(0,Ce.Xf)(n(l,xa(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function jm(n,e){return(0,rn.e)(function Sp(n,e,t,r,i){return(a,l)=>{let h=t,y=e,v=0;a.subscribe((0,ir.x)(l,b=>{const A=v++;y=h?n(y,b,A):(h=!0,b),r&&l.next(y)},i&&(()=>{h&&l.next(y),l.complete()})))}}(n,e,arguments.length>=2,!0))}function ah(n){return n<=0?()=>yt.E:(0,rn.e)((e,t)=>{let r=[];e.subscribe((0,ir.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function uh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Qr((i,a)=>n(i,a,r)):Ls.y,ah(1),t?vu(e):$m(()=>new Sa))}function wl(n){return(0,rn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ot="primary",hi=Symbol("RouteTitle");class Hm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wu(n){return new Hm(n)}function ch(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],h=n[a];if(l.startsWith(":"))i[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function fi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!xp(n[i],e[i]))return!1;return!0}function xp(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function dh(n){return Array.prototype.concat.apply([],n)}function Rp(n){return n.length>0?n[n.length-1]:null}function Rr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fo(n){return(0,g.CqO)(n)?n:(0,g.QGY)(n)?(0,qt.D)(Promise.resolve(n)):it(n)}const vr=!1,fh={exact:function Iu(n,e,t){if(!P(n.segments,e.segments)||!E(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Iu(n.children[r],e.children[r],t))return!1;return!0},subset:mh},ph={exact:function $r(n,e){return fi(n,e)},subset:function gh(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>xp(n[t],e[t]))},ignored:()=>!0};function Sc(n,e,t){return fh[t.paths](n.root,e.root,t.matrixParams)&&ph[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function mh(n,e,t){return Np(n,e,e.segments,t)}function Np(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!P(i,t)||e.hasChildren()||!E(i,t,r))}if(n.segments.length===t.length){if(!P(n.segments,t)||!E(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!mh(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(P(n.segments,i)&&E(n.segments,i,r)&&n.children[Ot])&&Np(n.children[Ot],e,a,r)}}function E(n,e,t){return e.every((r,i)=>ph[t](n[i].parameters,r.parameters))}class p{constructor(e=new m([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wu(this.queryParams)),this._queryParamMap}toString(){return dt.serialize(this)}}class m{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tt(this)}}class I{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wu(this.parameters)),this._parameterMap}toString(){return Ac(this)}}function P(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ye=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return new Ye},providedIn:"root"}),n})();class Ye{parse(e){const t=new PE(e);return new p(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${yn(e.root,!0)}`,r=function Mc(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Ai(t)}=${Ai(i)}`).join("&"):`${Ai(t)}=${Ai(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Cu(n){return encodeURI(n)}(e.fragment)}`:""}`}}const dt=new Ye;function Tt(n){return n.segments.map(e=>Ac(e)).join("/")}function yn(n,e){if(!n.hasChildren())return Tt(n);if(e){const t=n.children[Ot]?yn(n.children[Ot],!1):"",r=[];return Rr(n.children,(i,a)=>{a!==Ot&&r.push(`${a}:${yn(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Z(n,e){let t=[];return Rr(n.children,(r,i)=>{i===Ot&&(t=t.concat(e(r,i)))}),Rr(n.children,(r,i)=>{i!==Ot&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ot?[yn(n.children[Ot],!1)]:[`${i}:${yn(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${Tt(n)}/${t[0]}`:`${Tt(n)}/(${t.join("//")})`}}function hs(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ai(n){return hs(n).replace(/%3B/gi,";")}function Il(n){return hs(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fs(n){return decodeURIComponent(n)}function Cl(n){return fs(n.replace(/\+/g,"%20"))}function Ac(n){return`${Il(n.path)}${function yh(n){return Object.keys(n).map(e=>`;${Il(e)}=${Il(n[e])}`).join("")}(n.parameters)}`}const Pp=/^[^\/()?;=#]+/;function Du(n){const e=n.match(Pp);return e?e[0]:""}const Op=/^[^=?&#]+/,_h=/^[^&#]+/;class PE{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m([],{}):new m([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ot]=new m(e,t)),r}parseSegment(){const e=Du(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new g.vHH(4009,vr);return this.capture(e),new I(fs(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Du(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Du(this.remaining);i&&(r=i,this.capture(r))}e[fs(t)]=fs(r)}parseQueryParam(e){const t=function Gm(n){const e=n.match(Op);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Wm(n){const e=n.match(_h);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=Cl(t),a=Cl(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Du(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new g.vHH(4010,vr);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=Ot);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[Ot]:new m([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new g.vHH(4011,vr)}}function vh(n){return n.segments.length>0?new m([],{[Ot]:n}):n}function Eh(n){const e={};for(const r of Object.keys(n.children)){const a=Eh(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function zm(n){if(1===n.numberOfChildren&&n.children[Ot]){const e=n.children[Ot];return new m(n.segments.concat(e.segments),e.children)}return n}(new m(n.segments,e))}function Dl(n){return n instanceof p}const qm=!1;function OE(n,e,t,r,i){if(0===t.length)return Ih(e.root,e.root,e.root,r,i);const a=function Ym(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new kE(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Rr(a.outlets,(y,v)=>{h[v]="string"==typeof y?y.split("/"):y}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((h,y)=>{0==y&&"."===h||(0==y&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new kE(t,e,r)}(t);return a.toRoot()?Ih(e.root,e.root,new m([],{}),r,i):function l(y){const v=function Zm(n,e,t,r){if(n.isAbsolute)return new bl(e.root,!0,0);if(-1===r)return new bl(t,t===e.root,0);return function Qm(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new g.vHH(4005,qm&&"Invalid number of '../'");i=r.segments.length}return new bl(r,!1,i-a)}(t,r+(xc(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,y),b=v.processChildren?Tl(v.segmentGroup,v.index,a.commands):Rc(v.segmentGroup,v.index,a.commands);return Ih(e.root,v.segmentGroup,b,r,i)}(n.snapshot?._lastPathIndex)}function xc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function wh(n){return"object"==typeof n&&null!=n&&n.outlets}function Ih(n,e,t,r,i){let l,a={};r&&Rr(r,(y,v)=>{a[v]=Array.isArray(y)?y.map(b=>`${b}`):`${y}`}),l=n===e?t:Ch(n,e,t);const h=vh(Eh(l));return new p(h,a,i)}function Ch(n,e,t){const r={};return Rr(n.children,(i,a)=>{r[a]=i===e?t:Ch(i,e,t)}),new m(n.segments,r)}class kE{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&xc(r[0]))throw new g.vHH(4003,qm&&"Root segment cannot have matrix parameters");const i=r.find(wh);if(i&&i!==Rp(r))throw new g.vHH(4004,qm&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class bl{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Rc(n,e,t){if(n||(n=new m([],{})),0===n.segments.length&&n.hasChildren())return Tl(n,e,t);const r=function Xm(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],h=t[r];if(wh(h))break;const y=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===y)break;if(y&&v&&"object"==typeof v&&void 0===v.outlets){if(!LE(y,v,l))return a;r+=2}else{if(!LE(y,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new m(n.segments.slice(0,r.pathIndex),{});return a.children[Ot]=new m(n.segments.slice(r.pathIndex),n.children),Tl(a,0,i)}return r.match&&0===i.length?new m(n.segments,{}):r.match&&!n.hasChildren()?Dh(n,e,t):r.match?Tl(n,0,i):Dh(n,e,t)}function Tl(n,e,t){if(0===t.length)return new m(n.segments,{});{const r=function kp(n){return wh(n[0])?n[0].outlets:{[Ot]:n}}(t),i={};return!r[Ot]&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length?Tl(n.children[Ot],e,t):(Rr(r,(a,l)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[l]=Rc(n.children[l],e,a))}),Rr(n.children,(a,l)=>{void 0===r[l]&&(i[l]=a)}),new m(n.segments,i))}}function Dh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(wh(a)){const y=Jm(a.outlets);return new m(r,y)}if(0===i&&xc(t[0])){r.push(new I(n.segments[e].path,Nc(t[0]))),i++;continue}const l=wh(a)?a.outlets[Ot]:`${a}`,h=i<t.length-1?t[i+1]:null;l&&h&&xc(h)?(r.push(new I(l,Nc(h))),i+=2):(r.push(new I(l,{})),i++)}return new m(r,{})}function Jm(n){const e={};return Rr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Dh(new m([],{}),0,t))}),e}function Nc(n){const e={};return Rr(n,(t,r)=>e[r]=`${t}`),e}function LE(n,e,t){return n==t.path&&fi(e,t.parameters)}const Pc="imperative";class $o{constructor(e,t){this.id=e,this.url=t}}class ey extends $o{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sl extends $o{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class bh extends $o{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Th extends $o{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Oc extends $o{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ty extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kc extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zD extends $o{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class qD extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UR extends $o{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class KD{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ny{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class YD{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class VE{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ry{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class iy{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let $E=(()=>{class n{createUrlTree(t,r,i,a,l,h){return OE(t||r.root,i,a,l,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})(),QD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(e){return $E.\u0275fac(e)},providedIn:"root"}),n})();class jE{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sy(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=sy(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=oy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return oy(e,this._root).map(t=>t.value)}}function sy(n,e){if(n===e.value)return e;for(const t of e.children){const r=sy(n,t);if(r)return r}return null}function oy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=oy(n,t);if(r.length)return r.unshift(e),r}return[]}class pi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function jo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class HE extends jE{constructor(e,t){super(e),this.snapshot=t,ay(this,e)}toString(){return this.snapshot.toString()}}function XD(n,e){const t=function BR(n,e){const l=new Ah([],{},{},"",{},Ot,e,null,n.root,-1,{});return new GE("",new pi(l,[]))}(n,e),r=new Zr([new I("",{})]),i=new Zr({}),a=new Zr({}),l=new Zr({}),h=new Zr(""),y=new Sh(r,i,l,h,a,Ot,e,t.root);return y.snapshot=t.root,new HE(new pi(y,[]),t)}class Sh{constructor(e,t,r,i,a,l,h,y){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=h,this.title=this.data?.pipe((0,bt.U)(v=>v[hi]))??it(void 0),this._futureSnapshot=y}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,bt.U)(e=>wu(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,bt.U)(e=>wu(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function JD(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function $R(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Ah{get title(){return this.data?.[hi]}constructor(e,t,r,i,a,l,h,y,v,b,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=h,this.routeConfig=y,this._urlSegment=v,this._lastPathIndex=b,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class GE extends jE{constructor(e,t){super(t),this.url=e,ay(this,t)}toString(){return WE(this._root)}}function ay(n,e){e.value._routerState=n,e.children.forEach(t=>ay(n,t))}function WE(n){const e=n.children.length>0?` { ${n.children.map(WE).join(", ")} } `:"";return`${n.value}${e}`}function uy(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,fi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),fi(e.params,t.params)||n.params.next(t.params),function Mp(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!fi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),fi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Mh(n,e){const t=fi(n.params,e.params)&&function x(n,e){return P(n,e)&&n.every((t,r)=>fi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Mh(n.parent,e.parent))}function Na(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zE(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Na(n,r,i);return Na(n,r)})}(n,e,t);return new pi(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Na(n,h)),l}}const r=function qE(n){return new Sh(new Zr(n.url),new Zr(n.params),new Zr(n.queryParams),new Zr(n.fragment),new Zr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Na(n,a));return new pi(r,i)}}const Lp="ngNavigationCancelingError";function eb(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Dl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=tb(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function tb(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Lp]=!0,r.cancellationCode=e,t&&(r.url=t),r}function nb(n){return Vp(n)&&Dl(n.url)}function Vp(n){return n&&n[Lp]}class ly{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Up,this.attachRef=null}}let Up=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ly,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cy=!1;let Bp=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.parentContexts=(0,g.f3M)(Up),this.location=(0,g.f3M)(g.s_b),this.changeDetector=(0,g.f3M)(g.sBO),this.environmentInjector=(0,g.f3M)(g.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new g.vHH(4012,cy);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new g.vHH(4012,cy);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new g.vHH(4012,cy);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new g.vHH(4013,cy);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,y=new rb(t,h,i.injector);if(r&&function ib(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(l);this.activated=i.createComponent(v,i.length,y)}else this.activated=i.createComponent(l,{index:i.length,injector:y,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[g.TTD]}),n})();class rb{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Sh?this.route:e===Up?this.childContexts:this.parent.get(e,t)}}let dy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[g.jDz],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[Bp],encapsulation:2}),n})();function KE(n,e){return n.providers&&!n._injector&&(n._injector=(0,g.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function $p(n){const e=n.children&&n.children.map($p),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ot&&(t.component=dy),t}function ps(n){return n.outlet||Ot}function ZE(n,e){const t=n.filter(r=>ps(r)===e);return t.push(...n.filter(r=>ps(r)!==e)),t}function xh(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lb{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),uy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=jo(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Rr(i,(a,l)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=jo(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=jo(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=jo(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new ry(a.value.snapshot))}),e.children.length&&this.forwardEvent(new VE(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(uy(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),uy(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=xh(i.snapshot),y=h?.get(g._Vd)??null;l.attachRef=null,l.route=i,l.resolver=y,l.injector=h,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class py{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class gy{constructor(e,t){this.component=e,this.route=t}}function HR(n,e,t){const r=n._root;return Fc(r,e?e._root:null,t,[r.value])}function Tu(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,g.Z0I)(n)?e.get(n):n:r}function Fc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=jo(e);return n.children.forEach(l=>{(function QE(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const y=function XE(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!P(n.url,e.url);case"pathParamsOrQueryParamsChange":return!P(n.url,e.url)||!fi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mh(n,e)||!fi(n.queryParams,e.queryParams);default:return!Mh(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new py(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Fc(n,e,a.component?h?h.children:null:t,r,i),y&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new gy(h.outlet.component,l))}else l&&jp(e,h,i),i.canActivateChecks.push(new py(r)),Fc(n,null,a.component?h?h.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Rr(a,(l,h)=>jp(l,t.getContext(h),i)),i}function jp(n,e,t){const r=jo(n),i=n.value;Rr(r,(a,l)=>{jp(a,i.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new gy(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Nh(n){return"function"==typeof n}function Hp(n){return n instanceof Sa||"EmptyError"===n?.name}const Ho=Symbol("INITIAL_VALUE");function Lc(){return Pn(n=>D(n.map(e=>e.pipe(sr(1),function ho(...n){const e=(0,Br.yG)(n);return(0,rn.e)((t,r)=>{(e?J(n,t,e):J(n,t)).subscribe(r)})}(Ho)))).pipe((0,bt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ho)return Ho;if(!1===t||t instanceof p)return t}return!0}),Qr(e=>e!==Ho),sr(1)))}function iw(n){return(0,ut.z)((0,Jr.b)(e=>{if(Dl(e))throw eb(0,e)}),(0,bt.U)(e=>!0===e))}const Su={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ow(n,e,t,r,i){const a=wy(n,e,t);return a.matched?function sw(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?it(i.map(l=>{const h=Tu(l,n);return fo(function cb(n){return n&&Nh(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Lc(),iw()):it(!0)}(r=KE(e,r),e,t).pipe((0,bt.U)(l=>!0===l?a:{...Su})):it(a)}function wy(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Su}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ch)(t,n,e);if(!i)return{...Su};const a={};Rr(i.posParams,(h,y)=>{a[y]=h.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function zp(n,e,t,r){if(t.length>0&&function aw(n,e,t){return t.some(r=>Ph(n,e,r)&&ps(r)!==Ot)}(n,t,r)){const a=new m(e,function fb(n,e,t,r){const i={};i[Ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ps(a)!==Ot){const l=new m([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,i[ps(a)]=l}return i}(n,e,r,new m(t,n.children)));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:[]}}if(0===t.length&&function pb(n,e,t){return t.some(r=>Ph(n,e,r))}(n,t,r)){const a=new m(n.segments,function Iy(n,e,t,r,i){const a={};for(const l of r)if(Ph(n,t,l)&&!i[ps(l)]){const h=new m([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[ps(l)]=h}return{...i,...a}}(n,e,t,r,n.children));return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}const i=new m(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Ph(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function gb(n,e,t,r){return!!(ps(n)===r||r!==Ot&&Ph(e,t,n))&&("**"===n.path||wy(e,n,t).matched)}function uw(n,e,t){return 0===e.length&&!n.children[t]}const Au=!1;class qp{constructor(e){this.segmentGroup=e||null}}class Ml{constructor(e){this.urlTree=e}}function Pa(n){return Pt(new qp(n))}function lw(n){return Pt(new Ml(n))}class _b{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=zp(this.urlTree.root,[],[],this.config).segmentGroup,t=new m(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ot).pipe((0,bt.U)(a=>this.createUrlTree(Eh(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xa(a=>{if(a instanceof Ml)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof qp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ot).pipe((0,bt.U)(i=>this.createUrlTree(Eh(i),e.queryParams,e.fragment))).pipe(xa(i=>{throw i instanceof qp?this.noMatchError(i):i}))}noMatchError(e){return new g.vHH(4002,Au)}createUrlTree(e,t,r){const i=vh(e);return new p(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,bt.U)(a=>new m([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,qt.D)(i).pipe(Eu(a=>{const l=r.children[a],h=ZE(t,a);return this.expandSegmentGroup(e,h,l,a).pipe((0,bt.U)(y=>({segment:y,outlet:a})))}),jm((a,l)=>(a[l.outlet]=l.segment,a),{}),uh())}expandSegment(e,t,r,i,a,l){return(0,qt.D)(r).pipe(Eu(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,l).pipe(xa(v=>{if(v instanceof qp)return it(null);throw v}))),ds(h=>!!h),xa((h,y)=>{if(Hp(h))return uw(t,i,a)?it(new m([],{})):Pa(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,l,h){return gb(i,t,a,l)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l):Pa(t):Pa(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?lw(a):this.lineralizeSegments(r,a).pipe((0,Xr.z)(l=>{const h=new m(l,{});return this.expandSegment(e,h,t,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:h,consumedSegments:y,remainingSegments:v,positionalParamSegments:b}=wy(t,i,a);if(!h)return Pa(t);const A=this.applyRedirectCommands(y,i.redirectTo,b);return i.redirectTo.startsWith("/")?lw(A):this.lineralizeSegments(i,A).pipe((0,Xr.z)(N=>this.expandSegment(e,t,r,N.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=KE(r,e),r.loadChildren?(r._loadedRoutes?it({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,bt.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new m(i,{})))):it(new m(i,{}))):ow(t,r,i,e).pipe(Pn(({matched:l,consumedSegments:h,remainingSegments:y})=>l?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Xr.z)(b=>{const A=b.injector??e,N=b.routes,{segmentGroup:U,slicedSegments:q}=zp(t,h,y,N),le=new m(U.segments,U.children);if(0===q.length&&le.hasChildren())return this.expandChildren(A,N,le).pipe((0,bt.U)(Rt=>new m(h,Rt)));if(0===N.length&&0===q.length)return it(new m(h,{}));const xe=ps(r)===a;return this.expandSegment(A,le,N,q,xe?Ot:a,!0).pipe((0,bt.U)(Wt=>new m(h.concat(Wt.segments),Wt.children)))})):Pa(t)))}getChildConfig(e,t,r){return t.children?it({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?it({routes:t._loadedRoutes,injector:t._loadedInjector}):function hb(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?it(!0):it(i.map(l=>{const h=Tu(l,n);return fo(function ew(n){return n&&Nh(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Lc(),iw())}(e,t,r).pipe((0,Xr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Jr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function mb(n){return Pt(tb(Au,3))}())):it({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return it(r);if(i.numberOfChildren>1||!i.children[Ot])return e.redirectTo,Pt(new g.vHH(4e3,Au));i=i.children[Ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new p(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Rr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Rr(t.children,(h,y)=>{l[y]=this.createSegmentGroup(e,h,r,i)}),new m(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new g.vHH(4001,Au);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Dy{}class Ty{constructor(e,t,r,i,a,l,h){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=l,this.urlSerializer=h}recognize(){const e=zp(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ot).pipe((0,bt.U)(t=>{if(null===t)return null;const r=new Ah([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new pi(r,t),a=new GE(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=JD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,qt.D)(Object.keys(r.children)).pipe(Eu(i=>{const a=r.children[i],l=ZE(t,i);return this.processSegmentGroup(e,l,a,i)}),jm((i,a)=>i&&a?(i.push(...a),i):null),function lh(n,e=!1){return(0,rn.e)((t,r)=>{let i=0;t.subscribe((0,ir.x)(r,a=>{const l=n(a,i++);(l||e)&&r.next(a),!l&&r.complete()}))})}(i=>null!==i),vu(null),uh(),(0,bt.U)(i=>{if(null===i)return null;const a=hw(i);return function Oh(n){n.sort((e,t)=>e.value.outlet===Ot?-1:t.value.outlet===Ot?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,qt.D)(t).pipe(Eu(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,i,a)),ds(l=>!!l),xa(l=>{if(Hp(l))return uw(r,i,a)?it([]):it(null);throw l}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!gb(t,r,i,a))return it(null);let l;if("**"===t.path){const h=i.length>0?Rp(i).parameters:{},y=pw(r)+i.length;l=it({snapshot:new Ah(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xl(t),ps(t),t.component??t._loadedComponent??null,t,fw(r),y,Go(t)),consumedSegments:[],remainingSegments:[]})}else l=ow(r,t,i,e).pipe((0,bt.U)(({matched:h,consumedSegments:y,remainingSegments:v,parameters:b})=>{if(!h)return null;const A=pw(r)+y.length;return{snapshot:new Ah(y,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xl(t),ps(t),t.component??t._loadedComponent??null,t,fw(r),A,Go(t)),consumedSegments:y,remainingSegments:v}}));return l.pipe(Pn(h=>{if(null===h)return it(null);const{snapshot:y,consumedSegments:v,remainingSegments:b}=h;e=t._injector??e;const A=t._loadedInjector??e,N=function Eb(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:U,slicedSegments:q}=zp(r,v,b,N.filter(xe=>void 0===xe.redirectTo));if(0===q.length&&U.hasChildren())return this.processChildren(A,N,U).pipe((0,bt.U)(xe=>null===xe?null:[new pi(y,xe)]));if(0===N.length&&0===q.length)return it([new pi(y,[])]);const le=ps(t)===a;return this.processSegment(A,N,U,q,le?Ot:a).pipe((0,bt.U)(xe=>null===xe?null:[new pi(y,xe)]))}))}}function wb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function hw(n){const e=[],t=new Set;for(const r of n){if(!wb(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=hw(r.children);e.push(new pi(r.value,i))}return e.filter(r=>!t.has(r))}function fw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function pw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function xl(n){return n.data||{}}function Go(n){return n.resolve||{}}function Sy(n){return"string"==typeof n.title||null===n.title}function Kp(n){return Pn(e=>{const t=n(e);return t?(0,qt.D)(t).pipe((0,bt.U)(()=>e)):it(e)})}const Rl=new g.OlP("ROUTES");let Ay=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,g.f3M)(g.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return it(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=fo(t.loadComponent()).pipe((0,bt.U)(Bs),(0,Jr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),wl(()=>{this.componentLoaders.delete(t)})),i=new Ma(r,()=>new cs.x).pipe(Us());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return it({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,bt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let y,v,b=!1;Array.isArray(h)?v=h:(y=h.create(t).injector,v=dh(y.get(Rl,[],g.XFs.Self|g.XFs.Optional)));return{routes:v.map($p),injector:y}}),wl(()=>{this.childrenLoaders.delete(r)})),l=new Ma(a,()=>new cs.x).pipe(Us());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return fo(t()).pipe((0,bt.U)(Bs),(0,Xr.z)(r=>r instanceof g.YKP||Array.isArray(r)?it(r):(0,qt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Bs(n){return function bb(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let kh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new cs.x,this.configLoader=(0,g.f3M)(Ay),this.environmentInjector=(0,g.f3M)(g.lqb),this.urlSerializer=(0,g.f3M)(ye),this.rootContexts=(0,g.f3M)(Up),this.navigationId=0,this.afterPreactivation=()=>it(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new ny(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new KD(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Zr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Pc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qr(r=>0!==r.id),(0,bt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Pn(r=>{let i=!1,a=!1;return it(r).pipe((0,Jr.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Pn(l=>{const h=t.browserUrlTree.toString(),y=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!y&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new Th(l.id,t.serializeUrl(r.rawUrl),b,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),yt.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return yw(l.source)&&(t.browserUrlTree=l.extractedUrl),it(l).pipe(Pn(b=>{const A=this.transitions?.getValue();return this.events.next(new ey(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),A!==this.transitions?.getValue()?yt.E:Promise.resolve(b)}),function dw(n,e,t,r){return Pn(i=>function yb(n,e,t,r,i){return new _b(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,bt.U)(a=>({...i,urlAfterRedirects:a}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Jr.b)(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},r.urlAfterRedirects=b.urlAfterRedirects}),function Cb(n,e,t,r,i){return(0,Xr.z)(a=>function vb(n,e,t,r,i,a,l="emptyOnly"){return new Ty(n,e,t,r,i,l,a).recognize().pipe(Pn(h=>null===h?function by(n){return new Fs.y(e=>e.error(n))}(new Dy):it(h)))}(n,e,t,a.urlAfterRedirects,r.serialize(a.urlAfterRedirects),r,i).pipe((0,bt.U)(l=>({...a,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Jr.b)(b=>{if(r.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const N=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(N,b)}t.browserUrlTree=b.urlAfterRedirects}const A=new ty(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}));if(y&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:A,source:N,restoredState:U,extras:q}=l,le=new ey(b,this.urlSerializer.serialize(A),N,U);this.events.next(le);const xe=XD(A,this.rootComponentType).snapshot;return it(r={...l,targetSnapshot:xe,urlAfterRedirects:A,extras:{...q,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new Th(l.id,t.serializeUrl(r.extractedUrl),b,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),yt.E}}),(0,Jr.b)(l=>{const h=new kc(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,bt.U)(l=>r={...l,guards:HR(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function _y(n,e){return(0,Xr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?it({...t,guardsResult:!0}):function Gp(n,e,t,r){return(0,qt.D)(n).pipe((0,Xr.z)(i=>function Ey(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?it(a.map(h=>{const y=xh(e)??i,v=Tu(h,y);return fo(function yy(n){return n&&Nh(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):y.runInContext(()=>v(n,e,t,r))).pipe(ds())})).pipe(Lc()):it(!0)}(i.component,i.route,t,e,r)),ds(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Xr.z)(h=>h&&function JE(n){return"boolean"==typeof n}(h)?function db(n,e,t,r){return(0,qt.D)(e).pipe(Eu(i=>J(function Wp(n,e){return null!==n&&e&&e(new YD(n)),it(!0)}(i.route.parent,r),function vy(n,e){return null!==n&&e&&e(new Fp(n)),it(!0)}(i.route,r),function rw(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function Rh(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>nt(()=>it(l.guards.map(y=>{const v=xh(l.node)??t,b=Tu(y,v);return fo(function GR(n){return n&&Nh(n.canActivateChild)}(b)?b.canActivateChild(r,n):v.runInContext(()=>b(r,n))).pipe(ds())})).pipe(Lc())));return it(a).pipe(Lc())}(n,i.path,t),function Al(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return it(!0);const i=r.map(a=>nt(()=>{const l=xh(e)??t,h=Tu(a,l);return fo(function my(n){return n&&Nh(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(ds())}));return it(i).pipe(Lc())}(n,i.route,t))),ds(i=>!0!==i,!0))}(r,a,n,e):it(h)),(0,bt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Jr.b)(l=>{if(r.guardsResult=l.guardsResult,Dl(l.guardsResult))throw eb(0,l.guardsResult);const h=new zD(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Qr(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Kp(l=>{if(l.guards.canActivateChecks.length)return it(l).pipe((0,Jr.b)(h=>{const y=new qD(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}),Pn(h=>{let y=!1;return it(h).pipe(function Db(n,e){return(0,Xr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return it(t);let a=0;return(0,qt.D)(i).pipe(Eu(l=>function zR(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!Sy(i)&&(a[hi]=i.title),function qR(n,e,t,r){const i=function gw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return it({});const a={};return(0,qt.D)(i).pipe((0,Xr.z)(l=>function KR(n,e,t,r){const i=xh(e)??r,a=Tu(n,i);return fo(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(ds(),(0,Jr.b)(h=>{a[l]=h}))),ah(1),function Ap(n){return(0,bt.U)(()=>n)}(a),xa(l=>Hp(l)?yt.E:Pt(l)))}(a,n,e,r).pipe((0,bt.U)(l=>(n._resolvedData=l,n.data=JD(n,t).resolve,i&&Sy(i)&&(n.data[hi]=i.title),null)))}(l.route,r,n,e)),(0,Jr.b)(()=>a++),ah(1),(0,Xr.z)(l=>a===i.length?it(t):yt.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Jr.b)({next:()=>y=!0,complete:()=>{y||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Jr.b)(h=>{const y=new UR(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(y)}))}),Kp(l=>{const h=y=>{const v=[];y.routeConfig?.loadComponent&&!y.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(y.routeConfig).pipe((0,Jr.b)(b=>{y.component=b}),(0,bt.U)(()=>{})));for(const b of y.children)v.push(...h(b));return v};return D(h(l.targetSnapshot.root)).pipe(vu(),sr(1))}),Kp(()=>this.afterPreactivation()),(0,bt.U)(l=>{const h=function Ra(n,e,t){const r=Na(n,e._root,t?t._root:void 0);return new HE(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),(0,Jr.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,bt.U)(r=>(new lb(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),(0,Jr.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Sl(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),wl(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),xa(l=>{if(a=!0,Vp(l)){nb(l)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new bh(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),nb(l)){const y=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),v={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||yw(r.source)};t.scheduleNavigation(y,Pc,null,v,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new Oc(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(l))}catch(y){r.reject(y)}}return yt.E}))}))}cancelNavigationTransition(t,r,i){const a=new bh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yw(n){return n!==Pc}let _w=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===Ot);return r}getResolvedTitleForRoute(t){return t.data[hi]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Tb)},providedIn:"root"}),n})(),Tb=(()=>{class n extends _w{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(us))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Ab)},providedIn:"root"}),n})();class vw{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Ab=(()=>{class n extends vw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Zp=new g.OlP("",{providedIn:"root",factory:()=>({})});let Lt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:function(){return(0,g.f3M)(Ew)},providedIn:"root"}),n})(),Ew=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ww(n){throw n}function xb(n,e,t){return e.parse("/")}const Rb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Iw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,g.f3M)(g.c2e),this.isNgZoneEnabled=!1,this.options=(0,g.f3M)(Zp,{optional:!0})||{},this.errorHandler=this.options.errorHandler||ww,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xb,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,g.f3M)(Lt),this.routeReuseStrategy=(0,g.f3M)(Sb),this.urlCreationStrategy=(0,g.f3M)(QD),this.titleStrategy=(0,g.f3M)(_w),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=dh((0,g.f3M)(Rl,{optional:!0})??[]),this.navigationTransitions=(0,g.f3M)(kh),this.urlSerializer=(0,g.f3M)(ye),this.location=(0,g.f3M)(Me),this.isNgZoneEnabled=(0,g.f3M)(g.R0b)instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new p,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XD(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Pc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const y={...i};delete y.navigationId,delete y.\u0275routerPageId,0!==Object.keys(y).length&&(a.state=y)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map($p),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:h,preserveFragment:y}=r,v=y?this.currentUrlTree.fragment:l;let b=null;switch(h){case"merge":b={...this.currentUrlTree.queryParams,...a};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=a||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,b,v??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Dl(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,Pc,null,r)}navigate(t,r={skipLocationChange:!1}){return function Cw(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new g.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Rb}:!1===r?{...Iw}:r,Dl(t))return Sc(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Sc(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let h,y,v,b;return l?(h=l.resolve,y=l.reject,v=l.promise):v=new Promise((A,N)=>{h=A,y=N}),b="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:h,reject:y,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vc=(()=>{class n{constructor(t,r,i,a,l,h){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=l,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new cs.x;const y=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===y||"area"===y,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof Sl&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,g.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,g.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,g.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,a,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||a||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,g.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,a=this.el.nativeElement;null!==r?i.setAttribute(a,t,r):i.removeAttribute(a,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(qi),g.Y36(Sh),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(rt))},n.\u0275dir=g.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&g.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&g.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[g.TTD]}),n})();class My{}let Ob=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Qr(t=>t instanceof Sl),Eu(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,g.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,h=a._loadedInjector??l;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(l,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,qt.D)(i).pipe((0,O.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):it(null);const a=i.pipe((0,Xr.z)(l=>null===l?it(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,qt.D)([a,l]).pipe((0,O.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(qi),g.LFG(g.Sil),g.LFG(g.lqb),g.LFG(My),g.LFG(Ay))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Fh=new g.OlP("");let Xp=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ey?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sl&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof iy&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new iy(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){g.$Z()},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac}),n})();var gs=(()=>((gs=gs||{})[gs.COMPLETE=0]="COMPLETE",gs[gs.FAILED=1]="FAILED",gs[gs.REDIRECTING=2]="REDIRECTING",gs))();const Lh=!1;function Oa(n,e){return{\u0275kind:n,\u0275providers:e}}const bw=new g.OlP("",{providedIn:"root",factory:()=>!1});function xy(){const n=(0,g.f3M)(g.zs3);return e=>{const t=n.get(g.z2F);if(e!==t.components[0])return;const r=n.get(qi),i=n.get(Uh);1===n.get(Ry)&&r.initialNavigation(),n.get(Sw,null,g.XFs.Optional)?.setUpPreloading(),n.get(Fh,null,g.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Uh=new g.OlP(Lh?"bootstrap done indicator":"",{factory:()=>new cs.x}),Ry=new g.OlP(Lh?"initial navigation":"",{providedIn:"root",factory:()=>1});function Lb(){let n=[];return n=Lh?[{provide:g.Xts,multi:!0,useFactory:()=>{const e=(0,g.f3M)(qi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function UE(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Oa(1,n)}const Sw=new g.OlP(Lh?"router preloader":"");function Vb(n){return Oa(0,[{provide:Sw,useExisting:Ob},{provide:My,useExisting:n}])}const Bc=!1,Jp=new g.OlP(Bc?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),eN=[Me,{provide:ye,useClass:Ye},qi,Up,{provide:Sh,useFactory:function Dw(n){return n.routerState.root},deps:[qi]},Ay,Bc?{provide:bw,useValue:!0}:[]];function Ny(){return new g.PXZ("Router",qi)}let Aw=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[eN,Bc&&r?.enableTracing?Lb().\u0275providers:[],{provide:Rl,multi:!0,useValue:t},{provide:Jp,useFactory:$b,deps:[[qi,new g.FiY,new g.tp0]]},{provide:Zp,useValue:r||{}},r?.useHash?{provide:rt,useClass:me}:{provide:rt,useClass:_e},{provide:Fh,useFactory:()=>{const n=(0,g.f3M)(Xs),e=(0,g.f3M)(g.R0b),t=(0,g.f3M)(Zp),r=(0,g.f3M)(kh),i=(0,g.f3M)(ye);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Xp(i,r,n,e,t)}},r?.preloadingStrategy?Vb(r.preloadingStrategy).\u0275providers:[],{provide:g.PXZ,multi:!0,useFactory:Ny},r?.initialNavigation?xw(r):[],[{provide:Rw,useFactory:xy},{provide:g.tb,multi:!0,useExisting:Rw}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Rl,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Jp,8))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[dy]}),n})();function $b(n){if(Bc&&n)throw new g.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function xw(n){return["disabled"===n.initialNavigation?Oa(3,[{provide:g.ip1,multi:!0,useFactory:()=>{const e=(0,g.f3M)(qi);return()=>{e.setUpLocationChangeListener()}}},{provide:Ry,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Oa(2,[{provide:Ry,useValue:0},{provide:g.ip1,multi:!0,deps:[g.zs3],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(qi),a=e.get(Uh);(function ZR(n,e){n.events.pipe(Qr(t=>t instanceof Sl||t instanceof bh||t instanceof Oc||t instanceof Th),(0,bt.U)(t=>t instanceof Sl||t instanceof Th?gs.COMPLETE:t instanceof bh&&(0===t.code||1===t.code)?gs.REDIRECTING:gs.FAILED),Qr(t=>t!==gs.REDIRECTING),sr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(kh).afterPreactivation=()=>(r(!0),a.closed?it(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const Rw=new g.OlP(Bc?"Router Initializer":"");var _n=F(3069),po=F(259);class go{constructor(e){return e}}class jc{constructor(){return(0,po.C6)()}}const Bh=new g.OlP("angularfire2._apps"),ky={provide:go,useFactory:function Nw(n){return n&&1===n.length?n[0]:new go((0,po.Mq)())},deps:[[new g.FiY,Bh]]},Fy={provide:jc,deps:[[new g.FiY,Bh]]};function Pw(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new go(r)}}let Ly=(()=>{class n{constructor(t){(0,po.KN)("angularfire",_n.q4.full,"core"),(0,po.KN)("angularfire",_n.q4.full,"app"),(0,po.KN)("angular",g.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(g.Lbi))},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[ky,Fy]}),n})();function Hb(n,...e){return{ngModule:Ly,providers:[{provide:Bh,useFactory:Pw(n),multi:!0,deps:[g.R0b,g.zs3,_n.HU,...e]}]}}const Ow=(0,_n.u3)(po.ZF,!0);var On=F(5861),gi=F(9681),eg=F(4859),ee=F(2090),ka=F(1877);const tg=new Map,kw={activated:!1,tokenObservers:[]},zb={initialized:!1,enabled:!1};function ei(n){return tg.get(n)||Object.assign({},kw)}function ng(){return zb}const Vy="https://content-firebaseappcheck.googleapis.com/v1",Kb="exchangeDebugToken",Lw={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Zb{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,On.Z)(function*(){t.stop();try{t.pending=new ee.BH,yield function Wo(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new ee.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Mi=new ee.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Hy(n,e){return $h.apply(this,arguments)}function $h(){return($h=(0,On.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const A=yield i.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,a)}catch(A){throw Mi.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Mi.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(A){throw Mi.create("fetch-parse-error",{originalErrorMessage:A?.message})}const y=h.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(y[1]),b=Date.now();return{token:h.token,expireTimeMillis:b+v,issuedAtTimeMillis:b}})).apply(this,arguments)}const Gy="firebase-app-check-database",og=1,ag="firebase-app-check-store";let Wy=null;function zo(n,e){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,On.Z)(function*(n,e){const r=(yield function zy(){return Wy||(Wy=new Promise((n,e)=>{try{const t=indexedDB.open(Gy,og);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Mi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(ag,{keyPath:"compositeKey"})}}catch(t){e(Mi.create("storage-open",{originalErrorMessage:t?.message}))}}),Wy)}()).transaction(ag,"readwrite"),a=r.objectStore(ag).put({compositeKey:n,value:e});return new Promise((l,h)=>{a.onsuccess=y=>{l()},r.onerror=y=>{var v;h(Mi.create("storage-set",{originalErrorMessage:null===(v=y.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const Gc=new ka.Yd("@firebase/app-check");function Yy(n,e){return(0,ee.hl)()?function Uw(n,e){return zo(function $w(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Gc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Hw(){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,On.Z)(function*(){const n=ng();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tT={error:"UNKNOWN_ERROR"};function nT(n){return ee.US.encodeString(JSON.stringify(n),!1)}function lg(n){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,On.Z)(function*(n,e=!1){const t=n.app;!function $y(n){if(!ei(n).activated)throw Mi.create("use-before-activation",{appName:n.name})}(t);const r=ei(t);let a,i=r.token;if(i&&!Wc(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Wc(y)?i=y:yield Yy(t,void 0))}if(!e&&i&&Wc(i))return{token:i.token};let h,l=!1;if(function Jb(){return ng().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Hy(function sg(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Vy}/projects/${t}/apps/${r}:${Kb}?key=${i}`,body:{debug_token:e}}}(t,yield Hw()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const y=yield r.exchangeTokenPromise;return yield Yy(t,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield ei(t).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?Gc.warn(y.message):Gc.error(y),a=y}return i?a?h=Wc(i)?{token:i.token,internalError:a}:zw(a):(h={token:i.token},r.token=i,yield Yy(t,i)):h=zw(a),l&&function Ww(n,e){const t=ei(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function Gh(n,e){const t=ei(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Gw(n){const{app:e}=n,t=ei(e);let r=t.tokenRefresher;r||(r=function Jy(n){const{app:e}=n;return new Zb((0,On.Z)(function*(){let r;if(r=ei(e).token?yield lg(n,!0):yield lg(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=ei(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Lw.RETRIAL_MIN_WAIT,Lw.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Wc(n){return n.expireTimeMillis-Date.now()>0}function zw(n){return{token:nT(tT),error:n}}class rT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ei(this.app);for(const t of e)Gh(this.app,t.next);return Promise.resolve()}}const Pl="app-check-internal";!function Yc(){(0,gi._registerComponent)(new eg.wA("app-check",n=>function iT(n,e){return new rT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Pl).initialize()})),(0,gi._registerComponent)(new eg.wA(Pl,n=>function sT(n){return{getToken:e=>lg(n,e),addTokenListener:e=>function cg(n,e,t,r){const{app:i}=n,a=ei(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&Wc(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),Gw(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Gw(n))}(n,"INTERNAL",e),removeTokenListener:e=>Gh(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,gi.registerVersion)("@firebase/app-check","0.6.4")}();class Zc{constructor(){return(0,_n.vb)("app-check")}}typeof window<"u"&&window;var Zh=F(5114);class Xh{constructor(e){return e}}class r_{constructor(){return(0,_n.vb)("auth")}}const Jh=new g.OlP("angularfire2.auth-instances");function fT(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Xh(r)}}const i_={provide:r_,deps:[[new g.FiY,Jh]]},sI={provide:Xh,useFactory:function iI(n,e){const t=(0,_n.JM)("auth",n,e);return t&&new Xh(t)},deps:[[new g.FiY,Jh],go]};let oI=(()=>{class n{constructor(){(0,po.KN)("angularfire",_n.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[sI,i_]}),n})();function s_(n,...e){return{ngModule:oI,providers:[{provide:Jh,useFactory:fT(n),multi:!0,deps:[g.R0b,g.zs3,_n.HU,jc,[new g.FiY,Zc],...e]}]}}const uI=(0,_n.u3)(Zh.n,!0),hI=(0,_n.u3)(Zh.ab,!0);var Ko=F(6451),Ki=F(5363),mo=F(6063);class pI extends cs.x{constructor(e=1/0,t=1/0,r=mo.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:l}=this;t||(r.push(e),!i&&r.push(a.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let l=0;l<a.length&&!e.closed;l+=r?1:2)e.next(a[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const l=t.now();let h=0;for(let y=1;y<r.length&&r[y]<=l;y+=2)h=y;h&&r.splice(0,h+1)}}}var gI=F(3099);function mI(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,gI.B)({connector:()=>new pI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function yI(n,e){return(0,lt.m)(e)?Pn(()=>n,e):Pn(()=>n)}var a_=F(9468),Fl=F(2011);F(9260);const PT=new g.OlP("angularfire2.auth.use-emulator"),vI=new g.OlP("angularfire2.auth.settings"),OT=new g.OlP("angularfire2.auth.tenant-id"),EI=new g.OlP("angularfire2.auth.langugage-code"),wI=new g.OlP("angularfire2.auth.use-device-language"),fg=new g.OlP("angularfire.auth.persistence");let u_=(()=>{class n{constructor(t,r,i,a,l,h,y,v,b,A,N,U){const q=new cs.x,le=it(void 0).pipe((0,Ki.Q)(l.outsideAngular),Pn(()=>a.runOutsideAngular(()=>F.e(568).then(F.bind(F,9568)))),(0,bt.U)(()=>(0,Fl.on)(t,a,r)),(0,bt.U)(xe=>((n,e,t,r,i,a,l,h)=>(0,Fl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const y=e.runOutsideAngular(()=>n.auth());if(t&&y.useEmulator(...t),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),l)for(const[v,b]of Object.entries(l))y.settings[v]=b;return h&&y.setPersistence(h),y},[t,r,i,a,l,h]))(xe,a,h,v,b,A,y,N)),mI({bufferSize:1,refCount:!1}));if(function jd(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=it(null);else{le.pipe(ds()).subscribe();const xt=le.pipe(Pn(zt=>zt.getRedirectResult().then(Kt=>Kt,()=>null)),_n.iC,mI({bufferSize:1,refCount:!1})),Wt=le.pipe(Pn(zt=>new Fs.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>zt.onAuthStateChanged(Jt=>Kt.next(Jt),Jt=>Kt.error(Jt),()=>Kt.complete()))})))),Rt=le.pipe(Pn(zt=>new Fs.y(Kt=>({unsubscribe:a.runOutsideAngular(()=>zt.onIdTokenChanged(Jt=>Kt.next(Jt),Jt=>Kt.error(Jt),()=>Kt.complete()))}))));this.authState=xt.pipe(yI(Wt),(0,a_.R)(l.outsideAngular),(0,Ki.Q)(l.insideAngular)),this.user=xt.pipe(yI(Rt),(0,a_.R)(l.outsideAngular),(0,Ki.Q)(l.insideAngular)),this.idToken=this.user.pipe(Pn(zt=>zt?(0,qt.D)(zt.getIdToken()):it(null))),this.idTokenResult=this.user.pipe(Pn(zt=>zt?(0,qt.D)(zt.getIdTokenResult()):it(null))),this.credential=(0,Ko.T)(xt,q,this.authState.pipe(Qr(zt=>!zt))).pipe((0,bt.U)(zt=>zt?.user?zt:null),(0,a_.R)(l.outsideAngular),(0,Ki.Q)(l.insideAngular))}return(0,Fl.pX)(this,le,a,{spy:{apply:(xe,xt,Wt)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&Wt.then(Rt=>q.next(Rt))}}})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(Fl.Dh),g.LFG(Fl.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(_n.HU),g.LFG(PT,8),g.LFG(vI,8),g.LFG(OT,8),g.LFG(EI,8),g.LFG(wI,8),g.LFG(fg,8),g.LFG(Zc,8))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),nf=(()=>{class n{constructor(t,r){this.fireauth=t,this.router=r}login(t,r){this.fireauth.signInWithEmailAndPassword(t,r).then(i=>{localStorage.setItem("token","true"),!0===i.user?.emailVerified?this.router.navigate(["/dashboard"]):this.sendEmailForVarification(i.user)},i=>{alert(i.message),this.router.navigate(["/login"])})}register(t,r){this.fireauth.createUserWithEmailAndPassword(t,r).then(i=>{alert("Registration is Successful."),this.router.navigate(["/login"]),this.sendEmailForVarification(i.user)},i=>{this.router.navigate(["/register"])})}logout(){this.fireauth.signOut().then(()=>{localStorage.removeItem("token"),this.router.navigate(["/login"])},t=>{alert(t.message)})}forgotPassword(t){this.fireauth.sendPasswordResetEmail(t).then(()=>{this.router.navigate(["/varify-email"])},r=>{alert("something went wrong")})}sendEmailForVarification(t){hI(t).then(()=>{this.router.navigate(["/varify-email"])})}}return n.\u0275fac=function(t){return new(t||n)(g.LFG(u_),g.LFG(qi))},n.\u0275prov=g.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c_=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq))},n.\u0275dir=g.lG2({type:n}),n})(),Ru=(()=>{class n extends c_{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,features:[g.qOj]}),n})();const yo=new g.OlP("NgValueAccessor"),CI={provide:yo,useExisting:(0,g.Gpc)(()=>Xc),multi:!0},bI=new g.OlP("CompositionEventMode");let Xc=(()=>{class n extends c_{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function DI(){const n=G()?G().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(bI,8))},n.\u0275dir=g.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&g.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[g._Bn([CI]),g.qOj]}),n})();const LT=!1;const mi=new g.OlP("NgValidators"),Pu=new g.OlP("NgAsyncValidators");function MI(n){return function Nu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function pg(n){return null}function kI(n){return null!=n}function h_(n){const e=(0,g.QGY)(n)?(0,qt.D)(n):n;if(LT&&!(0,g.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new g.vHH(-1101,t)}return e}function f_(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function p_(n,e){return e.map(t=>t(n))}function g_(n){return n.map(e=>function FI(n){return!n.validate}(e)?e:t=>e.validate(t))}function gg(n){return null!=n?function m_(n){if(!n)return null;const e=n.filter(kI);return 0==e.length?null:function(t){return f_(p_(t,e))}}(g_(n)):null}function mg(n){return null!=n?function y_(n){if(!n)return null;const e=n.filter(kI);return 0==e.length?null:function(t){return function l_(...n){const e=(0,Br.jO)(n),{args:t,keys:r}=Aa(n),i=new Fs.y(a=>{const{length:l}=t;if(!l)return void a.complete();const h=new Array(l);let y=l,v=l;for(let b=0;b<l;b++){let A=!1;(0,Ce.Xf)(t[b]).subscribe((0,ir.x)(a,N=>{A||(A=!0,v--),h[b]=N},()=>y--,void 0,()=>{(!y||!A)&&(v||a.next(r?Vs(r,h):h),a.complete())}))}});return e?i.pipe(yu(e)):i}(p_(t,e).map(h_)).pipe((0,bt.U)(f_))}}(g_(n)):null}function __(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function E_(n){return n?Array.isArray(n)?n:[n]:[]}function yg(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ll(n,e){const t=E_(e);return E_(n).forEach(i=>{yg(t,i)||t.push(i)}),t}function UT(n,e){return E_(e).filter(t=>!yg(n,t))}class _g{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=gg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=mg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Yi extends _g{get formDirective(){return null}get path(){return null}}class La extends _g{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class w_{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let vg=(()=>{class n extends w_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(La,2))},n.\u0275dir=g.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[g.qOj]}),n})(),Jc=(()=>{class n extends w_{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Yi,10))},n.\u0275dir=g.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&g.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[g.qOj]}),n})();function C_(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const Vl=!1,rf="VALID",wg="INVALID",td="PENDING",ku="DISABLED";function Ig(n){return(Fu(n)?n.validators:n)||null}function Cg(n,e){return(Fu(e)?e.asyncValidators:n)||null}function Fu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class BI{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===rf}get invalid(){return this.status===wg}get pending(){return this.status==td}get disabled(){return this.status===ku}get enabled(){return this.status!==ku}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ll(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ll(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(UT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(UT(e,this._rawAsyncValidators))}hasValidator(e){return yg(this._rawValidators,e)}hasAsyncValidator(e){return yg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=td,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=ku,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=rf,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rf||this.status===td)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ku:rf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=td,this._hasOwnPendingAsyncValidator=!0;const t=h_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?ku:this.errors?wg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(td)?td:this._anyControlsHaveStatus(wg)?wg:rf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Fu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function VI(n){return Array.isArray(n)?gg(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function KT(n){return Array.isArray(n)?mg(n):n||null}(this._rawAsyncValidators)}}class D_ extends BI{constructor(e,t,r){super(Ig(t),Cg(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function UI(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new g.vHH(1002,Vl?function qT(n,e){return`Must supply a value for form control ${C_(n,e)}`}(e,i):"")})})(this,!0,e),Object.keys(e).forEach(r=>{(function nd(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new g.vHH(1e3,Vl?function WT(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new g.vHH(1001,Vl?function zT(n,e){return`Cannot find form control ${C_(n,e)}`}(e,t):"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Ul=new g.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Dg}),Dg="always";function Tg(n,e,t=Dg){Sg(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function QT(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&S_(n,e)})}(n,e),function sf(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function XT(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&S_(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ON(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function T_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Sg(n,e){const t=function v_(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(__(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Ou(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(__(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();T_(e._rawValidators,i),T_(e._rawAsyncValidators,i)}function S_(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const WI={provide:Yi,useExisting:(0,g.Gpc)(()=>Ua)},af=(()=>Promise.resolve())();let Ua=(()=>{class n extends Yi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new g.vpe,this.form=new D_({},gg(t),mg(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){af.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Tg(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){af.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){af.then(()=>{const r=this._findContainer(t.path),i=new D_({});(function jI(n,e){Sg(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){af.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){af.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function rd(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(mi,10),g.Y36(Pu,10),g.Y36(Ul,8))},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&g.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([WI]),g.qOj]}),n})();function zI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ag(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const qI=class extends BI{constructor(e=null,t,r){super(Ig(t),Cg(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ag(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ag(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},iS={provide:La,useExisting:(0,g.Gpc)(()=>uf)},JI=(()=>Promise.resolve())();let uf=(()=>{class n extends La{constructor(t,r,i,a,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new qI,this._registered=!1,this.update=new g.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function M_(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===Xc?t=a:function nS(n){return Object.getPrototypeOf(n.constructor)===Ru}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function A_(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tg(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){JI.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,g.D6c)(r);JI.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function bg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(Yi,9),g.Y36(mi,10),g.Y36(Pu,10),g.Y36(yo,10),g.Y36(g.sBO,8),g.Y36(Ul,8))},n.\u0275dir=g.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[g._Bn([iS]),g.qOj,g.TTD]}),n})(),id=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),x_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({}),n})(),Lu=(()=>{class n{constructor(){this._validator=pg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):pg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=g.lG2({type:n,features:[g.TTD]}),n})();const f0={provide:mi,useExisting:(0,g.Gpc)(()=>df),multi:!0};let df=(()=>{class n extends Lu{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=g.D6c,this.createValidator=t=>MI}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=g.n5z(n)))(r||n)}}(),n.\u0275dir=g.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&g.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[g._Bn([f0]),g.qOj]}),n})(),wS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[x_]}),n})(),AS=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ul,useValue:t.callSetDisabledState??Dg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[wS]}),n})();const MS=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}login(){""!==this.email?""!==this.password?(this.auth.login(this.email,this.password),this.email="",this.password=""):alert("Enter Password"):alert("Enter Email ID")}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(nf))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:3,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3","text-center"],[1,"text-dark","text-muted"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter Email Address","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Enter Password","required","true",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-2","text-center"],["type","submit",1,"btn","btn-info",3,"disabled","click"],[1,"row","text-center"],[1,"col-md-6"],["routerLink","/register",2,"text-decoration","none"],[1,"text-danger"],["routerLink","/forgot-password",1,"text-dark",2,"text-decoration","none"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"div",1),g._UZ(2,"div",2),g.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),g._uU(9,"Login"),g.qZA(),g._UZ(10,"hr"),g.qZA(),g.TgZ(11,"div",8)(12,"label",9),g._uU(13,"Email Address"),g.qZA(),g.TgZ(14,"input",10),g.NdJ("ngModelChange",function(a){return r.email=a}),g.qZA()(),g.TgZ(15,"div",8)(16,"label",11),g._uU(17,"Password"),g.qZA(),g.TgZ(18,"input",12),g.NdJ("ngModelChange",function(a){return r.password=a}),g.qZA()(),g.TgZ(19,"div",13)(20,"button",14),g.NdJ("click",function(){return r.login()}),g._uU(21,"Login"),g.qZA()()()()(),g.TgZ(22,"div",15)(23,"div",16)(24,"a",17),g._uU(25,"Need Account? "),g.TgZ(26,"span",18),g._uU(27,"Register"),g.qZA()()(),g.TgZ(28,"div",16)(29,"a",19),g._uU(30," Forgote Password?"),g.qZA()()()(),g._UZ(31,"div",2),g.qZA()()),2&t&&(g.xp6(14),g.Q6J("ngModel",r.email),g.xp6(4),g.Q6J("ngModel",r.password),g.xp6(2),g.Q6J("disabled",!r.email||!r.password))},dependencies:[Vc,id,Xc,vg,Jc,df,uf,Ua]}),n})()},{path:"dashboard",component:(()=>{class n{constructor(t){this.auth=t}logout(){this.auth.logout()}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(nf))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-dashboard"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],["autocomplete","off"],[1,"mb-3","text-center"],[1,"text-dark","text-muted"],[1,"mb-1","text-center"],["type","submit",1,"btn","btn-warning","text-center",3,"click"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"div",1),g._UZ(2,"div",2),g.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6)(7,"div",7)(8,"h4",8),g._uU(9,"Welcome"),g.qZA()(),g.TgZ(10,"div",9)(11,"button",10),g.NdJ("click",function(){return r.logout()}),g._uU(12,"Logout"),g.qZA()()()()()(),g._UZ(13,"div",2),g.qZA()())},dependencies:[id,Jc,Ua]}),n})()},{path:"register",component:(()=>{class n{constructor(t){this.auth=t,this.email="",this.password=""}ngOnInit(){}register(){""!==this.email?""!==this.password?(this.auth.register(this.email,this.password),this.email="",this.password=""):alert("Enter Password"):alert("Enter Email ID")}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(nf))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-register"]],decls:32,vars:2,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],["autocomplete","off"],[1,"mb-3","text-center"],[1,"text-dark","text-muted"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter Email Address",1,"form-control",3,"ngModel","ngModelChange"],["for","password",1,"form-label"],["type","password","id","password","name","password","placeholder","Enter Password",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-2","text-center"],["type","submit",1,"btn","btn-info",3,"click"],[1,"row","text-center"],[1,"col-md-6"],["routerLink","/login",2,"text-decoration","none"],[1,"text-danger"],[1,"text-dark",2,"text-decoration","none"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"div",1),g._UZ(2,"div",2),g.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form",6)(7,"div",7)(8,"h4",8),g._uU(9,"Register"),g.qZA()(),g._UZ(10,"hr"),g.TgZ(11,"div",9)(12,"label",10),g._uU(13,"Email Address"),g.qZA(),g.TgZ(14,"input",11),g.NdJ("ngModelChange",function(a){return r.email=a}),g.qZA()(),g.TgZ(15,"div",9)(16,"label",12),g._uU(17,"Password"),g.qZA(),g.TgZ(18,"input",13),g.NdJ("ngModelChange",function(a){return r.password=a}),g.qZA()(),g.TgZ(19,"div",14)(20,"button",15),g.NdJ("click",function(){return r.register()}),g._uU(21,"Register"),g.qZA()()()()(),g.TgZ(22,"div",16)(23,"div",17)(24,"a",18),g._uU(25,"Already Have Account? "),g.TgZ(26,"span",19),g._uU(27,"Login"),g.qZA()()(),g.TgZ(28,"div",17)(29,"a",20),g._uU(30," Forgote Password?"),g.qZA()()()(),g._UZ(31,"div",2),g.qZA()()),2&t&&(g.xp6(14),g.Q6J("ngModel",r.email),g.xp6(4),g.Q6J("ngModel",r.password))},dependencies:[Vc,id,Xc,vg,Jc,uf,Ua]}),n})()},{path:"forgot-password",component:(()=>{class n{constructor(t){this.auth=t,this.email=""}ngOnInit(){}forgot(){this.auth.forgotPassword(this.email),this.email=""}}return n.\u0275fac=function(t){return new(t||n)(g.Y36(nf))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-forgot-password"]],decls:25,vars:1,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3","text-center"],[1,"text-dark","text-muted"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","name","email","placeholder","Enter Email Address",1,"form-control",3,"ngModel","ngModelChange"],[1,"mb-2","text-center"],["type","submit",1,"btn","btn-info",3,"click"],[1,"row","text-center"],[1,"col-md-6"],["routerLink","/login",2,"text-decoration","none"],[1,"text-danger"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"div",1),g._UZ(2,"div",2),g.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),g._uU(9,"Forgot Password"),g.qZA()(),g._UZ(10,"hr"),g.TgZ(11,"div",8)(12,"label",9),g._uU(13,"Email Address"),g.qZA(),g.TgZ(14,"input",10),g.NdJ("ngModelChange",function(a){return r.email=a}),g.qZA()(),g.TgZ(15,"div",11)(16,"button",12),g.NdJ("click",function(){return r.forgot()}),g._uU(17,"Register"),g.qZA()()()()(),g.TgZ(18,"div",13)(19,"div",14)(20,"a",15),g._uU(21,"Back To "),g.TgZ(22,"span",16),g._uU(23,"Login"),g.qZA()()()()(),g._UZ(24,"div",2),g.qZA()()),2&t&&(g.xp6(14),g.Q6J("ngModel",r.email))},dependencies:[Vc,id,Xc,vg,Jc,uf,Ua]}),n})()},{path:"varify-email",component:(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-varify-email"]],decls:14,vars:0,consts:[[1,"container-fluid"],[1,"row","mt-5"],[1,"col"],[1,"col-4"],[1,"card","shadow"],[1,"card-body"],[1,"mb-3","text-center"],[1,"text-dark","text-muted"],[1,"mb-1","text-center"]],template:function(t,r){1&t&&(g.TgZ(0,"div",0)(1,"div",1),g._UZ(2,"div",2),g.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"form")(7,"div",6)(8,"h4",7),g._uU(9,"Welcome"),g.qZA()(),g.TgZ(10,"div",8)(11,"p"),g._uU(12,"Link has sent on your registered Email. Please varify it"),g.qZA()()()()()(),g._UZ(13,"div",2),g.qZA()())},dependencies:[id,Jc,Ua]}),n})()}];let hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[Aw.forRoot(MS),Aw]}),n})(),xS=(()=>{class n{constructor(){this.title="Angular-crud"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&g._UZ(0,"router-outlet")},dependencies:[Bp]}),n})();const Og_firebase={projectId:"angular-crud-5b9d5",appId:"1:893772046345:web:13816a0eee6c028e5598d8",storageBucket:"angular-crud-5b9d5.appspot.com",apiKey:"AIzaSyAUSB3CwkQVV5TN_JAlFl-Vbfi3-Dz-9-w",authDomain:"angular-crud-5b9d5.firebaseapp.com",messagingSenderId:"893772046345"},_o="@firebase/database";let ff="";class RS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,ee.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,ee.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class NS{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,ee.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const v0=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new RS(e)}}catch{}return new NS},Yo=v0("localStorage"),sd=v0("sessionStorage"),od=new ka.Yd("@firebase/database"),E0=function(){let n=1;return function(){return n++}}(),L_=function(n){const e=(0,ee.dS)(n),t=new ee.gQ;t.update(e);const r=t.digest();return ee.US.encodeByteArray(r)},ad=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=ad.apply(null,r):e+="object"==typeof r?(0,ee.Wl)(r):r,e+=" "}return e};let Ba=null,V_=!0;const wr=function(...n){if(!0===V_&&(V_=!1,null===Ba&&!0===sd.get("logging_enabled")&&function(n,e){(0,ee.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(od.logLevel=ka.in.VERBOSE,Ba=od.log.bind(od),e&&sd.set("logging_enabled",!0)):"function"==typeof n?Ba=n:(Ba=null,sd.remove("logging_enabled"))}(!0)),Ba){const e=ad.apply(null,n);Ba(e)}},ud=function(n){return function(...e){wr(n,...e)}},gf=function(...n){const e="FIREBASE INTERNAL ERROR: "+ad(...n);od.error(e)},$s=function(...n){const e=`FIREBASE FATAL ERROR: ${ad(...n)}`;throw od.error(e),new Error(e)},yi=function(...n){const e="FIREBASE WARNING: "+ad(...n);od.warn(e)},Fg=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},$a="[MIN_NAME]",vo="[MAX_NAME]",Vu=function(n,e){if(n===e)return 0;if(n===$a||e===vo)return-1;if(e===$a||n===vo)return 1;{const t=C0(n),r=C0(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},kS=function(n,e){return n===e?0:n<e?-1:1},ld=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,ee.Wl)(e))},Lg=function(n){if("object"!=typeof n||null===n)return(0,ee.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,ee.Wl)(e[r]),t+=":",t+=Lg(n[e[r]]);return t+="}",t},w0=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Nr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const U_=function(n){(0,ee.hu)(!Fg(n),"Invalid JSON number");const r=1023;let i,a,l,h,y;0===n?(a=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(a=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(y=52;y;y-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(y=11;y;y-=1)v.push(a%2?1:0),a=Math.floor(a/2);v.push(i?1:0),v.reverse();const b=v.join("");let A="";for(y=0;y<64;y+=8){let N=parseInt(b.substr(y,8),2).toString(16);1===N.length&&(N="0"+N),A+=N}return A.toLowerCase()},xi=new RegExp("^-?(0*)\\d{1,10}$"),C0=function(n){if(xi.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},mf=function(n){try{n()}catch(e){setTimeout(()=>{throw yi("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},XN=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},dd=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class B_{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){yi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class yf{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(wr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',yi(e)}}let _f=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const S0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,vf="websocket",Bg="long_polling";class A0{constructor(e,t,r,i,a=!1,l="",h=!1,y=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=y,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Yo.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Yo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function x0(n,e,t){let r;if((0,ee.hu)("string"==typeof e,"typeof type must == string"),(0,ee.hu)("object"==typeof t,"typeof params must == object"),e===vf)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==Bg)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function M0(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Nr(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}class R0{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,ee.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,ee.p$)(this.counters_)}}const Uu={},H_={};function $g(n){const e=n.toString();return Uu[e]||(Uu[e]=new R0),Uu[e]}class JN{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&mf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ja{constructor(e,t,r,i,a,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ud(e),this.stats_=$g(t),this.urlFn=y=>(this.appCheckToken&&(y.ac=this.appCheckToken),x0(t,Bg,y))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new JN(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,ee.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new K_((...a)=>{const[l,h,y,v,b]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=y;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&S0.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ja.forceAllow_=!0}static forceDisallow(){ja.forceDisallow_=!0}static isAvailable(){return!((0,ee.Yr)()||!ja.forceAllow_&&(ja.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,ee.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,ee.h$)(t),i=w0(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,ee.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,ee.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class K_{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,ee.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=E0(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=K_.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){wr("frame writing exception"),h.stack&&wr(h.stack),wr(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||wr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,ee.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{wr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Ef=null;typeof MozWebSocket<"u"?Ef=MozWebSocket:typeof WebSocket<"u"&&(Ef=WebSocket);let wf=(()=>{class n{constructor(t,r,i,a,l,h,y){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ud(this.connId),this.stats_=$g(r),this.connURL=n.connectionURL_(r,h,y,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,l){const h={v:"5"};return!(0,ee.Yr)()&&typeof location<"u"&&location.hostname&&S0.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),a&&(h.ac=a),l&&(h.p=l),x0(t,vf,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Yo.set("previous_websocket_failure",!0);try{let i;if((0,ee.Yr)()){i={headers:{"User-Agent":`Firebase/5/${ff}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new Ef(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==Ef&&!n.forceDisallow_}static previouslyFailed(){return Yo.isInMemoryStorage||!0===Yo.get("previous_websocket_failure")}markConnectionHealthy(){Yo.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,ee.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,ee.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,ee.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=w0(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),WS=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ja,wf]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=wf&&wf.isAvailable();let i=r&&!wf.previouslyFailed();if(t.webSocketOnly&&(r||yi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[wf];else{const a=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class X_{constructor(e,t,r,i,a,l,h,y,v,b){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=y,this.onKill_=v,this.lastSessionId=b,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ud("c:"+this.id+":"),this.transportManager_=new WS(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=dd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ld("t",e),r=ld("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ld("t",e),r=ld("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ld("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?gf("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):gf("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&yi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),dd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):dd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Yo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class j0{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class YS{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,ee.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,ee.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class J_ extends YS{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,ee.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new J_}getInitialEvent(e){return(0,ee.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const H0=32,G0=768;class an{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function cn(){return new an("")}function Zt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function jl(n){return n.pieces_.length-n.pieceNum_}function bn(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new an(n.pieces_,e)}function ev(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Cf(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function QS(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new an(e,0)}function Ln(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof an)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new an(t,0)}function Ht(n){return n.pieceNum_>=n.pieces_.length}function _i(n,e){const t=Zt(n),r=Zt(e);if(null===t)return e;if(t===r)return _i(bn(n),bn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function ys(n,e){if(jl(n)!==jl(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function js(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(jl(n)>jl(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class tv{constructor(e,t){this.errorPrefix_=t,this.parts_=Cf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,ee.ug)(this.parts_[r]);_s(this)}}function _s(n){if(n.byteLength_>G0)throw new Error(n.errorPrefix_+"has a key path longer than "+G0+" bytes ("+n.byteLength_+").");if(n.parts_.length>H0)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+H0+") or object contains a cycle "+Hl(n))}function Hl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class Df extends YS{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Df}getInitialEvent(e){return(0,ee.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const bf=1e3;let Gg,Bu=(()=>{class n extends j0{constructor(t,r,i,a,l,h,y,v){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=y,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=ud("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bf,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,ee.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Df.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&J_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,l={r:a,a:t,b:r};this.log_((0,ee.Wl)(l)),(0,ee.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new ee.BH,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const y=h.d;"ok"===h.s?r.resolve(y):r.reject(y)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,ee.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,ee.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const y={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(h).set(l,y),this.connected_&&this.sendListen_(y)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,y=>{const v=y.d,b=y.s;n.warnOnListenWarnings_(v,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",y),"ok"!==b&&this.removeListen_(i,a),t.onComplete&&t.onComplete(b,v))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,ee.r3)(t,"w")){const i=(0,ee.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();yi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,ee.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,ee.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const l=a.s,h=a.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,ee.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const l={p:t};a&&(l.q=i,l.t=a),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,l){this.initConnection_();const h={p:r,d:i};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,ee.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):gf("Unrecognized action received from server: "+(0,ee.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,ee.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=bf),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,On.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let y=!1,v=null;const b=function(){v?v.close():(y=!0,a())};t.realtime_={close:b,sendRequest:function(U){(0,ee.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(U)}};const N=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[U,q]=yield Promise.all([t.authTokenProvider_.getToken(N),t.appCheckTokenProvider_.getToken(N)]);y?wr("getToken() completed but was canceled"):(wr("getToken() completed. Creating connection."),t.authToken_=U&&U.accessToken,t.appCheckToken_=q&&q.token,v=new X_(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,le=>{yi(le+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(U){t.log_("Failed to get token: "+U),y||(t.repoInfo_.nodeAdmin&&yi(U),b())}}})()}interrupt(t){wr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){wr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,ee.xb)(this.interruptReasons_)&&(this.reconnectDelay_=bf,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>Lg(l)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new an(t).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){wr("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){wr("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,ee.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+ff.replace(/\./g,"-")]=1,(0,ee.uI)()?t["framework.cordova"]=1:(0,ee.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=J_.getInstance().currentlyOnline();return(0,ee.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Qt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Qt(e,t)}}class Tf{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Qt($a,e),i=new Qt($a,t);return 0!==this.compare(r,i)}minPost(){return Qt.MIN}}class Wg extends Tf{static get __EMPTY_NODE(){return Gg}static set __EMPTY_NODE(e){Gg=e}compare(e,t){return Vu(e.name,t.name)}isDefinedOn(e){throw(0,ee.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Qt.MIN}maxPost(){return new Qt(vo,Gg)}makePost(e,t){return(0,ee.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Qt(e,Gg)}toString(){return".key"}}const Hr=new Wg;class Eo{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let iv,Hs=(()=>{class n{constructor(t,r,i,a,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??Ri.EMPTY_NODE,this.right=l??Ri.EMPTY_NODE}copy(t,r,i,a,l){return new n(t??this.key,r??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ri.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Ri.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ri{constructor(e,t=Ri.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ri(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Hs.BLACK,null,null))}remove(e){return new Ri(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Hs.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Eo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Eo(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Eo(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Eo(this.root_,null,this.comparator_,!0,e)}}function tA(n,e){return Vu(n.name,e.name)}function q0(n,e){return Vu(n,e)}Ri.EMPTY_NODE=new class rv{copy(e,t,r,i,a){return this}insert(e,t,r){return new Hs(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const K0=function(n){return"number"==typeof n?"number:"+U_(n):"string:"+n},Y0=function(n){if(n.isLeafNode()){const e=n.val();(0,ee.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,ee.r3)(e,".sv"),"Priority must be a string or number.")}else(0,ee.hu)(n===iv||n.isEmpty(),"priority of unexpected type.");(0,ee.hu)(n===iv||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let sv,ov,Z0,Sf=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,ee.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Y0(this.priorityNode_)}static set __childrenNodeConstructor(t){sv=t}static get __childrenNodeConstructor(){return sv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ht(t)?this:".priority"===Zt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=Zt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,ee.hu)(".priority"!==i||1===jl(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(bn(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+K0(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?U_(this.value_):this.value_,this.lazyHash_=L_(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,ee.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,ee.hu)(a>=0,"Unknown leaf type: "+r),(0,ee.hu)(l>=0,"Unknown leaf type: "+i),a===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const wn=new class av extends Tf{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?Vu(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Qt.MIN}maxPost(){return new Qt(vo,new Sf("[PRIORITY-POST]",Z0))}makePost(e,t){const r=ov(e);return new Qt(t,new Sf("[PRIORITY-POST]",r))}toString(){return".priority"}},X0=Math.log(2);class J0{constructor(e){this.count=parseInt(Math.log(e+1)/X0,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Af=function(n,e,t,r){n.sort(e);const i=function(y,v){const b=v-y;let A,N;if(0===b)return null;if(1===b)return A=n[y],N=t?t(A):A,new Hs(N,A.node,Hs.BLACK,null,null);{const U=parseInt(b/2,10)+y,q=i(y,U),le=i(U+1,v);return A=n[U],N=t?t(A):A,new Hs(N,A.node,Hs.BLACK,q,le)}},h=function(y){let v=null,b=null,A=n.length;const N=function(q,le){const xe=A-q,xt=A;A-=q;const Wt=i(xe+1,xt),Rt=n[xe],zt=t?t(Rt):Rt;U(new Hs(zt,Rt.node,le,null,Wt))},U=function(q){v?(v.left=q,v=q):(b=q,v=q)};for(let q=0;q<y.count;++q){const le=y.nextBitIsOne(),xe=Math.pow(2,y.count-(q+1));le?N(xe,Hs.BLACK):(N(xe,Hs.BLACK),N(xe,Hs.RED))}return b}(new J0(n.length));return new Ri(r||e,h)};let zg;const Ha={};class Gs{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,ee.hu)(Ha&&wn,"ChildrenNode.ts has not been loaded"),zg=zg||new Gs({".priority":Ha},{".priority":wn}),zg}get(e){const t=(0,ee.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ri?t:null}hasIndex(e){return(0,ee.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,ee.hu)(e!==Hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(Qt.Wrap);let h,l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();h=i?Af(r,e.getCompare()):Ha;const y=e.toString(),v=Object.assign({},this.indexSet_);v[y]=e;const b=Object.assign({},this.indexes_);return b[y]=h,new Gs(b,v)}addToIndexes(e,t){const r=(0,ee.UI)(this.indexes_,(i,a)=>{const l=(0,ee.DV)(this.indexSet_,a);if((0,ee.hu)(l,"Missing index implementation for "+a),i===Ha){if(l.isDefinedOn(e.node)){const h=[],y=t.getIterator(Qt.Wrap);let v=y.getNext();for(;v;)v.name!==e.name&&h.push(v),v=y.getNext();return h.push(e),Af(h,l.getCompare())}return Ha}{const h=t.get(e.name);let y=i;return h&&(y=y.remove(new Qt(e.name,h))),y.insert(e,e.node)}});return new Gs(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,ee.UI)(this.indexes_,i=>{if(i===Ha)return i;{const a=t.get(e.name);return a?i.remove(new Qt(e.name,a)):i}});return new Gs(r,this.indexSet_)}}let fd,Vt=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Y0(this.priorityNode_),this.children_.isEmpty()&&(0,ee.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return fd||(fd=new n(new Ri(q0),null,Gs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||fd}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?fd:r}}getChild(t){const r=Zt(t);return null===r?this:this.getImmediateChild(r).getChild(bn(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,ee.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Qt(t,r);let a,l;r.isEmpty()?(a=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const h=a.isEmpty()?fd:this.priorityNode_;return new n(a,h,l)}}updateChild(t,r){const i=Zt(t);if(null===i)return r;{(0,ee.hu)(".priority"!==Zt(t)||1===jl(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(bn(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,l=!0;if(this.forEachChild(wn,(h,y)=>{r[h]=y.val(t),i++,l&&n.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):l=!1}),!t&&l&&a<2*i){const h=[];for(const y in r)h[y]=r[y];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+K0(this.getPriority().val())+":"),this.forEachChild(wn,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":L_(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new Qt(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Qt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Qt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Qt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Qt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)>0;)a.getNext(),l=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===qg?-1:0}withIndex(t){if(t===Hr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Hr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(wn),a=r.getIterator(wn);let l=i.getNext(),h=a.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=i.getNext(),h=a.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Hr?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const qg=new class rA extends Vt{constructor(){super(new Ri(q0),Vt.EMPTY_NODE,Gs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Vt.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Qt,{MIN:{value:new Qt($a,Vt.EMPTY_NODE)},MAX:{value:new Qt(vo,qg)}}),Wg.__EMPTY_NODE=Vt.EMPTY_NODE,Sf.__childrenNodeConstructor=Vt,function nA(n){iv=n}(qg),function uP(n){Z0=n}(qg);const lP=!0;function Yn(n,e=null){if(null===n)return Vt.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,ee.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Sf(n,Yn(e));if(n instanceof Array||!lP){let t=Vt.EMPTY_NODE;return Nr(n,(r,i)=>{if((0,ee.r3)(n,r)&&"."!==r.substring(0,1)){const a=Yn(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(Yn(e))}{const t=[];let r=!1;if(Nr(n,(l,h)=>{if("."!==l.substring(0,1)){const y=Yn(h);y.isEmpty()||(r=r||!y.getPriority().isEmpty(),t.push(new Qt(l,y)))}}),0===t.length)return Vt.EMPTY_NODE;const a=Af(t,tA,l=>l.name,q0);if(r){const l=Af(t,wn.getCompare());return new Vt(a,Yn(e),new Gs({".priority":l},{".priority":wn}))}return new Vt(a,Yn(e),Gs.Default)}}!function Q0(n){ov=n}(Yn);class Kg extends Tf{constructor(e){super(),this.indexPath_=e,(0,ee.hu)(!Ht(e)&&".priority"!==Zt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?Vu(e.name,t.name):a}makePost(e,t){const r=Yn(e),i=Vt.EMPTY_NODE.updateChild(this.indexPath_,r);return new Qt(t,i)}maxPost(){const e=Vt.EMPTY_NODE.updateChild(this.indexPath_,qg);return new Qt(vo,e)}toString(){return Cf(this.indexPath_,0).join("/")}}const uv=new class iA extends Tf{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Vu(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Qt.MIN}maxPost(){return Qt.MAX}makePost(e,t){const r=Yn(e);return new Qt(t,r)}toString(){return".value"}};function Zg(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class lv{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,ee.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$a}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,ee.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:vo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,ee.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wn}copy(){const e=new lv;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Jg(n){const e={};if(n.isDefault())return e;let t;if(n.index_===wn?t="$priority":n.index_===uv?t="$value":n.index_===Hr?t="$key":((0,ee.hu)(n.index_ instanceof Kg,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,ee.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,ee.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,ee.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,ee.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,ee.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function Nf(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==wn&&(e.i=n.index_.toString()),e}class dv extends j0{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ud("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,ee.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=dv.getListenId_(e,r),h={};this.listens_[l]=h;const y=Jg(e._queryParams);this.restRequest_(a+".json",y,(v,b)=>{let A=b;if(404===v&&(A=null,v=null),null===v&&this.onDataUpdate_(a,A,!1,r),(0,ee.DV)(this.listens_,l)===h){let N;N=v?401===v?"permission_denied":"rest_error:"+v:"ok",i(N,null)}})}unlisten(e,t){const r=dv.getListenId_(e,t);delete this.listens_[r]}get(e){const t=Jg(e._queryParams),r=e._path.toString(),i=new ee.BH;return this.restRequest_(r+".json",t,(a,l)=>{let h=l;404===a&&(h=null,a=null),null===a?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,ee.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let y=null;if(h.status>=200&&h.status<300){try{y=(0,ee.cI)(h.responseText)}catch{yi("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,y)}else 401!==h.status&&404!==h.status&&yi("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class dP{constructor(){this.rootNode_=Vt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function hv(){return{value:null,children:new Map}}function Pf(n,e,t){if(Ht(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=Zt(e);n.children.has(r)||n.children.set(r,hv()),Pf(n.children.get(r),e=bn(e),t)}}function fv(n,e,t){null!==n.value?t(e,n.value):function aA(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{fv(i,new an(e.toString()+"/"+r),t)})}class uA{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Nr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class oC{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new uA(e);const r=1e4+2e4*Math.random();dd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Nr(e,(i,a)=>{a>0&&(0,ee.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),dd(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ws=(()=>{return(n=Ws||(Ws={}))[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Ws;var n})();function Of(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class gv{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Ws.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ht(this.path)){if(null!=this.affectedTree.value)return(0,ee.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new an(e));return new gv(cn(),t,this.revert)}}return(0,ee.hu)(Zt(this.path)===e,"operationForChild called for unrelated child."),new gv(bn(this.path),this.affectedTree,this.revert)}}class Ga{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Ws.OVERWRITE}operationForChild(e){return Ht(this.path)?new Ga(this.source,cn(),this.snap.getImmediateChild(e)):new Ga(this.source,bn(this.path),this.snap)}}class md{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Ws.MERGE}operationForChild(e){if(Ht(this.path)){const t=this.children.subtree(new an(e));return t.isEmpty()?null:t.value?new Ga(this.source,cn(),t.value):new md(this.source,cn(),t)}return(0,ee.hu)(Zt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new md(this.source,bn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class $u{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ht(e))return this.isFullyInitialized()&&!this.filtered_;const t=Zt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function kf(n,e,t,r,i,a){const l=r.filter(h=>h.type===t);l.sort((h,y)=>function cA(n,e,t){if(null==e.childName||null==t.childName)throw(0,ee.g5)("Should only compare child_ events.");const r=new Qt(e.childName,e.snapshotNode),i=new Qt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,y)),l.forEach(h=>{const y=function lA(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,a);i.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(y,n.query_))})})}function mv(n,e){return{eventCache:n,serverCache:e}}function nm(n,e,t,r){return mv(new $u(e,t,r),n.serverCache)}function dA(n,e,t,r){return mv(n.eventCache,new $u(e,t,r))}function yv(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Wl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let aC;class kn{constructor(e,t=(()=>(aC||(aC=new Ri(kS)),aC))()){this.value=e,this.children=t}static fromObject(e){let t=new kn(null);return Nr(e,(r,i)=>{t=t.set(new an(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:cn(),value:this.value};if(Ht(e))return null;{const r=Zt(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(bn(e),t);return null!=a?{path:Ln(new an(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ht(e))return this;{const t=Zt(e),r=this.children.get(t);return null!==r?r.subtree(bn(e)):new kn(null)}}set(e,t){if(Ht(e))return new kn(t,this.children);{const r=Zt(e),a=(this.children.get(r)||new kn(null)).set(bn(e),t),l=this.children.insert(r,a);return new kn(this.value,l)}}remove(e){if(Ht(e))return this.children.isEmpty()?new kn(null):new kn(null,this.children);{const t=Zt(e),r=this.children.get(t);if(r){const i=r.remove(bn(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new kn(null):new kn(this.value,a)}return this}}get(e){if(Ht(e))return this.value;{const t=Zt(e),r=this.children.get(t);return r?r.get(bn(e)):null}}setTree(e,t){if(Ht(e))return t;{const r=Zt(e),a=(this.children.get(r)||new kn(null)).setTree(bn(e),t);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new kn(this.value,l)}}fold(e){return this.fold_(cn(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Ln(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,cn(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Ht(e))return null;{const a=Zt(e),l=this.children.get(a);return l?l.findOnPath_(bn(e),Ln(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,cn(),t)}foreachOnPath_(e,t,r){if(Ht(e))return this;{this.value&&r(t,this.value);const i=Zt(e),a=this.children.get(i);return a?a.foreachOnPath_(bn(e),Ln(t,i),r):new kn(null)}}foreach(e){this.foreach_(cn(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(Ln(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Zo{constructor(e){this.writeTree_=e}static empty(){return new Zo(new kn(null))}}function rm(n,e,t){if(Ht(e))return new Zo(new kn(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const l=_i(i,e);return a=a.updateChild(l,t),new Zo(n.writeTree_.set(i,a))}{const i=new kn(t),a=n.writeTree_.setTree(e,i);return new Zo(a)}}}function uC(n,e,t){let r=n;return Nr(t,(i,a)=>{r=rm(r,Ln(e,i),a)}),r}function s(n,e){if(Ht(e))return Zo.empty();{const t=n.writeTree_.setTree(e,new kn(null));return new Zo(t)}}function o(n,e){return null!=u(n,e)}function u(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(_i(t.path,e)):null}function c(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(wn,(r,i)=>{e.push(new Qt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Qt(r,i.value))}),e}function d(n,e){if(Ht(e))return n;{const t=u(n,e);return new Zo(null!=t?new kn(t):n.writeTree_.subtree(e))}}function f(n){return n.writeTree_.isEmpty()}function _(n,e){return w(cn(),n.writeTree_,e)}function w(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,ee.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=w(Ln(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(Ln(n,".priority"),r)),t}}function C(n,e){return _P(e,n)}function Q(n,e){if(n.snap)return js(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&js(Ln(n.path,t),e))return!0;return!1}function Le(n){return n.visible}function We(n,e,t){let r=Zo.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let h;if(a.snap)js(t,l)?(h=_i(t,l),r=rm(r,h,a.snap)):js(l,t)&&(h=_i(l,t),r=rm(r,cn(),a.snap.getChild(h)));else{if(!a.children)throw(0,ee.g5)("WriteRecord should have .snap or .children");if(js(t,l))h=_i(t,l),r=uC(r,h,a.children);else if(js(l,t))if(h=_i(l,t),Ht(h))r=uC(r,cn(),a.children);else{const y=(0,ee.DV)(a.children,Zt(h));if(y){const v=y.getChild(bn(h));r=rm(r,cn(),v)}}}}}return r}function st(n,e,t,r,i){if(r||i){const a=d(n.visibleWrites,e);return!i&&f(a)?t:i||null!=t||o(a,cn())?_(We(n.allWrites,function(v){return(v.visible||i)&&(!r||!~r.indexOf(v.writeId))&&(js(v.path,e)||js(e,v.path))},e),t||Vt.EMPTY_NODE):null}{const a=u(n.visibleWrites,e);if(null!=a)return a;{const l=d(n.visibleWrites,e);return f(l)?t:null!=t||o(l,cn())?_(l,t||Vt.EMPTY_NODE):null}}}function lC(n,e,t,r){return st(n.writeTree,n.treePath,e,t,r)}function hA(n,e){return function It(n,e,t){let r=Vt.EMPTY_NODE;const i=u(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(wn,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=d(n.visibleWrites,e);return t.forEachChild(wn,(l,h)=>{const y=_(d(a,new an(l)),h);r=r.updateImmediateChild(l,y)}),c(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return c(d(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function mP(n,e,t,r){return function Re(n,e,t,r,i){(0,ee.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Ln(e,t);if(o(n.visibleWrites,a))return null;{const l=d(n.visibleWrites,a);return f(l)?i.getChild(t):_(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function cC(n,e){return function Vn(n,e){return u(n.visibleWrites,e)}(n.writeTree,Ln(n.treePath,e))}function fA(n,e,t){return function Ft(n,e,t,r){const i=Ln(e,t),a=u(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?_(d(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function yP(n,e){return _P(Ln(n.treePath,e),n.writeTree)}function _P(n,e){return{treePath:n,writeTree:e}}class UL{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,ee.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,ee.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,Zg(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,function Yg(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,function Mf(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,ee.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,Zg(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const vP=new class BL{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class pA{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new $u(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fA(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Wl(this.viewCache_),a=function VL(n,e,t,r,i,a){return function ar(n,e,t,r,i,a,l){let h;const y=d(n.visibleWrites,e),v=u(y,cn());if(null!=v)h=v;else{if(null==t)return[];h=_(y,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const b=[],A=l.getCompare(),N=a?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let U=N.getNext();for(;U&&b.length<i;)0!==A(U,r)&&b.push(U),U=N.getNext();return b}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function EP(n,e,t,r,i,a){const l=e.eventCache;if(null!=cC(r,t))return e;{let h,y;if(Ht(t))if((0,ee.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=Wl(e),A=hA(r,v instanceof Vt?v:Vt.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),A,a)}else{const v=lC(r,Wl(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,a)}else{const v=Zt(t);if(".priority"===v){(0,ee.hu)(1===jl(t),"Can't have a priority with additional path components");const b=l.getNode();y=e.serverCache.getNode();const A=mP(r,t,b,y);h=null!=A?n.filter.updatePriority(b,A):l.getNode()}else{const b=bn(t);let A;if(l.isCompleteForChild(v)){y=e.serverCache.getNode();const N=mP(r,t,l.getNode(),y);A=null!=N?l.getNode().getImmediateChild(v).updateChild(b,N):l.getNode().getImmediateChild(v)}else A=fA(r,v,e.serverCache);h=null!=A?n.filter.updateChild(l.getNode(),v,A,b,i,a):l.getNode()}}return nm(e,h,l.isFullyInitialized()||Ht(t),n.filter.filtersNodes())}}function dC(n,e,t,r,i,a,l,h){const y=e.serverCache;let v;const b=l?n.filter:n.filter.getIndexedFilter();if(Ht(t))v=b.updateFullNode(y.getNode(),r,null);else if(b.filtersNodes()&&!y.isFiltered()){const U=y.getNode().updateChild(t,r);v=b.updateFullNode(y.getNode(),U,null)}else{const U=Zt(t);if(!y.isCompleteForPath(t)&&jl(t)>1)return e;const q=bn(t),xe=y.getNode().getImmediateChild(U).updateChild(q,r);v=".priority"===U?b.updatePriority(y.getNode(),xe):b.updateChild(y.getNode(),U,xe,q,vP,null)}const A=dA(e,v,y.isFullyInitialized()||Ht(t),b.filtersNodes());return EP(n,A,t,i,new pA(i,A,a),h)}function gA(n,e,t,r,i,a,l){const h=e.eventCache;let y,v;const b=new pA(i,e,a);if(Ht(t))v=n.filter.updateFullNode(e.eventCache.getNode(),r,l),y=nm(e,v,!0,n.filter.filtersNodes());else{const A=Zt(t);if(".priority"===A)v=n.filter.updatePriority(e.eventCache.getNode(),r),y=nm(e,v,h.isFullyInitialized(),h.isFiltered());else{const N=bn(t),U=h.getNode().getImmediateChild(A);let q;if(Ht(N))q=r;else{const le=b.getCompleteChild(A);q=null!=le?".priority"===ev(N)&&le.getChild(QS(N)).isEmpty()?le:le.updateChild(N,r):Vt.EMPTY_NODE}y=U.equals(q)?e:nm(e,n.filter.updateChild(h.getNode(),A,q,N,b,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return y}function wP(n,e){return n.eventCache.isCompleteForChild(e)}function IP(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function mA(n,e,t,r,i,a,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,y=e;v=Ht(t)?r:new kn(null).setTree(t,r);const b=e.serverCache.getNode();return v.children.inorderTraversal((A,N)=>{if(b.hasChild(A)){const q=IP(0,e.serverCache.getNode().getImmediateChild(A),N);y=dC(n,y,new an(A),q,i,a,l,h)}}),v.children.inorderTraversal((A,N)=>{const U=!e.serverCache.isCompleteForChild(A)&&null===N.value;if(!b.hasChild(A)&&!U){const le=IP(0,e.serverCache.getNode().getImmediateChild(A),N);y=dC(n,y,new an(A),le,i,a,l,h)}}),y}function XL(n,e){const t=Wl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ht(e)&&!t.getImmediateChild(Zt(e)).isEmpty())?t.getChild(e):null}function bP(n,e,t,r){e.type===Ws.MERGE&&null!==e.source.queryId&&((0,ee.hu)(Wl(n.viewCache_),"We should always have a full cache before handling merges"),(0,ee.hu)(yv(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function HL(n,e,t,r,i){const a=new UL;let l,h;if(t.type===Ws.OVERWRITE){const v=t;v.source.fromUser?l=gA(n,e,v.path,v.snap,r,i,a):((0,ee.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!Ht(v.path),l=dC(n,e,v.path,v.snap,r,i,h,a))}else if(t.type===Ws.MERGE){const v=t;v.source.fromUser?l=function WL(n,e,t,r,i,a,l){let h=e;return r.foreach((y,v)=>{const b=Ln(t,y);wP(e,Zt(b))&&(h=gA(n,h,b,v,i,a,l))}),r.foreach((y,v)=>{const b=Ln(t,y);wP(e,Zt(b))||(h=gA(n,h,b,v,i,a,l))}),h}(n,e,v.path,v.children,r,i,a):((0,ee.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),l=mA(n,e,v.path,v.children,r,i,h,a))}else if(t.type===Ws.ACK_USER_WRITE){const v=t;l=v.revert?function KL(n,e,t,r,i,a){let l;if(null!=cC(r,t))return e;{const h=new pA(r,e,i),y=e.eventCache.getNode();let v;if(Ht(t)||".priority"===Zt(t)){let b;if(e.serverCache.isFullyInitialized())b=lC(r,Wl(e));else{const A=e.serverCache.getNode();(0,ee.hu)(A instanceof Vt,"serverChildren would be complete if leaf node"),b=hA(r,A)}v=n.filter.updateFullNode(y,b,a)}else{const b=Zt(t);let A=fA(r,b,e.serverCache);null==A&&e.serverCache.isCompleteForChild(b)&&(A=y.getImmediateChild(b)),v=null!=A?n.filter.updateChild(y,b,A,bn(t),h,a):e.eventCache.getNode().hasChild(b)?n.filter.updateChild(y,b,Vt.EMPTY_NODE,bn(t),h,a):y,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=lC(r,Wl(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,a)))}return l=e.serverCache.isFullyInitialized()||null!=cC(r,cn()),nm(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,r,i,a):function zL(n,e,t,r,i,a,l){if(null!=cC(i,t))return e;const h=e.serverCache.isFiltered(),y=e.serverCache;if(null!=r.value){if(Ht(t)&&y.isFullyInitialized()||y.isCompleteForPath(t))return dC(n,e,t,y.getNode().getChild(t),i,a,h,l);if(Ht(t)){let v=new kn(null);return y.getNode().forEachChild(Hr,(b,A)=>{v=v.set(new an(b),A)}),mA(n,e,t,v,i,a,h,l)}return e}{let v=new kn(null);return r.foreach((b,A)=>{const N=Ln(t,b);y.isCompleteForPath(N)&&(v=v.set(b,y.getNode().getChild(N)))}),mA(n,e,t,v,i,a,h,l)}}(n,e,v.path,v.affectedTree,r,i,a)}else{if(t.type!==Ws.LISTEN_COMPLETE)throw(0,ee.g5)("Unknown operation type: "+t.type);l=function qL(n,e,t,r,i){const a=e.serverCache;return EP(n,dA(e,a.getNode(),a.isFullyInitialized()||Ht(t),a.isFiltered()),t,r,vP,i)}(n,e,t.path,r,a)}const y=a.getChanges();return function GL(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=yv(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(function eC(n){return{type:"value",snapshotNode:n}}(yv(e)))}}(e,l,y),{viewCache:l,changes:y}}(n.processor_,i,e,t,r);return function jL(n,e){(0,ee.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,ee.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,ee.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,function TP(n,e,t,r){return function fP(n,e,t,r){const i=[],a=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function cP(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),kf(n,i,"child_removed",e,r,t),kf(n,i,"child_added",e,r,t),kf(n,i,"child_moved",a,r,t),kf(n,i,"child_changed",e,r,t),kf(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,a.changes,a.viewCache.eventCache.getNode(),null)}let hC,pC;function yA(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,ee.hu)(null!=a,"SyncTree gave us an op for an invalid query."),bP(a,e,t,r)}{let a=[];for(const l of n.views.values())a=a.concat(bP(l,e,t,r));return a}}function yd(n,e){let t=null;for(const r of n.views.values())t=t||XL(r,e);return t}class NP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new kn(null),this.pendingWriteTree_=function gP(){return{visibleWrites:Zo.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _A(n,e,t,r,i){return function S(n,e,t,r,i){(0,ee.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=rm(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?im(n,new Ga({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function vd(n,e,t=!1){const r=function k(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function H(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,ee.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&Q(h,r.path)?i=!1:js(r.path,h.path)&&(a=!0)),l--}return!!i&&(a?(function fe(n){n.visibleWrites=We(n.allWrites,Le,cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=s(n.visibleWrites,r.path):Nr(r.children,y=>{n.visibleWrites=s(n.visibleWrites,Ln(r.path,y))}),!0))}(n.pendingWriteTree_,e)){let a=new kn(null);return null!=r.snap?a=a.set(cn(),!0):Nr(r.children,l=>{a=a.set(new an(l),!0)}),im(n,new gv(r.path,a,t))}return[]}function _v(n,e,t){return im(n,new Ga({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function mC(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,h)=>{const v=yd(h,_i(l,e));if(v)return v});return st(i,e,a,t,!0)}function im(n,e){return OP(e,n.syncPointTree_,null,C(n.pendingWriteTree_,cn()))}function OP(n,e,t,r){if(Ht(n.path))return kP(n,e,t,r);{const i=e.get(cn());null==t&&null!=i&&(t=yd(i,cn()));let a=[];const l=Zt(n.path),h=n.operationForChild(l),y=e.children.get(l);if(y&&h){const v=t?t.getImmediateChild(l):null,b=yP(r,l);a=a.concat(OP(h,y,v,b))}return i&&(a=a.concat(yA(i,n,r,t))),a}}function kP(n,e,t,r){const i=e.get(cn());null==t&&null!=i&&(t=yd(i,cn()));let a=[];return e.children.inorderTraversal((l,h)=>{const y=t?t.getImmediateChild(l):null,v=yP(r,l),b=n.operationForChild(l);b&&(a=a.concat(kP(b,h,y,v)))}),i&&(a=a.concat(yA(i,n,r,t))),a}function EA(n,e){return n.tagToQueryMap.get(e)}function wA(n){const e=n.indexOf("$");return(0,ee.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new an(n.substr(0,e))}}function IA(n,e,t){const r=n.syncPointTree_.get(e);return(0,ee.hu)(r,"Missing sync point for query tag that we're tracking"),yA(r,t,C(n.pendingWriteTree_,e),null)}class CA{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new CA(t)}node(){return this.node_}}class DA{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Ln(this.path_,e);return new DA(this.syncTree_,t)}node(){return mC(this.syncTree_,this.path_)}}const vV=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},LP=function(n,e,t){return n&&"object"==typeof n?((0,ee.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?EV(n[".sv"],e,t):"object"==typeof n[".sv"]?wV(n[".sv"],e):void(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},EV=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,ee.hu)(!1,"Unexpected server value: "+n)},wV=function(n,e,t){n.hasOwnProperty("increment")||(0,ee.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,ee.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,ee.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},VP=function(n,e,t,r){return TA(e,new DA(t,n),r)},bA=function(n,e,t){return TA(n,new CA(e),t)};function TA(n,e,t){const r=n.getPriority().val(),i=LP(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,h=LP(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new Sf(h,Yn(i)):n}{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Sf(i))),l.forEachChild(wn,(h,y)=>{const v=TA(y,e.getImmediateChild(h),t);v!==y&&(a=a.updateImmediateChild(h,v))}),a}}class SA{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function _C(n,e){let t=e instanceof an?e:new an(e),r=n,i=Zt(t);for(;null!==i;){const a=(0,ee.DV)(r.node.children,i)||{children:{},childCount:0};r=new SA(i,r,a),t=bn(t),i=Zt(t)}return r}function Ff(n){return n.node.value}function AA(n,e){n.node.value=e,MA(n)}function UP(n){return n.node.childCount>0}function vC(n,e){Nr(n.node.children,(t,r)=>{e(new SA(t,n,r))})}function BP(n,e,t,r){t&&!r&&e(n),vC(n,i=>{BP(i,e,!0,r)}),t&&r&&e(n)}function wv(n){return new an(null===n.parent?n.name:wv(n.parent)+"/"+n.name)}function MA(n){null!==n.parent&&function DV(n,e,t){const r=function IV(n){return void 0===Ff(n)&&!UP(n)}(t),i=(0,ee.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,MA(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,MA(n))}(n.parent,n.name,n)}const bV=/[\[\].#$\/\u0000-\u001F\u007F]/,TV=/[\[\].#$\u0000-\u001F\u007F]/,xA=10485760,EC=function(n){return"string"==typeof n&&0!==n.length&&!bV.test(n)},Cv=function(n,e,t){const r=t instanceof an?new tv(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Hl(r));if("function"==typeof e)throw new Error(n+"contains a function "+Hl(r)+" with contents = "+e.toString());if(Fg(e))throw new Error(n+"contains "+e.toString()+" "+Hl(r));if("string"==typeof e&&e.length>xA/3&&(0,ee.ug)(e)>xA)throw new Error(n+"contains a string greater than "+xA+" utf8 bytes "+Hl(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(Nr(e,(l,h)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!EC(l)))throw new Error(n+" contains an invalid key ("+l+") "+Hl(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function XS(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,ee.ug)(e),_s(n)})(r,l),Cv(n,h,r),function aP(n){const e=n.parts_.pop();n.byteLength_-=(0,ee.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+Hl(r)+" in addition to actual children.")}},HP=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!EC(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),function(n){return"string"==typeof n&&0!==n.length&&!TV.test(n)}(n)}(t))throw new Error((0,ee.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class xV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wo(n,e,t){(function wC(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!ys(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function WP(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(RV(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>js(r,e)||js(e,r))}function RV(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();Ba&&wr("event: "+t.toString()),mf(r)}}}const zP="repo_interrupt",NV=25;class PV{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new xV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=hv(),this.transactionQueueTree_=new SA,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qP(n){const t=n.infoData_.getNode(new an(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function bv(n){return vV({timestamp:qP(n)})}function KP(n,e,t,r,i){n.dataUpdateCount++;const a=new an(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const y=(0,ee.UI)(t,v=>Yn(v));l=function fV(n,e,t,r){const i=EA(n,r);if(i){const a=wA(i),l=a.path,h=a.queryId,y=_i(l,e),v=kn.fromObject(t);return IA(n,l,new md(Of(h),y,v))}return[]}(n.serverSyncTree_,a,y,i)}else{const y=Yn(t);l=function PP(n,e,t,r){const i=EA(n,r);if(null!=i){const a=wA(i),l=a.path,h=a.queryId,y=_i(l,e);return IA(n,l,new Ga(Of(h),y,t))}return[]}(n.serverSyncTree_,a,y,i)}else if(r){const y=(0,ee.UI)(t,v=>Yn(v));l=function cV(n,e,t){const r=kn.fromObject(t);return im(n,new md({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,y)}else{const y=Yn(t);l=_v(n.serverSyncTree_,a,y)}let h=a;l.length>0&&(h=om(n,a)),wo(n.eventQueue_,h,l)}function YP(n,e){PA(n,"connected",e),!1===e&&function VV(n){sm(n,"onDisconnectEvents");const e=bv(n),t=hv();fv(n.onDisconnect_,cn(),(i,a)=>{const l=VP(i,a,n.serverSyncTree_,e);Pf(t,i,l)});let r=[];fv(t,cn(),(i,a)=>{r=r.concat(_v(n.serverSyncTree_,i,a));const l=function LA(n,e){const t=wv(XP(n,e)),r=_C(n.transactionQueueTree_,e);return function CV(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{VA(n,i)}),VA(n,r),BP(r,i=>{VA(n,i)}),t}(n,i);om(n,l)}),n.onDisconnect_=hv(),wo(n.eventQueue_,cn(),r)}(n)}function PA(n,e,t){const r=new an("/.info/"+e),i=Yn(t);n.infoData_.updateSnapshot(r,i);const a=_v(n.infoSyncTree_,r,i);wo(n.eventQueue_,r,a)}function IC(n){return n.nextWriteId_++}function sm(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),wr(t,...e)}function FA(n,e,t){return mC(n.serverSyncTree_,e,t)||Vt.EMPTY_NODE}function CC(n,e=n.transactionQueueTree_){if(e||DC(n,e),Ff(e)){const t=JP(n,e);(0,ee.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function WV(n,e,t){const r=t.map(v=>v.currentWriteId),i=FA(n,e,r);let a=i;const l=i.hash();for(let v=0;v<t.length;v++){const b=t[v];(0,ee.hu)(0===b.status,"tryToSendTransactionQueue_: items in queue should all be run."),b.status=1,b.retryCount++;const A=_i(e,b.path);a=a.updateChild(A,b.currentOutputSnapshotRaw)}const h=a.val(!0),y=e;n.server_.put(y.toString(),h,v=>{sm(n,"transaction put response",{path:y.toString(),status:v});let b=[];if("ok"===v){const A=[];for(let N=0;N<t.length;N++)t[N].status=2,b=b.concat(vd(n.serverSyncTree_,t[N].currentWriteId)),t[N].onComplete&&A.push(()=>t[N].onComplete(null,!0,t[N].currentOutputSnapshotResolved)),t[N].unwatcher();DC(n,_C(n.transactionQueueTree_,e)),CC(n,n.transactionQueueTree_),wo(n.eventQueue_,e,b);for(let N=0;N<A.length;N++)mf(A[N])}else{if("datastale"===v)for(let A=0;A<t.length;A++)t[A].status=3===t[A].status?4:0;else{yi("transaction at "+y.toString()+" failed: "+v);for(let A=0;A<t.length;A++)t[A].status=4,t[A].abortReason=v}om(n,e)}},l)}(n,wv(e),t)}else UP(e)&&vC(e,t=>{CC(n,t)})}function om(n,e){const t=XP(n,e),r=wv(t);return function zV(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const y=e[h],v=_i(t,y.path);let A,b=!1;if((0,ee.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===y.status)b=!0,A=y.abortReason,i=i.concat(vd(n.serverSyncTree_,y.currentWriteId,!0));else if(0===y.status)if(y.retryCount>=NV)b=!0,A="maxretry",i=i.concat(vd(n.serverSyncTree_,y.currentWriteId,!0));else{const N=FA(n,y.path,l);y.currentInputSnapshot=N;const U=e[h].update(N.val());if(void 0!==U){Cv("transaction failed: Data returned ",U,y.path);let q=Yn(U);"object"==typeof U&&null!=U&&(0,ee.r3)(U,".priority")||(q=q.updatePriority(N.getPriority()));const xe=y.currentWriteId,xt=bv(n),Wt=bA(q,N,xt);y.currentOutputSnapshotRaw=q,y.currentOutputSnapshotResolved=Wt,y.currentWriteId=IC(n),l.splice(l.indexOf(xe),1),i=i.concat(_A(n.serverSyncTree_,y.path,Wt,y.currentWriteId,y.applyLocally)),i=i.concat(vd(n.serverSyncTree_,xe,!0))}else b=!0,A="nodata",i=i.concat(vd(n.serverSyncTree_,y.currentWriteId,!0))}wo(n.eventQueue_,t,i),i=[],b&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===A?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(A),!1,null)))}DC(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)mf(r[h]);CC(n,n.transactionQueueTree_)}(n,JP(n,t),r),r}function XP(n,e){let t,r=n.transactionQueueTree_;for(t=Zt(e);null!==t&&void 0===Ff(r);)r=_C(r,t),t=Zt(e=bn(e));return r}function JP(n,e){const t=[];return eO(n,e,t),t.sort((r,i)=>r.order-i.order),t}function eO(n,e,t){const r=Ff(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);vC(e,i=>{eO(n,i,t)})}function DC(n,e){const t=Ff(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,AA(e,t.length>0?t:void 0)}vC(e,r=>{DC(n,r)})}function VA(n,e){const t=Ff(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,ee.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):((0,ee.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(vd(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?AA(e,void 0):t.length=a+1,wo(n.eventQueue_,wv(e),i);for(let l=0;l<r.length;l++)mf(r[l])}}const UA=function(n,e){const t=YV(n),r=t.namespace;return"firebase.com"===t.domain&&$s(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&$s("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&yi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new A0(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new an(t.pathString)}},YV=function(n){let e="",t="",r="",i="",a="",l=!0,h="https",y=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let b=n.indexOf("/");-1===b&&(b=n.length);let A=n.indexOf("?");-1===A&&(A=n.length),e=n.substring(0,Math.min(b,A)),b<A&&(i=function qV(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(b,A)));const N=function KV(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):yi(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,A)));v=e.indexOf(":"),v>=0?(l="https"===h||"wss"===h,y=parseInt(e.substring(v+1),10)):v=e.length;const U=e.slice(0,v);if("localhost"===U.toLowerCase())t="localhost";else if(U.split(".").length<=2)t=U;else{const q=e.indexOf(".");r=e.substring(0,q).toLowerCase(),t=e.substring(q+1),a=r}"ns"in N&&(a=N.ns)}return{host:e,port:y,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:a}};class Io{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Ht(this._path)?null:ev(this._path)}get ref(){return new Wa(this._repo,this._path)}get _queryIdentifier(){const e=Nf(this._queryParams),t=Lg(e);return"{}"===t?"default":t}get _queryObject(){return Nf(this._queryParams)}isEqual(e){if(!((e=(0,ee.m9)(e))instanceof Io))return!1;const t=this._repo===e._repo,r=ys(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function ZS(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Wa extends Io{constructor(e,t){super(e,t,new lv,!1)}get parent(){const e=QS(this._path);return null===e?null:new Wa(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function tV(n){(0,ee.hu)(!hC,"__referenceConstructor has already been defined"),hC=n})(Wa),function oV(n){(0,ee.hu)(!pC,"__referenceConstructor has already been defined"),pC=n}(Wa);const lU="FIREBASE_DATABASE_EMULATOR_HOST",$A={};let aO=!1;class gU{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function OV(n,e,t){if(n.stats_=$g(n.repoInfo_),n.forceRestClient_||XN())n.server_=new dv(n.repoInfo_,(r,i,a,l)=>{KP(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>YP(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,ee.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Bu(n.repoInfo_,e,(r,i,a,l)=>{KP(n,r,i,a,l)},r=>{YP(n,r)},r=>{!function kV(n,e){Nr(e,(t,r)=>{PA(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function G_(n,e){const t=n.toString();return H_[t]||(H_[t]=e()),H_[t]}(n.repoInfo_,()=>new oC(n.stats_,n.server_)),n.infoData_=new dP,n.infoSyncTree_=new NP({startListening:(r,i,a,l)=>{let h=[];const y=n.infoData_.getNode(r._path);return y.isEmpty()||(h=_v(n.infoSyncTree_,r._path,y),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),PA(n,"connected",!1),n.serverSyncTree_=new NP({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(h,y)=>{const v=l(h,y);wo(n.eventQueue_,r._path,v)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Wa(this._repo,cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function hU(n,e){const t=$A[e];(!t||t[n.key]!==n)&&$s(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function QP(n){n.persistentConnection_&&n.persistentConnection_.interrupt(zP)}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&$s("Cannot call "+e+" on a deleted database.")}}function mU(n=(0,gi.getApp)(),e){const t=(0,gi._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,ee.P0)("database");r&&function yU(n,e,t,r={}){(n=(0,ee.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&$s("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&$s('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new _f(_f.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,ee.Sg)(r.mockUserToken,n.app.options.projectId);a=new _f(l)}!function cU(n,e,t,r){n.repoInfo_=new A0(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,a)}(t,...r)}return t}Bu.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Bu.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function _U(n){(function pf(n){ff=n})(gi.SDK_VERSION),(0,gi._registerComponent)(new eg.wA("database",(e,{instanceIdentifier:t})=>function dU(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||$s("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),wr("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let y,v,l=UA(a,i),h=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env[lU]),v?(y=!0,a=`http://${v}?ns=${h.namespace}`,l=UA(a,i),h=l.repoInfo):y=!l.repoInfo.secure;const b=i&&y?new _f(_f.OWNER):new yf(n.name,n.options,e);HP("Invalid Firebase Database URL",l),Ht(l.path)||$s("Database URL must point to the root of a Firebase Database (not including a child path).");const A=function fU(n,e,t,r){let i=$A[e.name];i||(i={},$A[e.name]=i);let a=i[n.toURLString()];return a&&$s("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new PV(n,aO,t,r),i[n.toURLString()]=a,a}(h,n,b,new B_(n.name,t));return new gU(A,n)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,gi.registerVersion)(_o,"0.14.4",n),(0,gi.registerVersion)(_o,"0.14.4","esm2017")}();class jA{constructor(e){return e}}const lO="database",HA=new g.OlP("angularfire2.database-instances");function CU(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jA(r)}}const DU={provide:class wU{constructor(){return(0,_n.vb)(lO)}},deps:[[new g.FiY,HA]]},bU={provide:jA,useFactory:function IU(n,e){const t=(0,_n.JM)(lO,n,e);return t&&new jA(t)},deps:[[new g.FiY,HA],go]};let TU=(()=>{class n{constructor(){(0,po.KN)("angularfire",_n.q4.full,"rtdb")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[bU,DU]}),n})();function SU(n,...e){return{ngModule:TU,providers:[{provide:HA,useFactory:CU(n),multi:!0,deps:[g.R0b,g.zs3,_n.HU,jc,[new g.FiY,r_],[new g.FiY,Zc],...e]}]}}const AU=(0,_n.u3)(mU,!0);var ht,MU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},zl={},GA=GA||{},Ut=MU||self;function AC(){}function MC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Av(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var WA="closure_uid_"+(1e9*Math.random()>>>0),RU=0;function NU(n,e,t){return n.call.apply(n.bind,arguments)}function PU(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Zi(n,e,t){return(Zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?NU:PU).apply(null,arguments)}function xC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ni(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function Id(){this.s=this.s,this.o=this.o}Id.prototype.s=!1,Id.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function xU(n){Object.prototype.hasOwnProperty.call(n,WA)&&n[WA]||(n[WA]=++RU)}(this)},Id.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const cO=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function zA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function dO(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(MC(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Qi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Qi.prototype.h=function(){this.defaultPrevented=!0};var kU=function(){if(!Ut.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ut.addEventListener("test",AC,e),Ut.removeEventListener("test",AC,e)}catch{}return n}();function RC(n){return/^[\s\xa0]*$/.test(n)}var hO=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function qA(n,e){return n<e?-1:n>e?1:0}function NC(){var n=Ut.navigator;return n&&(n=n.userAgent)?n:""}function Gu(n){return-1!=NC().indexOf(n)}function KA(n){return KA[" "](n),n}KA[" "]=AC;var PC,n,LU=Gu("Opera"),um=Gu("Trident")||Gu("MSIE"),fO=Gu("Edge"),YA=fO||um,pO=Gu("Gecko")&&!(-1!=NC().toLowerCase().indexOf("webkit")&&!Gu("Edge"))&&!(Gu("Trident")||Gu("MSIE"))&&!Gu("Edge"),VU=-1!=NC().toLowerCase().indexOf("webkit")&&!Gu("Edge");function gO(){var n=Ut.document;return n?n.documentMode:void 0}e:{var ZA="",QA=(n=NC(),pO?/rv:([^\);]+)(\)|;)/.exec(n):fO?/Edge\/([\d\.]+)/.exec(n):um?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VU?/WebKit\/(\S+)/.exec(n):LU?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(QA&&(ZA=QA?QA[1]:""),um){var XA=gO();if(null!=XA&&XA>parseFloat(ZA)){PC=String(XA);break e}}PC=ZA}var UU={};var $U=Ut.document&&um&&(gO()||parseInt(PC,10))||void 0;function Mv(n,e){if(Qi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(pO){e:{try{KA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:jU[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Mv.X.h.call(this)}}Ni(Mv,Qi);var jU={2:"touch",3:"pen",4:"mouse"};Mv.prototype.h=function(){Mv.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var xv="closure_listenable_"+(1e6*Math.random()|0),HU=0;function GU(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++HU,this.ba=this.ea=!1}function OC(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function eM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function yO(n){const e={};for(const t in n)e[t]=n[t];return e}const _O="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function vO(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<_O.length;a++)t=_O[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function kC(n){this.src=n,this.g={},this.h=0}function tM(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=cO(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(OC(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function nM(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}kC.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=nM(n,e,r,i);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new GU(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var rM="closure_lm_"+(1e6*Math.random()|0),iM={};function EO(n,e,t,r,i){if(r&&r.once)return IO(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)EO(n,e[a],t,r,i);return null}return t=uM(t),n&&n[xv]?n.N(e,t,Av(r)?!!r.capture:!!r,i):wO(n,e,t,!1,r,i)}function wO(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Av(i)?!!i.capture:!!i,h=oM(n);if(h||(n[rM]=h=new kC(n)),(t=h.add(e,t,r,l,a)).proxy)return t;if(r=function WU(){const e=zU;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)kU||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(DO(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function IO(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)IO(n,e[a],t,r,i);return null}return t=uM(t),n&&n[xv]?n.O(e,t,Av(r)?!!r.capture:!!r,i):wO(n,e,t,!0,r,i)}function CO(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)CO(n,e[a],t,r,i);else r=Av(r)?!!r.capture:!!r,t=uM(t),n&&n[xv]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=nM(a=n.g[e],t,r,i))&&(OC(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=oM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=nM(e,t,r,i)),(t=-1<n?e[n]:null)&&sM(t))}function sM(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[xv])tM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(DO(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=oM(e))?(tM(t,n),0==t.h&&(t.src=null,e[rM]=null)):OC(n)}}}function DO(n){return n in iM?iM[n]:iM[n]="on"+n}function zU(n,e){if(n.ba)n=!0;else{e=new Mv(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&sM(n),n=t.call(r,e)}return n}function oM(n){return(n=n[rM])instanceof kC?n:null}var aM="__closure_events_fn_"+(1e9*Math.random()>>>0);function uM(n){return"function"==typeof n?n:(n[aM]||(n[aM]=function(e){return n.handleEvent(e)}),n[aM])}function vi(){Id.call(this),this.i=new kC(this),this.P=this,this.I=null}function Pi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new Qi(e,n);else if(e instanceof Qi)e.target=e.target||n;else{var i=e;vO(e=new Qi(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=FC(l,r,!0,e)&&i}if(i=FC(l=e.g=n,r,!0,e)&&i,i=FC(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=FC(l=e.g=t[a],r,!1,e)&&i}function FC(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ba&&l.capture==t){var h=l.listener,y=l.ha||l.src;l.ea&&tM(n.i,l),i=!1!==h.call(y,r)&&i}}return i&&!r.defaultPrevented}Ni(vi,Id),vi.prototype[xv]=!0,vi.prototype.removeEventListener=function(n,e,t,r){CO(this,n,e,t,r)},vi.prototype.M=function(){if(vi.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)OC(t[r]);delete n.g[e],n.h--}}this.I=null},vi.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},vi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var lM=Ut.JSON.stringify;function qU(){var n=SO;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var cM,bO=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new YU,n=>n.reset());class YU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ZU(n){Ut.setTimeout(()=>{throw n},0)}function TO(n,e){cM||function QU(){var n=Ut.Promise.resolve(void 0);cM=function(){n.then(XU)}}(),dM||(cM(),dM=!0),SO.add(n,e)}var dM=!1,SO=new class KU{constructor(){this.h=this.g=null}add(e,t){const r=bO.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function XU(){for(var n;n=qU();){try{n.h.call(n.g)}catch(t){ZU(t)}var e=bO;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}dM=!1}function LC(n,e){vi.call(this),this.h=n||1,this.g=e||Ut,this.j=Zi(this.lb,this),this.l=Date.now()}function hM(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function fM(n,e,t){if("function"==typeof n)t&&(n=Zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Ut.setTimeout(n,e||0)}function AO(n){n.g=fM(()=>{n.g=null,n.i&&(n.i=!1,AO(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ni(LC,vi),(ht=LC.prototype).ca=!1,ht.R=null,ht.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Pi(this,"tick"),this.ca&&(hM(this),this.start()))}},ht.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ht.M=function(){LC.X.M.call(this),hM(this),delete this.g};class JU extends Id{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AO(this)}M(){super.M(),this.g&&(Ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rv(n){Id.call(this),this.h=n,this.g={}}Ni(Rv,Id);var MO=[];function xO(n,e,t,r){Array.isArray(t)||(t&&(MO[0]=t.toString()),t=MO);for(var i=0;i<t.length;i++){var a=EO(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function RO(n){eM(n.g,function(e,t){this.g.hasOwnProperty(t)&&sM(e)},n),n.g={}}function VC(){this.g=!0}function lm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function rB(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return lM(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Rv.prototype.M=function(){Rv.X.M.call(this),RO(this)},Rv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},VC.prototype.Aa=function(){this.g=!1},VC.prototype.info=function(){};var Vf={},NO=null;function UC(){return NO=NO||new vi}function PO(n){Qi.call(this,Vf.Pa,n)}function Nv(n){const e=UC();Pi(e,new PO(e))}function OO(n,e){Qi.call(this,Vf.STAT_EVENT,n),this.stat=e}function vs(n){const e=UC();Pi(e,new OO(e,n))}function kO(n,e){Qi.call(this,Vf.Qa,n),this.size=e}function Pv(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ut.setTimeout(function(){n()},e)}Vf.Pa="serverreachability",Ni(PO,Qi),Vf.STAT_EVENT="statevent",Ni(OO,Qi),Vf.Qa="timingevent",Ni(kO,Qi);var BC={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},FO={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function pM(){}function VO(){}pM.prototype.h=null;var yM,Ov={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function gM(){Qi.call(this,"d")}function mM(){Qi.call(this,"c")}function $C(){}function kv(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Rv(this),this.O=iB,this.T=new LC(n=YA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new UO}function UO(){this.i=null,this.g="",this.h=!1}Ni(gM,Qi),Ni(mM,Qi),Ni($C,pM),$C.prototype.g=function(){return new XMLHttpRequest},$C.prototype.i=function(){return{}},yM=new $C;var iB=45e3,_M={},jC={};function vM(n,e,t){n.K=1,n.v=zC(ql(e)),n.s=t,n.P=!0,BO(n,null)}function BO(n,e){n.F=Date.now(),Fv(n),n.A=ql(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),ZO(t.i,"t",r),n.C=0,t=n.l.H,n.h=new UO,n.g=Ek(n.l,t?e:null,!n.s),0<n.N&&(n.L=new JU(Zi(n.La,n,n.g),n.N)),xO(n.S,n.g,"readystatechange",n.ib),e=n.H?yO(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Nv(),function eB(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",h=a.split("&"),y=0;y<h.length;y++){var v=h[y].split("=");if(1<v.length){var b=v[0];v=v[1];var A=b.split("_");l=2<=A.length&&"type"==A[1]?l+(b+"=")+v+"&":l+(b+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function $O(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function jO(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=sB(n,t),i==jC){4==e&&(n.o=4,vs(14),r=!1),lm(n.j,n.m,null,"[Incomplete Response]");break}if(i==_M){n.o=4,vs(15),lm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}lm(n.j,n.m,i,null),EM(n,i)}$O(n)&&i!=jC&&i!=_M&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,vs(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),AM(e),e.K=!0,vs(11))):(lm(n.j,n.m,t,"[Invalid Chunked Response]"),Uf(n),Lv(n))}function sB(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?jC:(t=Number(e.substring(t,r)),isNaN(t)?_M:(r+=1)+t>e.length?jC:(e=e.substr(r,t),n.C=r+t,e))}function Fv(n){n.V=Date.now()+n.O,HO(n,n.O)}function HO(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Pv(Zi(n.gb,n),e)}function HC(n){n.B&&(Ut.clearTimeout(n.B),n.B=null)}function Lv(n){0==n.l.G||n.I||mk(n.l,n)}function Uf(n){HC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,hM(n.T),RO(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function EM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||wM(t.h,n)))if(!n.J&&wM(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;XC(t),ZC(t)}SM(t),vs(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=Pv(Zi(t.cb,t),6e3));if(1>=JO(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else $f(t,11)}else if((n.J||t.g==n)&&XC(t),!RC(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const b=v[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const A=v[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(t.J=r=1.5*N,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const U=n.g;if(U){const q=U.g?U.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(q){var a=r.h;a.g||-1==q.indexOf("spdy")&&-1==q.indexOf("quic")&&-1==q.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(IM(a,a.h),a.h=null))}if(r.D){const le=U.g?U.g.getResponseHeader("X-HTTP-Session-Id"):null;le&&(r.za=le,Zn(r.F,r.D,le))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=vk(r,r.H?r.ka:null,r.V),l.J){ek(r.h,l);var h=l,y=r.J;y&&h.setTimeout(y),h.B&&(HC(h),Fv(h)),r.g=l}else pk(r);0<t.i.length&&QC(t)}else"stop"!=v[0]&&"close"!=v[0]||$f(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?$f(t,7):TM(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}Nv()}catch{}}function GO(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(MC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function aB(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(MC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function oB(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(MC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(ht=kv.prototype).setTimeout=function(n){this.O=n},ht.ib=function(n){n=n.target;const e=this.L;e&&3==Kl(n)?e.l():this.La(n)},ht.La=function(n){try{if(n==this.g)e:{const b=Kl(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||YA||this.g&&(this.h.h||this.g.fa()||uk(this.g)))){this.I||4!=b||7==e||Nv(),HC(this);var t=this.g.aa();this.Y=t;t:if($O(this)){var r=uk(this.g);n="";var i=r.length,a=4==Kl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Uf(this),Lv(this);var l="";break t}this.h.i=new Ut.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function tB(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,y=this.g;if((h=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!RC(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,vs(12),Uf(this),Lv(this);break e}lm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,EM(this,t)}this.P?(jO(this,b,l),YA&&this.i&&3==b&&(xO(this.S,this.T,"tick",this.hb),this.T.start())):(lm(this.j,this.m,l,null),EM(this,l)),4==b&&Uf(this),this.i&&!this.I&&(4==b?mk(this.l,this):(this.i=!1,Fv(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,vs(12)):(this.o=0,vs(13)),Uf(this),Lv(this)}}}catch{}},ht.hb=function(){if(this.g){var n=Kl(this.g),e=this.g.fa();this.C<e.length&&(HC(this),jO(this,n,e),this.i&&4!=n&&Fv(this))}},ht.cancel=function(){this.I=!0,Uf(this)},ht.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function nB(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Nv(),vs(17)),Uf(this),this.o=2,Lv(this)):HO(this,this.V-n)};var WO=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bf){this.h=void 0!==e?e:n.h,GC(this,n.j),this.s=n.s,this.g=n.g,WC(this,n.m),this.l=n.l,e=n.i;var t=new Bv;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),zO(this,t),this.o=n.o}else n&&(t=String(n).match(WO))?(this.h=!!e,GC(this,t[1]||"",!0),this.s=Vv(t[2]||""),this.g=Vv(t[3]||"",!0),WC(this,t[4]),this.l=Vv(t[5]||"",!0),zO(this,t[6]||"",!0),this.o=Vv(t[7]||"")):(this.h=!!e,this.i=new Bv(null,this.h))}function ql(n){return new Bf(n)}function GC(n,e,t){n.j=t?Vv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function WC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function zO(n,e,t){e instanceof Bv?(n.i=e,function pB(n,e){e&&!n.j&&(Cd(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(KO(this,r),ZO(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Uv(e,hB)),n.i=new Bv(e,n.h))}function Zn(n,e,t){n.i.set(e,t)}function zC(n){return Zn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Vv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Uv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,lB),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function lB(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Uv(e,qO,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Uv(e,qO,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Uv(t,"/"==t.charAt(0)?dB:cB,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Uv(t,fB)),n.join("")};var qO=/[#\/\?@]/g,cB=/[#\?:]/g,dB=/[#\?]/g,hB=/[#\?@]/g,fB=/#/g;function Bv(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Cd(n){n.g||(n.g=new Map,n.h=0,n.i&&function uB(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function KO(n,e){Cd(n),e=cm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function YO(n,e){return Cd(n),e=cm(n,e),n.g.has(e)}function ZO(n,e,t){KO(n,e),0<t.length&&(n.i=null,n.g.set(cm(n,e),zA(t)),n.h+=t.length)}function cm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function QO(n){this.l=n||mB,n=Ut.PerformanceNavigationTiming?0<(n=Ut.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ut.g&&Ut.g.Ga&&Ut.g.Ga()&&Ut.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ht=Bv.prototype).add=function(n,e){Cd(this),this.i=null,n=cm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ht.forEach=function(n,e){Cd(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ht.oa=function(){Cd(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},ht.W=function(n){Cd(this);let e=[];if("string"==typeof n)YO(this,n)&&(e=e.concat(this.g.get(cm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ht.set=function(n,e){return Cd(this),this.i=null,YO(this,n=cm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ht.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var mB=10;function XO(n){return!!n.h||!!n.g&&n.g.size>=n.j}function JO(n){return n.h?1:n.g?n.g.size:0}function wM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function IM(n,e){n.g?n.g.add(e):n.h=e}function ek(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function tk(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return zA(n.i)}function CM(){}function yB(){this.g=new CM}function _B(n,e,t){const r=t||"";try{GO(n,function(i,a){let l=i;Av(i)&&(l=lM(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function qC(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function $v(n){this.l=n.ac||null,this.j=n.jb||!1}function KC(n,e){vi.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=DM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}QO.prototype.cancel=function(){if(this.i=tk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},CM.prototype.stringify=function(n){return Ut.JSON.stringify(n,void 0)},CM.prototype.parse=function(n){return Ut.JSON.parse(n,void 0)},Ni($v,pM),$v.prototype.g=function(){return new KC(this.l,this.j)},$v.prototype.i=function(n){return function(){return n}}({}),Ni(KC,vi);var DM=0;function nk(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function jv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Hv(n)}function Hv(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ht=KC.prototype).open=function(n,e){if(this.readyState!=DM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Hv(this)},ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Ut).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,jv(this)),this.readyState=DM},ht.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Hv(this)),this.g&&(this.readyState=3,Hv(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ut.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;nk(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},ht.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?jv(this):Hv(this),3==this.readyState&&nk(this)}},ht.Va=function(n){this.g&&(this.response=this.responseText=n,jv(this))},ht.Ua=function(n){this.g&&(this.response=n,jv(this))},ht.ga=function(){this.g&&jv(this)},ht.setRequestHeader=function(n,e){this.v.append(n,e)},ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(KC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var EB=Ut.JSON.parse;function Ir(n){vi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=rk,this.K=this.L=!1}Ni(Ir,vi);var rk="",wB=/^https?$/i,IB=["POST","PUT"];function ik(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,sk(n),YC(n)}function sk(n){n.D||(n.D=!0,Pi(n,"complete"),Pi(n,"error"))}function ok(n){if(n.h&&typeof GA<"u"&&(!n.C[1]||4!=Kl(n)||2!=n.aa()))if(n.v&&4==Kl(n))fM(n.Ha,0,n);else if(Pi(n,"readystatechange"),4==Kl(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(WO)[1]||null;if(!i&&Ut.self&&Ut.self.location){var a=Ut.self.location.protocol;i=a.substr(0,a.length-1)}r=!wB.test(i?i.toLowerCase():"")}t=r}if(t)Pi(n,"complete"),Pi(n,"success");else{n.m=6;try{var l=2<Kl(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",sk(n)}}finally{YC(n)}}}function YC(n,e){if(n.g){ak(n);const t=n.g,r=n.C[0]?AC:null;n.g=null,n.C=null,e||Pi(n,"ready");try{t.onreadystatechange=r}catch{}}}function ak(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ut.clearTimeout(n.A),n.A=null)}function Kl(n){return n.g?n.g.readyState:0}function uk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case rk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function lk(n){let e="";return eM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function bM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=lk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Zn(n,e,t))}function Gv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ck(n){this.Ca=0,this.i=[],this.j=new VC,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Gv("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Gv("baseRetryDelayMs",5e3,n),this.bb=Gv("retryDelaySeedMs",1e4,n),this.$a=Gv("forwardChannelMaxRetries",2,n),this.ta=Gv("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new QO(n&&n.concurrentRequestLimit),this.Fa=new yB,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function TM(n){if(dk(n),3==n.G){var e=n.U++,t=ql(n.F);Zn(t,"SID",n.I),Zn(t,"RID",e),Zn(t,"TYPE","terminate"),Wv(n,t),(e=new kv(n,n.j,e,void 0)).K=2,e.v=zC(ql(t)),t=!1,Ut.navigator&&Ut.navigator.sendBeacon&&(t=Ut.navigator.sendBeacon(e.v.toString(),"")),!t&&Ut.Image&&((new Image).src=e.v,t=!0),t||(e.g=Ek(e.l,null),e.g.da(e.v)),e.F=Date.now(),Fv(e)}_k(n)}function ZC(n){n.g&&(AM(n),n.g.cancel(),n.g=null)}function dk(n){ZC(n),n.u&&(Ut.clearTimeout(n.u),n.u=null),XC(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Ut.clearTimeout(n.m),n.m=null)}function QC(n){XO(n.h)||n.m||(n.m=!0,TO(n.Ja,n),n.C=0)}function hk(n,e){var t;t=e?e.m:n.U++;const r=ql(n.F);Zn(r,"SID",n.I),Zn(r,"RID",t),Zn(r,"AID",n.T),Wv(n,r),n.o&&n.s&&bM(r,n.o,n.s),t=new kv(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=fk(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),IM(n.h,t),vM(t,r,e)}function Wv(n,e){n.ia&&eM(n.ia,function(t,r){Zn(e,r,t)}),n.l&&GO({},function(t,r){Zn(e,r,t)})}function fk(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Zi(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let y=0;y<t;y++){let v=i[y].h;const b=i[y].g;if(v-=a,0>v)a=Math.max(0,i[y].h-100),h=!1;else try{_B(b,l,"req"+v+"_")}catch{r&&r(b)}}if(h){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function pk(n){n.g||n.u||(n.Z=1,TO(n.Ia,n),n.A=0)}function SM(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=Pv(Zi(n.Ia,n),yk(n,n.A)),n.A++,0))}function AM(n){null!=n.B&&(Ut.clearTimeout(n.B),n.B=null)}function gk(n){n.g=new kv(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=ql(n.sa);Zn(e,"RID","rpc"),Zn(e,"SID",n.I),Zn(e,"CI",n.L?"0":"1"),Zn(e,"AID",n.T),Zn(e,"TYPE","xmlhttp"),Wv(n,e),n.o&&n.s&&bM(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=zC(ql(e)),t.s=null,t.P=!0,BO(t,n)}function XC(n){null!=n.v&&(Ut.clearTimeout(n.v),n.v=null)}function mk(n,e){var t=null;if(n.g==e){XC(n),AM(n),n.g=null;var r=2}else{if(!wM(n.h,e))return;t=e.D,ek(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Pi(r=UC(),new kO(r,t)),QC(n)}else pk(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function DB(n,e){return!(JO(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=Pv(Zi(n.Ja,n,e),yk(n,n.C)),n.C++,0)))}(n,e)||2==r&&SM(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:$f(n,5);break;case 4:$f(n,10);break;case 3:$f(n,6);break;default:$f(n,2)}}function yk(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function $f(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Zi(n.kb,n);t||(t=new Bf("//www.google.com/images/cleardot.gif"),Ut.location&&"http"==Ut.location.protocol||GC(t,"https"),zC(t)),function vB(n,e){const t=new VC;if(Ut.Image){const r=new Image;r.onload=xC(qC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=xC(qC,t,r,"TestLoadImage: error",!1,e),r.onabort=xC(qC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=xC(qC,t,r,"TestLoadImage: timeout",!1,e),Ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else vs(2);n.G=0,n.l&&n.l.va(e),_k(n),dk(n)}function _k(n){if(n.G=0,n.la=[],n.l){const e=tk(n.h);(0!=e.length||0!=n.i.length)&&(dO(n.la,e),dO(n.la,n.i),n.h.i.length=0,zA(n.i),n.i.length=0),n.l.ua()}}function vk(n,e,t){var r=t instanceof Bf?ql(t):new Bf(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),WC(r,r.m);else{var i=Ut.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Bf(null,void 0);r&&GC(a,r),e&&(a.g=e),i&&WC(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&Zn(r,t,e),Zn(r,"VER",n.ma),Wv(n,r),r}function Ek(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ir(t&&n.Da&&!n.ra?new $v({jb:!0}):n.ra)).Ka(n.H),e}function wk(){}function JC(){if(um&&!(10<=Number($U)))throw Error("Environmental error: no available transport.")}function Co(n,e){vi.call(this),this.g=new ck(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!RC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!RC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new dm(this)}function Ik(n){gM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Ck(){mM.call(this),this.status=1}function dm(n){this.g=n}(ht=Ir.prototype).Ka=function(n){this.L=n},ht.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yM.g(),this.C=function LO(n){return n.h||(n.h=n.i())}(this.u?this.u:yM),this.g.onreadystatechange=Zi(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void ik(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Ut.FormData&&n instanceof Ut.FormData,!(0<=cO(IB,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ak(this),0<this.B&&((this.K=function CB(n){return um&&function BU(){return function FU(n){var e=UU;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=hO(String(PC)).split("."),t=hO("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var i=e[l]||"",a=t[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=qA(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||qA(0==i[2].length,0==a[2].length)||qA(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zi(this.qa,this)):this.A=fM(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){ik(this,a)}},ht.qa=function(){typeof GA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pi(this,"timeout"),this.abort(8))},ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Pi(this,"complete"),Pi(this,"abort"),YC(this))},ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),YC(this,!0)),Ir.X.M.call(this)},ht.Ha=function(){this.s||(this.F||this.v||this.l?ok(this):this.fb())},ht.fb=function(){ok(this)},ht.aa=function(){try{return 2<Kl(this)?this.g.status:-1}catch{return-1}},ht.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},ht.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),EB(e)}},ht.Ea=function(){return this.m},ht.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ht=ck.prototype).ma=8,ht.G=1,ht.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new kv(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=yO(a),vO(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=fk(this,i,e),Zn(t=ql(this.F),"RID",n),Zn(t,"CVER",22),this.D&&Zn(t,"X-HTTP-Session-Id",this.D),Wv(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(lk(a)))+"&"+e:this.o&&bM(t,this.o,a)),IM(this.h,i),this.Ya&&Zn(t,"TYPE","init"),this.O?(Zn(t,"$req",e),Zn(t,"SID","null"),i.Z=!0,vM(i,t,null)):vM(i,t,e),this.G=2}}else 3==this.G&&(n?hk(this,n):0==this.i.length||XO(this.h)||hk(this))},ht.Ia=function(){if(this.u=null,gk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=Pv(Zi(this.eb,this),n)}},ht.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,vs(10),ZC(this),gk(this))},ht.cb=function(){null!=this.v&&(this.v=null,ZC(this),SM(this),vs(19))},ht.kb=function(n){n?(this.j.info("Successfully pinged google.com"),vs(2)):(this.j.info("Failed to ping google.com"),vs(1))},(ht=wk.prototype).xa=function(){},ht.wa=function(){},ht.va=function(){},ht.ua=function(){},ht.Ra=function(){},JC.prototype.g=function(n,e){return new Co(n,e)},Ni(Co,vi),Co.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;vs(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=vk(n,null,n.V),QC(n)},Co.prototype.close=function(){TM(this.g)},Co.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=lM(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&QC(e)},Co.prototype.M=function(){this.g.l=null,delete this.j,TM(this.g),delete this.g,Co.X.M.call(this)},Ni(Ik,gM),Ni(Ck,mM),Ni(dm,wk),dm.prototype.xa=function(){Pi(this.g,"a")},dm.prototype.wa=function(n){Pi(this.g,new Ik(n))},dm.prototype.va=function(n){Pi(this.g,new Ck)},dm.prototype.ua=function(){Pi(this.g,"b")},JC.prototype.createWebChannel=JC.prototype.g,Co.prototype.send=Co.prototype.u,Co.prototype.open=Co.prototype.m,Co.prototype.close=Co.prototype.close,BC.NO_ERROR=0,BC.TIMEOUT=8,BC.HTTP_ERROR=6,FO.COMPLETE="complete",VO.EventType=Ov,Ov.OPEN="a",Ov.CLOSE="b",Ov.ERROR="c",Ov.MESSAGE="d",vi.prototype.listen=vi.prototype.N,Ir.prototype.listenOnce=Ir.prototype.O,Ir.prototype.getLastError=Ir.prototype.Oa,Ir.prototype.getLastErrorCode=Ir.prototype.Ea,Ir.prototype.getStatus=Ir.prototype.aa,Ir.prototype.getResponseJson=Ir.prototype.Sa,Ir.prototype.getResponseText=Ir.prototype.fa,Ir.prototype.send=Ir.prototype.da,Ir.prototype.setWithCredentials=Ir.prototype.Ka,zl.createWebChannelTransport=function(){return new JC},zl.getStatEventTarget=function(){return UC()},zl.ErrorCode=BC,zl.EventType=FO,zl.Event=Vf,zl.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},zl.FetchXmlHttpFactory=$v,zl.WebChannel=VO,zl.XhrIo=Ir;const Dk="@firebase/firestore";class Ei{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ei.UNAUTHENTICATED=new Ei(null),Ei.GOOGLE_CREDENTIALS=new Ei("google-credentials-uid"),Ei.FIRST_PARTY=new Ei("first-party-uid"),Ei.MOCK_USER=new Ei("mock-user");let zv="9.18.0";const Dd=new ka.Yd("@firebase/firestore");function ke(n,...e){if(Dd.logLevel<=ka.in.DEBUG){const t=e.map(xM);Dd.debug(`Firestore (${zv}): ${n}`,...t)}}function Pr(n,...e){if(Dd.logLevel<=ka.in.ERROR){const t=e.map(xM);Dd.error(`Firestore (${zv}): ${n}`,...t)}}function xM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ot(n="Unexpected state"){const e=`FIRESTORE (${zv}) INTERNAL ASSERTION FAILED: `+n;throw Pr(e),new Error(e)}function ft(n,e){n||ot()}const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends ee.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class bk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ei.UNAUTHENTICATED))}shutdown(){}}class TB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class SB{constructor(e){this.t=e,this.currentUser=Ei.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let l=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ni,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=l;e.enqueueRetryable((0,On.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},y=v=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ni)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ft("string"==typeof r.accessToken),new bk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ft(null===e||"string"==typeof e),new Ei(e)}}class AB{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ei.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(ft(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class MB{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new AB(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ei.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class xB{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ft("string"==typeof t.token),this.A=t.token,new Tk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function RB(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Sk{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=RB(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}class eD{constructor(e,t,r){void 0===t?t=0:t>e.length&&ot(),void 0===r?r=e.length-t:r>e.length-t&&ot(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===eD.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eD?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class dn extends eD{construct(e,t,r){return new dn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ne(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new dn(t)}static emptyPath(){return new dn([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(dn.fromString(e))}static fromName(e){return new qe(dn.fromString(e).popFirst(5))}static empty(){return new qe(dn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===dn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return dn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new dn(e.slice()))}}function Td(n){return"IndexedDbTransactionError"===n.name}class $B{constructor(e,t,r,i,a,l,h,y){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=y}}class Gf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Gf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Gf&&e.projectId===this.projectId&&e.database===this.database}}class jB extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new jB("Invalid base64 string: "+i):i}}(e);return new ri(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Cr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}ri.EMPTY_BYTE_STRING=new ri("");class Dr{constructor(e,t){this.comparator=e,this.root=t||Oi.EMPTY}insert(e,t){return new Dr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Oi.BLACK,null,null))}remove(e){return new Dr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Oi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new oD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new oD(this.root,e,this.comparator,!1)}getReverseIterator(){return new oD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new oD(this.root,e,this.comparator,!0)}}class oD{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Oi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??Oi.RED,this.left=i??Oi.EMPTY,this.right=a??Oi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new Oi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Oi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Oi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Oi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Oi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ot();const e=this.left.check();if(e!==this.right.check())throw ot();return e+(this.isRed()?0:1)}}Oi.EMPTY=null,Oi.RED=!0,Oi.BLACK=!1,Oi.EMPTY=new class{constructor(){this.size=0}get key(){throw ot()}get value(){throw ot()}get color(){throw ot()}get left(){throw ot()}get right(){throw ot()}copy(n,e,t,r,i){return this}insert(n,e,t){return new Oi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tn{constructor(e){this.comparator=e,this.data=new Dr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qk(this.data.getIterator())}getIteratorFrom(e){return new Qk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Tn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tn(this.comparator);return t.data=e,t}}class Qk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}var Gr,hn;(hn=Gr||(Gr={}))[hn.OK=0]="OK",hn[hn.CANCELLED=1]="CANCELLED",hn[hn.UNKNOWN=2]="UNKNOWN",hn[hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hn[hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hn[hn.NOT_FOUND=5]="NOT_FOUND",hn[hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",hn[hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",hn[hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",hn[hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hn[hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hn[hn.ABORTED=10]="ABORTED",hn[hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",hn[hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",hn[hn.INTERNAL=13]="INTERNAL",hn[hn.UNAVAILABLE=14]="UNAVAILABLE",hn[hn.DATA_LOSS=15]="DATA_LOSS",new Dr(qe.comparator),new Dr(qe.comparator),new Dr(qe.comparator),new Tn(qe.comparator),new Tn(Bt);class np{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Cr(e.integerValue));else if("doubleValue"in e){const r=Cr(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),function Qv(n){return 0===n&&1/n==-1/0}(r)?t.de(0):t.de(r))}else if("timestampValue"in e){const r=e.timestampValue;this.fe(t,20),"string"==typeof r?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(function zf(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?function Bk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):ot()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){const r=e.fields||{};this.fe(t,55);for(const i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){const r=e.values||[];this.fe(t,50);for(const i of r)this.he(i,t)}ye(e,t){this.fe(t,37),qe.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}}np.Ee=new np,new Uint8Array(0);class Ks{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ks(e,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function MD(){return typeof document<"u"?document:null}Ks.DEFAULT_COLLECTION_PERCENTILE=10,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ks.DEFAULT=new Ks(41943040,Ks.DEFAULT_COLLECTION_PERCENTILE,Ks.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ks.DISABLED=new Ks(-1,0,0);class Ix{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=a,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();const t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){null!==this.Ao&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){null!==this.Ao&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}}class $x{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,h=new $x(e,t,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ne(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class vj{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ei.UNAUTHENTICATED,this.clientId=Sk.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,On.Z)(function*(h){ke("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ke("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,On.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(se.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,On.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Rm(n,e){if(Pr("AsyncQueue",`${e}: ${n}`),Td(n))return new Ne(se.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}const rL=new Map;function un(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ne(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function kD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ot()}(n);throw new Ne(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class aL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Ne(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ne(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Sj(n,e,t,r){if(!0===e&&!0===r)throw new Ne(se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class bE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ne(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new bB;switch(t.type){case"gapi":return new MB(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ne(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=rL.get(e);t&&(ke("ComponentProvider","Removing Datastore"),rL.delete(e),t.terminate())}(this),Promise.resolve()}}class xj{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Ix(this,"async_queue_retry"),this.Hc=()=>{const t=MD();t&&ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};const e=MD();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const t=MD();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const t=new ni;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}Zc(){var e=this;return(0,On.Z)(function*(){if(0!==e.Uc.length){try{yield e.Uc[0](),e.Uc.shift(),e.ko.reset()}catch(t){if(!Td(t))throw t;ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Uc.length>0&&e.ko.vo(()=>e.Zc())}})()}Yc(e){const t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{throw this.Qc=r,this.jc=!1,Pr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);const i=$x.createAndSchedule(this,e,t,r,a=>this.Xc(a));return this.Gc.push(i),i}Jc(){this.Qc&&ot()}verifyOperationInProgress(){}ta(){var e=this;return(0,On.Z)(function*(){let t;do{t=e.qc,yield t}while(t!==e.qc)})()}ea(e){for(const t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Gc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const t=this.Gc.indexOf(e);this.Gc.splice(t,1)}}class jn extends bE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new xj,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function lL(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $B(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new vj(n._authCredentials,n._appCheckCredentials,n._queue,r)}(this),this._firestoreClient.terminate()}}function Nj(n,e){const t="object"==typeof n?n:(0,gi.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,gi._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,ee.P0)("firestore");a&&function Aj(n,e,t,r={}){var i;const a=(n=un(n,bE))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&function qv(n,...e){if(Dd.logLevel<=ka.in.WARN){const t=e.map(xM);Dd.warn(`Firestore (${zv}): ${n}`,...t)}}("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,h;if("string"==typeof r.mockUserToken)l=r.mockUserToken,h=Ei.MOCK_USER;else{l=(0,ee.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const y=r.mockUserToken.sub||r.mockUserToken.user_id;if(!y)throw new Ne(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ei(y)}n._authCredentials=new TB(new bk(l,h))}}(i,...a)}return i}!function(n,e=!0){zv=gi.SDK_VERSION,(0,gi._registerComponent)(new eg.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new jn(new SB(t.getProvider("auth-internal")),new xB(t.getProvider("app-check-internal")),function(h,y){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Ne(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Gf(h.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,gi.registerVersion)(Dk,"3.9.0",n),(0,gi.registerVersion)(Dk,"3.9.0","esm2017")}();class LR{constructor(e){return e}}const xL="firestore",VR=new g.OlP("angularfire2.firestore-instances");function Xj(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new LR(r)}}const Jj={provide:class Zj{constructor(){return(0,_n.vb)(xL)}},deps:[[new g.FiY,VR]]},eH={provide:LR,useFactory:function Qj(n,e){const t=(0,_n.JM)(xL,n,e);return t&&new LR(t)},deps:[[new g.FiY,VR],go]};let tH=(()=>{class n{constructor(){(0,po.KN)("angularfire",_n.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({providers:[eH,Jj]}),n})();function nH(n,...e){return{ngModule:tH,providers:[{provide:VR,useFactory:Xj(n),multi:!0,deps:[g.R0b,g.zs3,_n.HU,jc,[new g.FiY,r_],[new g.FiY,Zc],...e]}]}}const rH=(0,_n.u3)(Nj,!0);let iH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=g.oAB({type:n,bootstrap:[xS]}),n.\u0275inj=g.cJS({imports:[wa,hf,Fl.hO.initializeApp(Og_firebase),Hb(()=>Ow(Og_firebase)),s_(()=>uI()),SU(()=>AU()),nH(()=>rH()),AS]}),n})();gc().bootstrapModule(iH).catch(n=>console.error(n))},9751:(pt,Ae,F)=>{F.d(Ae,{y:()=>ve});var g=F(2961),V=F(727),G=F(8822),ie=F(9635),oe=F(2416),ae=F(576),Pe=F(2806);let ve=(()=>{class K{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const je=new K;return je.source=this,je.operator=Ie,je}subscribe(Ie,je,rt){const ce=function j(K){return K&&K instanceof g.Lv||function $(K){return K&&(0,ae.m)(K.next)&&(0,ae.m)(K.error)&&(0,ae.m)(K.complete)}(K)&&(0,V.Nn)(K)}(Ie)?Ie:new g.Hp(Ie,je,rt);return(0,Pe.x)(()=>{const{operator:_e,source:me}=this;ce.add(_e?_e.call(ce,me):me?this._subscribe(ce):this._trySubscribe(ce))}),ce}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(je){Ie.error(je)}}forEach(Ie,je){return new(je=De(je))((rt,ce)=>{const _e=new g.Hp({next:me=>{try{Ie(me)}catch(Me){ce(Me),_e.unsubscribe()}},error:ce,complete:rt});this.subscribe(_e)})}_subscribe(Ie){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(Ie)}[G.L](){return this}pipe(...Ie){return(0,ie.U)(Ie)(this)}toPromise(Ie){return new(Ie=De(Ie))((je,rt)=>{let ce;this.subscribe(_e=>ce=_e,_e=>rt(_e),()=>je(ce))})}}return K.create=Ve=>new K(Ve),K})();function De(K){var Ve;return null!==(Ve=K??oe.v.Promise)&&void 0!==Ve?Ve:Promise}},7579:(pt,Ae,F)=>{F.d(Ae,{x:()=>Pe});var g=F(9751),V=F(727);const ie=(0,F(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var oe=F(8737),ae=F(2806);let Pe=(()=>{class De extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const K=new ve(this,this);return K.operator=j,K}_throwIfClosed(){if(this.closed)throw new ie}next(j){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(j)}})}error(j){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:K}=this;for(;K.length;)K.shift().error(j)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:K,isStopped:Ve,observers:Ie}=this;return K||Ve?V.Lc:(this.currentObservers=null,Ie.push(j),new V.w0(()=>{this.currentObservers=null,(0,oe.P)(Ie,j)}))}_checkFinalizedStatuses(j){const{hasError:K,thrownError:Ve,isStopped:Ie}=this;K?j.error(Ve):Ie&&j.complete()}asObservable(){const j=new g.y;return j.source=this,j}}return De.create=($,j)=>new ve($,j),De})();class ve extends Pe{constructor($,j){super(),this.destination=$,this.source=j}next($){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===K||K.call(j,$)}error($){var j,K;null===(K=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===K||K.call(j,$)}complete(){var $,j;null===(j=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===j||j.call($)}_subscribe($){var j,K;return null!==(K=null===(j=this.source)||void 0===j?void 0:j.subscribe($))&&void 0!==K?K:V.Lc}}},2961:(pt,Ae,F)=>{F.d(Ae,{Hp:()=>rt,Lv:()=>K});var g=F(576),V=F(727),G=F(2416),ie=F(7849);function oe(){}const ae=De("C",void 0,void 0);function De(be,Te,Ee){return{kind:be,value:Te,error:Ee}}var $=F(3410),j=F(2806);class K extends V.w0{constructor(Te){super(),this.isStopped=!1,Te?(this.destination=Te,(0,V.Nn)(Te)&&Te.add(this)):this.destination=Me}static create(Te,Ee,Ue){return new rt(Te,Ee,Ue)}next(Te){this.isStopped?me(function ve(be){return De("N",be,void 0)}(Te),this):this._next(Te)}error(Te){this.isStopped?me(function Pe(be){return De("E",void 0,be)}(Te),this):(this.isStopped=!0,this._error(Te))}complete(){this.isStopped?me(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Te){this.destination.next(Te)}_error(Te){try{this.destination.error(Te)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ie(be,Te){return Ve.call(be,Te)}class je{constructor(Te){this.partialObserver=Te}next(Te){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Te)}catch(Ue){ce(Ue)}}error(Te){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Te)}catch(Ue){ce(Ue)}else ce(Te)}complete(){const{partialObserver:Te}=this;if(Te.complete)try{Te.complete()}catch(Ee){ce(Ee)}}}class rt extends K{constructor(Te,Ee,Ue){let Y;if(super(),(0,g.m)(Te)||!Te)Y={next:Te??void 0,error:Ee??void 0,complete:Ue??void 0};else{let ne;this&&G.v.useDeprecatedNextContext?(ne=Object.create(Te),ne.unsubscribe=()=>this.unsubscribe(),Y={next:Te.next&&Ie(Te.next,ne),error:Te.error&&Ie(Te.error,ne),complete:Te.complete&&Ie(Te.complete,ne)}):Y=Te}this.destination=new je(Y)}}function ce(be){G.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(be):(0,ie.h)(be)}function me(be,Te){const{onStoppedNotification:Ee}=G.v;Ee&&$.z.setTimeout(()=>Ee(be,Te))}const Me={closed:!0,next:oe,error:function _e(be){throw be},complete:oe}},727:(pt,Ae,F)=>{F.d(Ae,{Lc:()=>ae,w0:()=>oe,Nn:()=>Pe});var g=F(576);const G=(0,F(3888).d)(De=>function(j){De(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((K,Ve)=>`${Ve+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var ie=F(8737);class oe{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const Ie of j)Ie.remove(this);else j.remove(this);const{initialTeardown:K}=this;if((0,g.m)(K))try{K()}catch(Ie){$=Ie instanceof G?Ie.errors:[Ie]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ie of Ve)try{ve(Ie)}catch(je){$=$??[],je instanceof G?$=[...$,...je.errors]:$.push(je)}}if($)throw new G($)}}add($){var j;if($&&$!==this)if(this.closed)ve($);else{if($ instanceof oe){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push($)}}_hasParent($){const{_parentage:j}=this;return j===$||Array.isArray(j)&&j.includes($)}_addParent($){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push($),j):j?[j,$]:$}_removeParent($){const{_parentage:j}=this;j===$?this._parentage=null:Array.isArray(j)&&(0,ie.P)(j,$)}remove($){const{_finalizers:j}=this;j&&(0,ie.P)(j,$),$ instanceof oe&&$._removeParent(this)}}oe.EMPTY=(()=>{const De=new oe;return De.closed=!0,De})();const ae=oe.EMPTY;function Pe(De){return De instanceof oe||De&&"closed"in De&&(0,g.m)(De.remove)&&(0,g.m)(De.add)&&(0,g.m)(De.unsubscribe)}function ve(De){(0,g.m)(De)?De():De.unsubscribe()}},2416:(pt,Ae,F)=>{F.d(Ae,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(pt,Ae,F)=>{F.d(Ae,{E:()=>V});const V=new(F(9751).y)(oe=>oe.complete())},8996:(pt,Ae,F)=>{F.d(Ae,{D:()=>Te});var g=F(8421),V=F(5363),G=F(9468),ae=F(9751),ve=F(2202),De=F(576),$=F(9672);function K(Ee,Ue){if(!Ee)throw new Error("Iterable cannot be null");return new ae.y(Y=>{(0,$.f)(Y,Ue,()=>{const ne=Ee[Symbol.asyncIterator]();(0,$.f)(Y,Ue,()=>{ne.next().then(he=>{he.done?Y.complete():Y.next(he.value)})},0,!0)})})}var Ve=F(3670),Ie=F(8239),je=F(1144),rt=F(6495),ce=F(2206),_e=F(4532),me=F(3260);function Te(Ee,Ue){return Ue?function be(Ee,Ue){if(null!=Ee){if((0,Ve.c)(Ee))return function ie(Ee,Ue){return(0,g.Xf)(Ee).pipe((0,G.R)(Ue),(0,V.Q)(Ue))}(Ee,Ue);if((0,je.z)(Ee))return function Pe(Ee,Ue){return new ae.y(Y=>{let ne=0;return Ue.schedule(function(){ne===Ee.length?Y.complete():(Y.next(Ee[ne++]),Y.closed||this.schedule())})})}(Ee,Ue);if((0,Ie.t)(Ee))return function oe(Ee,Ue){return(0,g.Xf)(Ee).pipe((0,G.R)(Ue),(0,V.Q)(Ue))}(Ee,Ue);if((0,ce.D)(Ee))return K(Ee,Ue);if((0,rt.T)(Ee))return function j(Ee,Ue){return new ae.y(Y=>{let ne;return(0,$.f)(Y,Ue,()=>{ne=Ee[ve.h](),(0,$.f)(Y,Ue,()=>{let he,He;try{({value:he,done:He}=ne.next())}catch(Be){return void Y.error(Be)}He?Y.complete():Y.next(he)},0,!0)}),()=>(0,De.m)(ne?.return)&&ne.return()})}(Ee,Ue);if((0,me.L)(Ee))return function Me(Ee,Ue){return K((0,me.Q)(Ee),Ue)}(Ee,Ue)}throw(0,_e.z)(Ee)}(Ee,Ue):(0,g.Xf)(Ee)}},8421:(pt,Ae,F)=>{F.d(Ae,{Xf:()=>Ve});var g=F(655),V=F(1144),G=F(8239),ie=F(9751),oe=F(3670),ae=F(2206),Pe=F(4532),ve=F(6495),De=F(3260),$=F(576),j=F(7849),K=F(8822);function Ve(be){if(be instanceof ie.y)return be;if(null!=be){if((0,oe.c)(be))return function Ie(be){return new ie.y(Te=>{const Ee=be[K.L]();if((0,$.m)(Ee.subscribe))return Ee.subscribe(Te);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,V.z)(be))return function je(be){return new ie.y(Te=>{for(let Ee=0;Ee<be.length&&!Te.closed;Ee++)Te.next(be[Ee]);Te.complete()})}(be);if((0,G.t)(be))return function rt(be){return new ie.y(Te=>{be.then(Ee=>{Te.closed||(Te.next(Ee),Te.complete())},Ee=>Te.error(Ee)).then(null,j.h)})}(be);if((0,ae.D)(be))return _e(be);if((0,ve.T)(be))return function ce(be){return new ie.y(Te=>{for(const Ee of be)if(Te.next(Ee),Te.closed)return;Te.complete()})}(be);if((0,De.L)(be))return function me(be){return _e((0,De.Q)(be))}(be)}throw(0,Pe.z)(be)}function _e(be){return new ie.y(Te=>{(function Me(be,Te){var Ee,Ue,Y,ne;return(0,g.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,g.KL)(be);!(Ue=yield Ee.next()).done;)if(Te.next(Ue.value),Te.closed)return}catch(he){Y={error:he}}finally{try{Ue&&!Ue.done&&(ne=Ee.return)&&(yield ne.call(Ee))}finally{if(Y)throw Y.error}}Te.complete()})})(be,Te).catch(Ee=>Te.error(Ee))})}},6451:(pt,Ae,F)=>{F.d(Ae,{T:()=>ae});var g=F(8189),V=F(8421),G=F(515),ie=F(7669),oe=F(8996);function ae(...Pe){const ve=(0,ie.yG)(Pe),De=(0,ie._6)(Pe,1/0),$=Pe;return $.length?1===$.length?(0,V.Xf)($[0]):(0,g.J)(De)((0,oe.D)($,ve)):G.E}},5403:(pt,Ae,F)=>{F.d(Ae,{x:()=>V});var g=F(2961);function V(ie,oe,ae,Pe,ve){return new G(ie,oe,ae,Pe,ve)}class G extends g.Lv{constructor(oe,ae,Pe,ve,De,$){super(oe),this.onFinalize=De,this.shouldUnsubscribe=$,this._next=ae?function(j){try{ae(j)}catch(K){oe.error(K)}}:super._next,this._error=ve?function(j){try{ve(j)}catch(K){oe.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(j){oe.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var oe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(oe=this.onFinalize)||void 0===oe||oe.call(this))}}}},4004:(pt,Ae,F)=>{F.d(Ae,{U:()=>G});var g=F(4482),V=F(5403);function G(ie,oe){return(0,g.e)((ae,Pe)=>{let ve=0;ae.subscribe((0,V.x)(Pe,De=>{Pe.next(ie.call(oe,De,ve++))}))})}},8189:(pt,Ae,F)=>{F.d(Ae,{J:()=>G});var g=F(5577),V=F(4671);function G(ie=1/0){return(0,g.z)(V.y,ie)}},5577:(pt,Ae,F)=>{F.d(Ae,{z:()=>ve});var g=F(4004),V=F(8421),G=F(4482),ie=F(9672),oe=F(5403),Pe=F(576);function ve(De,$,j=1/0){return(0,Pe.m)($)?ve((K,Ve)=>(0,g.U)((Ie,je)=>$(K,Ie,Ve,je))((0,V.Xf)(De(K,Ve))),j):("number"==typeof $&&(j=$),(0,G.e)((K,Ve)=>function ae(De,$,j,K,Ve,Ie,je,rt){const ce=[];let _e=0,me=0,Me=!1;const be=()=>{Me&&!ce.length&&!_e&&$.complete()},Te=Ue=>_e<K?Ee(Ue):ce.push(Ue),Ee=Ue=>{Ie&&$.next(Ue),_e++;let Y=!1;(0,V.Xf)(j(Ue,me++)).subscribe((0,oe.x)($,ne=>{Ve?.(ne),Ie?Te(ne):$.next(ne)},()=>{Y=!0},void 0,()=>{if(Y)try{for(_e--;ce.length&&_e<K;){const ne=ce.shift();je?(0,ie.f)($,je,()=>Ee(ne)):Ee(ne)}be()}catch(ne){$.error(ne)}}))};return De.subscribe((0,oe.x)($,Te,()=>{Me=!0,be()})),()=>{rt?.()}}(K,Ve,De,j)))}},5363:(pt,Ae,F)=>{F.d(Ae,{Q:()=>ie});var g=F(9672),V=F(4482),G=F(5403);function ie(oe,ae=0){return(0,V.e)((Pe,ve)=>{Pe.subscribe((0,G.x)(ve,De=>(0,g.f)(ve,oe,()=>ve.next(De),ae),()=>(0,g.f)(ve,oe,()=>ve.complete(),ae),De=>(0,g.f)(ve,oe,()=>ve.error(De),ae)))})}},3099:(pt,Ae,F)=>{F.d(Ae,{B:()=>oe});var g=F(8421),V=F(7579),G=F(2961),ie=F(4482);function oe(Pe={}){const{connector:ve=(()=>new V.x),resetOnError:De=!0,resetOnComplete:$=!0,resetOnRefCountZero:j=!0}=Pe;return K=>{let Ve,Ie,je,rt=0,ce=!1,_e=!1;const me=()=>{Ie?.unsubscribe(),Ie=void 0},Me=()=>{me(),Ve=je=void 0,ce=_e=!1},be=()=>{const Te=Ve;Me(),Te?.unsubscribe()};return(0,ie.e)((Te,Ee)=>{rt++,!_e&&!ce&&me();const Ue=je=je??ve();Ee.add(()=>{rt--,0===rt&&!_e&&!ce&&(Ie=ae(be,j))}),Ue.subscribe(Ee),!Ve&&rt>0&&(Ve=new G.Hp({next:Y=>Ue.next(Y),error:Y=>{_e=!0,me(),Ie=ae(Me,De,Y),Ue.error(Y)},complete:()=>{ce=!0,me(),Ie=ae(Me,$),Ue.complete()}}),(0,g.Xf)(Te).subscribe(Ve))})(K)}}function ae(Pe,ve,...De){if(!0===ve)return void Pe();if(!1===ve)return;const $=new G.Hp({next:()=>{$.unsubscribe(),Pe()}});return(0,g.Xf)(ve(...De)).subscribe($)}},9468:(pt,Ae,F)=>{F.d(Ae,{R:()=>V});var g=F(4482);function V(G,ie=0){return(0,g.e)((oe,ae)=>{ae.add(G.schedule(()=>oe.subscribe(ae),ie))})}},8505:(pt,Ae,F)=>{F.d(Ae,{b:()=>oe});var g=F(576),V=F(4482),G=F(5403),ie=F(4671);function oe(ae,Pe,ve){const De=(0,g.m)(ae)||Pe||ve?{next:ae,error:Pe,complete:ve}:ae;return De?(0,V.e)(($,j)=>{var K;null===(K=De.subscribe)||void 0===K||K.call(De);let Ve=!0;$.subscribe((0,G.x)(j,Ie=>{var je;null===(je=De.next)||void 0===je||je.call(De,Ie),j.next(Ie)},()=>{var Ie;Ve=!1,null===(Ie=De.complete)||void 0===Ie||Ie.call(De),j.complete()},Ie=>{var je;Ve=!1,null===(je=De.error)||void 0===je||je.call(De,Ie),j.error(Ie)},()=>{var Ie,je;Ve&&(null===(Ie=De.unsubscribe)||void 0===Ie||Ie.call(De)),null===(je=De.finalize)||void 0===je||je.call(De)}))}):ie.y}},6063:(pt,Ae,F)=>{F.d(Ae,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(pt,Ae,F)=>{F.d(Ae,{z:()=>g});const g={setTimeout(V,G,...ie){const{delegate:oe}=g;return oe?.setTimeout?oe.setTimeout(V,G,...ie):setTimeout(V,G,...ie)},clearTimeout(V){const{delegate:G}=g;return(G?.clearTimeout||clearTimeout)(V)},delegate:void 0}},2202:(pt,Ae,F)=>{F.d(Ae,{h:()=>V});const V=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,Ae,F)=>{F.d(Ae,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(pt,Ae,F)=>{F.d(Ae,{_6:()=>ae,jO:()=>ie,yG:()=>oe});var g=F(576);function G(Pe){return Pe[Pe.length-1]}function ie(Pe){return(0,g.m)(G(Pe))?Pe.pop():void 0}function oe(Pe){return function V(Pe){return Pe&&(0,g.m)(Pe.schedule)}(G(Pe))?Pe.pop():void 0}function ae(Pe,ve){return"number"==typeof G(Pe)?Pe.pop():ve}},8737:(pt,Ae,F)=>{function g(V,G){if(V){const ie=V.indexOf(G);0<=ie&&V.splice(ie,1)}}F.d(Ae,{P:()=>g})},3888:(pt,Ae,F)=>{function g(V){const ie=V(oe=>{Error.call(oe),oe.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}F.d(Ae,{d:()=>g})},2806:(pt,Ae,F)=>{F.d(Ae,{O:()=>ie,x:()=>G});var g=F(2416);let V=null;function G(oe){if(g.v.useDeprecatedSynchronousErrorHandling){const ae=!V;if(ae&&(V={errorThrown:!1,error:null}),oe(),ae){const{errorThrown:Pe,error:ve}=V;if(V=null,Pe)throw ve}}else oe()}function ie(oe){g.v.useDeprecatedSynchronousErrorHandling&&V&&(V.errorThrown=!0,V.error=oe)}},9672:(pt,Ae,F)=>{function g(V,G,ie,oe=0,ae=!1){const Pe=G.schedule(function(){ie(),ae?V.add(this.schedule(null,oe)):this.unsubscribe()},oe);if(V.add(Pe),!ae)return Pe}F.d(Ae,{f:()=>g})},4671:(pt,Ae,F)=>{function g(V){return V}F.d(Ae,{y:()=>g})},1144:(pt,Ae,F)=>{F.d(Ae,{z:()=>g});const g=V=>V&&"number"==typeof V.length&&"function"!=typeof V},2206:(pt,Ae,F)=>{F.d(Ae,{D:()=>V});var g=F(576);function V(G){return Symbol.asyncIterator&&(0,g.m)(G?.[Symbol.asyncIterator])}},576:(pt,Ae,F)=>{function g(V){return"function"==typeof V}F.d(Ae,{m:()=>g})},3670:(pt,Ae,F)=>{F.d(Ae,{c:()=>G});var g=F(8822),V=F(576);function G(ie){return(0,V.m)(ie[g.L])}},6495:(pt,Ae,F)=>{F.d(Ae,{T:()=>G});var g=F(2202),V=F(576);function G(ie){return(0,V.m)(ie?.[g.h])}},8239:(pt,Ae,F)=>{F.d(Ae,{t:()=>V});var g=F(576);function V(G){return(0,g.m)(G?.then)}},3260:(pt,Ae,F)=>{F.d(Ae,{L:()=>ie,Q:()=>G});var g=F(655),V=F(576);function G(oe){return(0,g.FC)(this,arguments,function*(){const Pe=oe.getReader();try{for(;;){const{value:ve,done:De}=yield(0,g.qq)(Pe.read());if(De)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(ve)}}finally{Pe.releaseLock()}})}function ie(oe){return(0,V.m)(oe?.getReader)}},4482:(pt,Ae,F)=>{F.d(Ae,{A:()=>V,e:()=>G});var g=F(576);function V(ie){return(0,g.m)(ie?.lift)}function G(ie){return oe=>{if(V(oe))return oe.lift(function(ae){try{return ie(ae,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(pt,Ae,F)=>{F.d(Ae,{U:()=>G,z:()=>V});var g=F(4671);function V(...ie){return G(ie)}function G(ie){return 0===ie.length?g.y:1===ie.length?ie[0]:function(ae){return ie.reduce((Pe,ve)=>ve(Pe),ae)}}},7849:(pt,Ae,F)=>{F.d(Ae,{h:()=>G});var g=F(2416),V=F(3410);function G(ie){V.z.setTimeout(()=>{const{onUnhandledError:oe}=g.v;if(!oe)throw ie;oe(ie)})}},4532:(pt,Ae,F)=>{function g(V){return new TypeError(`You provided ${null!==V&&"object"==typeof V?"an invalid object":`'${V}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Ae,{z:()=>g})},655:(pt,Ae,F)=>{function ie(te,ue){var pe={};for(var Se in te)Object.prototype.hasOwnProperty.call(te,Se)&&ue.indexOf(Se)<0&&(pe[Se]=te[Se]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(Se=Object.getOwnPropertySymbols(te);Oe<Se.length;Oe++)ue.indexOf(Se[Oe])<0&&Object.prototype.propertyIsEnumerable.call(te,Se[Oe])&&(pe[Se[Oe]]=te[Se[Oe]])}return pe}function K(te,ue,pe,Se){return new(pe||(pe=Promise))(function(Fe,Xe){function ze(vt){try{gt(Se.next(vt))}catch(tt){Xe(tt)}}function sn(vt){try{gt(Se.throw(vt))}catch(tt){Xe(tt)}}function gt(vt){vt.done?Fe(vt.value):function Oe(Fe){return Fe instanceof pe?Fe:new pe(function(Xe){Xe(Fe)})}(vt.value).then(ze,sn)}gt((Se=Se.apply(te,ue||[])).next())})}function be(te){return this instanceof be?(this.v=te,this):new be(te)}function Te(te,ue,pe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,Se=pe.apply(te,ue||[]),Fe=[];return Oe={},Xe("next"),Xe("throw"),Xe("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function Xe(tn){Se[tn]&&(Oe[tn]=function(Un){return new Promise(function(fn,on){Fe.push([tn,Un,fn,on])>1||ze(tn,Un)})})}function ze(tn,Un){try{!function sn(tn){tn.value instanceof be?Promise.resolve(tn.value.v).then(gt,vt):tt(Fe[0][2],tn)}(Se[tn](Un))}catch(fn){tt(Fe[0][3],fn)}}function gt(tn){ze("next",tn)}function vt(tn){ze("throw",tn)}function tt(tn,Un){tn(Un),Fe.shift(),Fe.length&&ze(Fe[0][0],Fe[0][1])}}function Ue(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var pe,ue=te[Symbol.asyncIterator];return ue?ue.call(te):(te=function rt(te){var ue="function"==typeof Symbol&&Symbol.iterator,pe=ue&&te[ue],Se=0;if(pe)return pe.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&Se>=te.length&&(te=void 0),{value:te&&te[Se++],done:!te}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),pe={},Se("next"),Se("throw"),Se("return"),pe[Symbol.asyncIterator]=function(){return this},pe);function Se(Fe){pe[Fe]=te[Fe]&&function(Xe){return new Promise(function(ze,sn){!function Oe(Fe,Xe,ze,sn){Promise.resolve(sn).then(function(gt){Fe({value:gt,done:ze})},Xe)}(ze,sn,(Xe=te[Fe](Xe)).done,Xe.value)})}}}F.d(Ae,{FC:()=>Te,KL:()=>Ue,_T:()=>ie,mG:()=>K,qq:()=>be})},4650:(pt,Ae,F)=>{F.d(Ae,{$8M:()=>Vo,$WT:()=>qr,$Z:()=>Mw,AFp:()=>Y_,AaK:()=>ve,CRH:()=>Lg,CZH:()=>If,CqO:()=>oI,D6c:()=>cA,EJc:()=>cn,F4k:()=>sI,FYo:()=>cw,FiY:()=>Ls,GfV:()=>dw,Gpc:()=>j,JOm:()=>hi,LFG:()=>$e,Lbi:()=>j0,Lck:()=>l0,MMx:()=>Ng,NdJ:()=>s_,OlP:()=>gn,P3R:()=>py,PXZ:()=>nA,Q6J:()=>tI,QGY:()=>i_,Qsj:()=>mb,R0b:()=>_s,RDi:()=>YD,Rgc:()=>pf,SBq:()=>Pa,Sil:()=>ZS,Suo:()=>ld,TTD:()=>Xs,TgZ:()=>Zh,X6Q:()=>rA,XFs:()=>ct,Xpm:()=>Qo,Xts:()=>Tu,Y36:()=>$c,YKP:()=>u0,Yjl:()=>Xu,Yz7:()=>tt,Z0I:()=>on,ZZ4:()=>Of,_Bn:()=>a0,_UZ:()=>Xh,_Vd:()=>Au,_c5:()=>kf,_uU:()=>FT,aQg:()=>Ga,c2e:()=>H0,cJS:()=>Un,cg1:()=>_g,dDg:()=>Qt,dqk:()=>St,eFA:()=>ov,eJc:()=>B_,ekj:()=>fI,eoX:()=>Tf,f3M:()=>et,g9A:()=>X_,h0i:()=>$l,hGG:()=>lA,iGM:()=>Vu,ifc:()=>X,ip1:()=>$0,jDz:()=>fS,kL8:()=>La,lG2:()=>Qu,lqb:()=>Al,lri:()=>nv,n5z:()=>Ea,oAB:()=>Ka,q4F:()=>Cy,qLn:()=>Oh,qOj:()=>Gh,qZA:()=>Qh,rWj:()=>Bu,sBO:()=>iA,s_b:()=>sd,soG:()=>an,tb:()=>Ri,tp0:()=>Bo,uIk:()=>Qw,vHH:()=>ce,vpe:()=>_o,wAp:()=>wt,xp6:()=>Ew,z2F:()=>Ha,zSh:()=>_y,zs3:()=>Uc});var g=F(7579),V=F(727),G=F(9751),ie=F(6451),oe=F(3099);function ae(s){for(let o in s)if(s[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function Pe(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function De(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const $=ae({__forward_ref__:ae});function j(s){return s.__forward_ref__=j,s.toString=function(){return ve(this())},s}function K(s){return Ve(s)?s():s}function Ve(s){return"function"==typeof s&&s.hasOwnProperty($)&&s.__forward_ref__===j}function Ie(s){return s&&!!s.\u0275providers}const rt="https://g.co/ng/security#xss";class ce extends Error{constructor(o,u){super(_e(o,u)),this.code=o}}function _e(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function me(s){return"string"==typeof s?s:null==s?"":String(s)}function Ue(s,o){throw new ce(-201,!1)}function Xe(s,o){null==s&&function ze(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function tt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Un(s){return{providers:s.providers||[],imports:s.imports||[]}}function fn(s){return lr(s,ki)||lr(s,Dn)}function on(s){return null!==fn(s)}function lr(s,o){return s.hasOwnProperty(o)?s[o]:null}function cr(s){return s&&(s.hasOwnProperty(Fi)||s.hasOwnProperty(br))?s[Fi]:null}const ki=ae({\u0275prov:ae}),Fi=ae({\u0275inj:ae}),Dn=ae({ngInjectableDef:ae}),br=ae({ngInjectorDef:ae});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Li;function Xn(s){const o=Li;return Li=s,o}function dr(s,o,u){const c=fn(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&ct.Optional?null:void 0!==o?o:void Ue(ve(s))}const St=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Hn={},Jn="__NG_DI_FLAG__",Sr="ngTempTokenPath",hr="ngTokenPath",Is=/\n/gm,mn="\u0275",Cs="__source";let jt;function si(s){const o=jt;return jt=s,o}function Ui(s,o=ct.Default){if(void 0===jt)throw new ce(-203,!1);return null===jt?dr(s,void 0,o):jt.get(s,o&ct.Optional?null:void 0,o)}function $e(s,o=ct.Default){return(function zr(){return Li}()||Ui)(K(s),o)}function et(s,o=ct.Default){return $e(s,mt(o))}function mt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function At(s){const o=[];for(let u=0;u<s.length;u++){const c=K(s[u]);if(Array.isArray(c)){if(0===c.length)throw new ce(900,!1);let d,f=ct.Default;for(let _=0;_<c.length;_++){const w=c[_],C=Gn(w);"number"==typeof C?-1===C?d=w.token:f|=C:d=w}o.push($e(d,f))}else o.push($e(c))}return o}function Yt(s,o){return s[Jn]=o,s.prototype[Jn]=o,s}function Gn(s){return s[Jn]}function W(s){return{toString:s}.toString()}var de=(()=>((de=de||{})[de.OnPush=0]="OnPush",de[de.Default=1]="Default",de))(),X=(()=>{return(s=X||(X={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",X;var s})();const Je={},Ge=[],ln=ae({\u0275cmp:ae}),Bn=ae({\u0275dir:ae}),Sn=ae({\u0275pipe:ae}),An=ae({\u0275mod:ae}),$t=ae({\u0275fac:ae}),Lr=ae({__NG_ELEMENT_ID__:ae});let Bi=0;function Qo(s){return W(()=>{const o=gr(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===de.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||X.Emulated,id:"c"+Bi++,styles:s.styles||Ge,_:null,schemas:s.schemas||null,tView:null};Ju(u);const c=s.dependencies;return u.directiveDefs=Ds(c,!1),u.pipeDefs=Ds(c,!0),u})}function qa(s){return en(s)||Fn(s)}function Zu(s){return null!==s}function Ka(s){return W(()=>({type:s.type,bootstrap:s.bootstrap||Ge,declarations:s.declarations||Ge,imports:s.imports||Ge,exports:s.exports||Ge,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Xo(s,o){if(null==s)return Je;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}function Qu(s){return W(()=>{const o=gr(s);return Ju(o),o})}function Xu(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function en(s){return s[ln]||null}function Fn(s){return s[Bn]||null}function pr(s){return s[Sn]||null}function qr(s){const o=en(s)||Fn(s)||pr(s);return null!==o&&o.standalone}function Vr(s,o){const u=s[An]||null;if(!u&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return u}function gr(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ge,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Xo(s.inputs,o),outputs:Xo(s.outputs)}}function Ju(s){s.features?.forEach(o=>o(s))}function Ds(s,o){if(!s)return null;const u=o?pr:qa;return()=>("function"==typeof s?s():s).map(c=>u(c)).filter(Zu)}const $i=0,Ke=1,kt=2,pn=3,Ur=4,ts=5,Wn=6,ns=7,Mn=8,bs=9,el=10,Nt=11,Ya=12,Ts=13,Jo=14,Zs=15,Ar=16,Ss=17,rs=18,er=19,To=20,Bd=21,Mt=22,ea=1,Jl=2,is=7,ji=8,As=9,Mr=10;function xr(s){return Array.isArray(s)&&"object"==typeof s[ea]}function tr(s){return Array.isArray(s)&&!0===s[ea]}function tl(s){return 0!=(4&s.flags)}function Za(s){return s.componentOffset>-1}function Hi(s){return 1==(1&s.flags)}function Gi(s){return!!s.template}function ta(s){return 0!=(256&s[kt])}function ai(s,o){return s.hasOwnProperty($t)?s[$t]:null}class Xa{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function Xs(){return ra}function ra(s){return s.type.prototype.ngOnChanges&&(s.setInput=ia),Js}function Js(){const s=eu(this),o=s?.current;if(o){const u=s.previous;if(u===Je)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function ia(s,o,u,c){const d=this.declaredInputs[u],f=eu(s)||function nl(s,o){return s[Ja]=o}(s,{previous:Je,current:null}),_=f.current||(f.current={}),w=f.previous,C=w[d];_[d]=new Xa(C&&C.currentValue,o,w===Je),s[c]=o}Xs.ngInherit=!0;const Ja="__ngSimpleChanges__";function eu(s){return s[Ja]||null}const nn=function(s,o,u){};function xn(s){for(;Array.isArray(s);)s=s[$i];return s}function nr(s,o){return xn(o[s.index])}function oa(s,o){return s.data[o]}function mr(s,o){const u=o[s];return xr(u)?u:u[$i]}function nu(s){return 64==(64&s[kt])}function os(s,o){return null==o?null:s[o]}function Ro(s){s[rs]=0}function ol(s,o){s[ts]+=o;let u=s,c=s[pn];for(;null!==c&&(1===o&&1===u[ts]||-1===o&&0===u[ts]);)c[ts]+=o,u=c,c=c[pn]}const Et={lFrame:vp(null),bindingsEnabled:!0};function su(){return Et.bindingsEnabled}function we(){return Et.lFrame.lView}function Xt(){return Et.lFrame.tView}function zn(){let s=ul();for(;null!==s&&64===s.type;)s=s.parent;return s}function ul(){return Et.lFrame.currentTNode}function Kr(s,o){const u=Et.lFrame;u.currentTNode=s,u.isParent=o}function sc(){return Et.lFrame.isParent}function la(){return Et.lFrame.bindingIndex++}function qd(s,o){const u=Et.lFrame;u.bindingIndex=u.bindingRootIndex=s,da(o)}function da(s){Et.lFrame.currentDirectiveIndex=s}function uc(){return Et.lFrame.currentQueryIndex}function uu(s){Et.lFrame.currentQueryIndex=s}function yp(s){const o=s[Ke];return 2===o.type?o.declTNode:1===o.type?s[Wn]:null}function cl(s,o,u){if(u&ct.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&ct.Host||(d=yp(f),null===d||(f=f[Zs],10&d.type))););if(null===d)return!1;o=d,s=f}const c=Et.lFrame=_p();return c.currentTNode=o,c.lView=s,!0}function Kd(s){const o=_p(),u=s[Ke];Et.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function _p(){const s=Et.lFrame,o=null===s?null:s.child;return null===o?vp(s):o}function vp(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function lc(){const s=Et.lFrame;return Et.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Bm=lc;function Yd(){const s=lc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function rr(){return Et.lFrame.selectedIndex}function ui(s){Et.lFrame.selectedIndex=s}function vn(){const s=Et.lFrame;return oa(s.tView,s.selectedIndex)}function ha(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:C,ngAfterViewChecked:S,ngOnDestroy:R}=f;_&&(s.contentHooks||(s.contentHooks=[])).push(-u,_),w&&((s.contentHooks||(s.contentHooks=[])).push(u,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,w)),C&&(s.viewHooks||(s.viewHooks=[])).push(-u,C),S&&((s.viewHooks||(s.viewHooks=[])).push(u,S),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,S)),null!=R&&(s.destroyHooks||(s.destroyHooks=[])).push(u,R)}}function ko(s,o,u){Fo(s,o,3,u)}function eo(s,o,u,c){(3&s[kt])===u&&Fo(s,o,u,c)}function fa(s,o){let u=s[kt];(3&u)===o&&(u&=2047,u+=1,s[kt]=u)}function Fo(s,o,u,c){const f=c??-1,_=o.length-1;let w=0;for(let C=void 0!==c?65535&s[rs]:0;C<_;C++)if("number"==typeof o[C+1]){if(w=o[C],null!=c&&w>=c)break}else o[C]<0&&(s[rs]+=65536),(w<f||-1==f)&&(Xd(s,u,o,C),s[rs]=(4294901760&s[rs])+C+2),C++}function Xd(s,o,u,c){const d=u[c]<0,f=u[c+1],w=s[d?-u[c]:u[c]];if(d){if(s[kt]>>11<s[rs]>>16&&(3&s[kt])===o){s[kt]+=2048,nn(4,w,f);try{f.call(w)}finally{nn(5,w,f)}}}else{nn(4,w,f);try{f.call(w)}finally{nn(5,w,f)}}}const Rs=-1;class qn{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Ns(s,o,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const f=u[c++],_=u[c++],w=u[c++];s.setAttribute(o,_,w,f)}else{const f=d,_=u[++c];Ps(f)?s.setProperty(o,f,_):s.setAttribute(o,f,_),c++}}return c}function to(s){return 3===s||4===s||6===s}function Ps(s){return 64===s.charCodeAt(0)}function no(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||hl(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function hl(s,o,u,c,d){let f=0,_=s.length;if(-1===o)_=-1;else for(;f<s.length;){const w=s[f++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=f-1;break}}}for(;f<s.length;){const w=s[f];if("number"==typeof w)break;if(w===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==_&&(s.splice(_,0,o),f=_+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}function cu(s){return s!==Rs}function Lo(s){return 32767&s}function ro(s,o){let u=function du(s){return s>>16}(s),c=o;for(;u>0;)c=c[Zs],u--;return c}let Os=!0;function as(s){const o=Os;return Os=s,o}const io=255,hu=5;let so=0;const li={};function ks(s,o){const u=fl(s,o);if(-1!==u)return u;const c=o[Ke];c.firstCreatePass&&(s.injectorIndex=o.length,ma(c.data,s),ma(o,null),ma(c.blueprint,null));const d=fu(s,o),f=s.injectorIndex;if(cu(d)){const _=Lo(d),w=ro(d,o),C=w[Ke].data;for(let S=0;S<8;S++)o[f+S]=w[_+S]|C[_+S]}return o[f+8]=d,f}function ma(s,o){s.push(0,0,0,0,0,0,0,0,o)}function fl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function fu(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){if(c=ml(d),null===c)return Rs;if(u++,d=d[Zs],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return Rs}function oo(s,o,u){!function ga(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(Lr)&&(c=u[Lr]),null==c&&(c=u[Lr]=so++);const d=c&io;o.data[s+(d>>hu)]|=1<<d}(s,o,u)}function ya(s,o,u){if(u&ct.Optional||void 0!==s)return s;Ue()}function pc(s,o,u,c){if(u&ct.Optional&&void 0===c&&(c=null),!(u&(ct.Self|ct.Host))){const d=s[bs],f=Xn(void 0);try{return d?d.get(o,c,u&ct.Optional):dr(o,c,u&ct.Optional)}finally{Xn(f)}}return ya(c,0,u)}function ci(s,o,u,c=ct.Default,d){if(null!==s){if(1024&o[kt]){const _=function mc(s,o,u,c,d){let f=s,_=o;for(;null!==f&&null!==_&&1024&_[kt]&&!(256&_[kt]);){const w=pl(f,_,u,c|ct.Self,li);if(w!==li)return w;let C=f.parent;if(!C){const S=_[Bd];if(S){const R=S.get(u,li,c);if(R!==li)return R}C=ml(_),_=_[Zs]}f=C}return d}(s,o,u,c,li);if(_!==li)return _}const f=pl(s,o,u,c,li);if(f!==li)return f}return pc(o,u,c,d)}function pl(s,o,u,c,d){const f=function gl(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Lr)?s[Lr]:void 0;return"number"==typeof o?o>=0?o&io:rh:o}(u);if("function"==typeof f){if(!cl(o,s,c))return c&ct.Host?ya(d,0,c):pc(o,u,c,d);try{const _=f(c);if(null!=_||c&ct.Optional)return _;Ue()}finally{Bm()}}else if("number"==typeof f){let _=null,w=fl(s,o),C=Rs,S=c&ct.Host?o[Ar][Wn]:null;for((-1===w||c&ct.SkipSelf)&&(C=-1===w?fu(s,o):o[w+8],C!==Rs&&pu(c,!1)?(_=o[Ke],w=Lo(C),o=ro(C,o)):w=-1);-1!==w;){const R=o[Ke];if(di(f,w,R.data)){const k=_a(w,o,u,_,c,S);if(k!==li)return k}C=o[w+8],C!==Rs&&pu(c,o[Ke].data[w+8]===S)&&di(f,w,o)?(_=R,w=Lo(C),o=ro(C,o)):w=-1}}return d}function _a(s,o,u,c,d,f){const _=o[Ke],w=_.data[s+8],R=ao(w,_,u,null==c?Za(w)&&Os:c!=_&&0!=(3&w.type),d&ct.Host&&f===w);return null!==R?uo(o,_,R,w):li}function ao(s,o,u,c,d){const f=s.providerIndexes,_=o.data,w=1048575&f,C=s.directiveStart,R=f>>20,H=d?w+R:s.directiveEnd;for(let Q=c?w:w+R;Q<H;Q++){const fe=_[Q];if(Q<C&&u===fe||Q>=C&&fe.type===u)return Q}if(d){const Q=_[C];if(Q&&Gi(Q)&&Q.type===u)return C}return null}function uo(s,o,u,c){let d=s[u];const f=o.data;if(function Jd(s){return s instanceof qn}(d)){const _=d;_.resolving&&function be(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new ce(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():me(s)}(f[u]));const w=as(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?Xn(_.injectImpl):null;cl(s,c,ct.Default);try{d=s[u]=_.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function hc(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const _=ra(o);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,_)}d&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,d),f&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,f),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,f))}(u,f[u],o)}finally{null!==C&&Xn(C),as(w),_.resolving=!1,Bm()}}return d}function di(s,o,u){return!!(u[o+(s>>hu)]&1<<s)}function pu(s,o){return!(s&ct.Self||s&ct.Host&&o)}class va{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return ci(this._tNode,this._lView,o,mt(c),u)}}function rh(){return new va(zn(),we())}function Ea(s){return W(()=>{const o=s.prototype.constructor,u=o[$t]||gc(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[$t]||gc(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function gc(s){return Ve(s)?()=>{const o=gc(K(s));return o&&o()}:ai(s)}function ml(s){const o=s[Ke],u=o.type;return 2===u?o.declTNode:1===u?s[Wn]:null}function Vo(s){return function nh(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(to(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(zn(),s)}const Ia="__parameters__";function us(s,o,u){return W(()=>{const c=function yc(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const _=new d(...f);return w.annotation=_,w;function w(C,S,R){const k=C.hasOwnProperty(Ia)?C[Ia]:Object.defineProperty(C,Ia,{value:[]})[Ia];for(;k.length<=R;)k.push(null);return(k[R]=k[R]||[]).push(_),C}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class gn{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=tt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function lo(s,o){s.forEach(u=>Array.isArray(u)?lo(u,o):o(u))}function sh(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Uo(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function qt(s,o,u){let c=it(s,o);return c>=0?s[1|c]=u:(c=~c,function Ta(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function Br(s,o){const u=it(s,o);if(u>=0)return s[1|u]}function it(s,o){return function Zr(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),_=s[f<<u];if(o===_)return f<<u;_>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const Ls=Yt(us("Optional"),8),Bo=Yt(us("SkipSelf"),4);var hi=(()=>((hi=hi||{})[hi.Important=1]="Important",hi[hi.DashCase=2]="DashCase",hi))();const fi=new Map;let xp=0;const Sc="__ngContext__";function $r(s,o){xr(o)?(s[Sc]=o[To],function Rp(s){fi.set(s[To],s)}(o)):s[Sc]=o}let ye;function Ye(s,o){return ye(s,o)}function Tt(s){const o=s[pn];return tr(o)?o[pn]:o}function Ai(s){return Il(s[Ts])}function Cu(s){return Il(s[Ur])}function Il(s){for(;null!==s&&!tr(s);)s=s[Ur];return s}function fs(s,o,u,c,d){if(null!=c){let f,_=!1;tr(c)?f=c:xr(c)&&(_=!0,c=c[$i]);const w=xn(c);0===s&&null!==u?null==d?OE(o,u,w):bu(o,u,w,d||null,!0):1===s&&null!==u?bu(o,u,w,d||null,!0):2===s?function Dh(s,o,u){const c=Ch(s,o);c&&function wh(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,w,_):3===s&&o.destroyNode(w),null!=f&&function $o(s,o,u,c,d){const f=u[is];f!==xn(u)&&fs(o,s,c,f,d);for(let w=Mr;w<u.length;w++){const C=u[w];Nc(C[Ke],C,s,o,c,f)}}(o,s,f,u,d)}}function Mc(s,o,u){return s.createElement(o,u)}function PE(s,o){const u=s[As],c=u.indexOf(o),d=o[pn];512&o[kt]&&(o[kt]&=-513,ol(d,-1)),u.splice(c,1)}function vh(s,o){if(s.length<=Mr)return;const u=Mr+o,c=s[u];if(c){const d=c[Ss];null!==d&&d!==s&&PE(d,c),o>0&&(s[u-1][Ur]=c[Ur]);const f=Uo(s,Mr+o);!function Pp(s,o){Nc(s,o,o[Nt],2,null,null),o[$i]=null,o[Wn]=null}(c[Ke],c);const _=f[er];null!==_&&_.detachView(f[Ke]),c[pn]=null,c[Ur]=null,c[kt]&=-65}return c}function Eh(s,o){if(!(128&o[kt])){const u=o[Nt];u.destroyNode&&Nc(s,o,u,3,null,null),function Gm(s){let o=s[Ts];if(!o)return zm(s[Ke],s);for(;o;){let u=null;if(xr(o))u=o[Ts];else{const c=o[Mr];c&&(u=c)}if(!u){for(;o&&!o[Ur]&&o!==s;)xr(o)&&zm(o[Ke],o),o=o[pn];null===o&&(o=s),xr(o)&&zm(o[Ke],o),u=o&&o[Ur]}o=u}}(o)}}function zm(s,o){if(!(128&o[kt])){o[kt]&=-65,o[kt]|=128,function qm(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof qn)){const f=u[c+1];if(Array.isArray(f))for(let _=0;_<f.length;_+=2){const w=d[f[_]],C=f[_+1];nn(4,w,C);try{C.call(w)}finally{nn(5,w,C)}}else{nn(4,d,f);try{f.call(d)}finally{nn(5,d,f)}}}}}(s,o),function Dl(s,o){const u=s.cleanup,c=o[ns];let d=-1;if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const _=u[f+3];_>=0?c[d=_]():c[d=-_].unsubscribe(),f+=2}else{const _=c[d=u[f+1]];u[f].call(_)}if(null!==c){for(let f=d+1;f<c.length;f++)(0,c[f])();o[ns]=null}}(s,o),1===o[Ke].type&&o[Nt].destroy();const u=o[Ss];if(null!==u&&tr(o[pn])){u!==o[pn]&&PE(u,o);const c=o[er];null!==c&&c.detachView(s)}!function Rr(s){fi.delete(s[To])}(o)}}function WD(s,o,u){return function Km(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[$i];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=s.data[c.directiveStart+d];if(f===X.None||f===X.Emulated)return null}return nr(c,u)}}(s,o.parent,u)}function bu(s,o,u,c,d){s.insertBefore(o,u,c,d)}function OE(s,o,u){s.appendChild(o,u)}function xc(s,o,u,c,d){null!==c?bu(s,o,u,c,d):OE(s,o,u)}function Ch(s,o){return s.parentNode(o)}let Zm,ny,Fp,FE=function bl(s,o,u){return 40&s.type?nr(s,u):null};function kp(s,o,u,c){const d=WD(s,c,o),f=o[Nt],w=function Ym(s,o,u){return FE(s,o,u)}(c.parent||o[Wn],c,o);if(null!=d)if(Array.isArray(u))for(let C=0;C<u.length;C++)xc(f,d,u[C],w,!1);else xc(f,d,u,w,!1);void 0!==Zm&&Zm(f,c,o,u,d)}function Rc(s,o){if(null!==o){const u=o.type;if(3&u)return nr(o,s);if(4&u)return Xm(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return Rc(s,c);{const d=s[o.index];return tr(d)?Xm(-1,d):xn(d)}}if(32&u)return Ye(o,s)()||xn(s[o.index]);{const c=Tl(s,o);return null!==c?Array.isArray(c)?c[0]:Rc(Tt(s[Ar]),c):Rc(s,o.next)}}return null}function Tl(s,o){return null!==o?s[Ar][Wn].projection[o.projection]:null}function Xm(s,o){const u=Mr+s+1;if(u<o.length){const c=o[u],d=c[Ke].firstChild;if(null!==d)return Rc(c,d)}return o[is]}function Jm(s,o,u,c,d,f,_){for(;null!=u;){const w=c[u.index],C=u.type;if(_&&0===o&&(w&&$r(xn(w),c),u.flags|=2),32!=(32&u.flags))if(8&C)Jm(s,o,u.child,c,d,f,!1),fs(o,s,d,w,f);else if(32&C){const S=Ye(u,c);let R;for(;R=S();)fs(o,s,d,R,f);fs(o,s,d,w,f)}else 16&C?Pc(s,o,c,u,d,f):fs(o,s,d,w,f);u=_?u.projectionNext:u.next}}function Nc(s,o,u,c,d,f){Jm(u,c,s.firstChild,o,d,f,!1)}function Pc(s,o,u,c,d,f){const _=u[Ar],C=_[Wn].projection[c.projection];if(Array.isArray(C))for(let S=0;S<C.length;S++)fs(o,s,d,C[S],f);else Jm(s,o,C,_[pn],d,f,!0)}function bh(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function Th(s,o,u){const{mergedAttrs:c,classes:d,styles:f}=u;null!==c&&Ns(s,o,c),null!==d&&bh(s,o,d),null!==f&&function Sl(s,o,u){s.setAttribute(o,"style",u)}(s,o,f)}function YD(s){ny=s}function BE(s){return function ry(){if(void 0===Fp&&(Fp=null,St.trustedTypes))try{Fp=St.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Fp}()?.createScriptURL(s)||s}class $E{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${rt})`}}function pi(s){return s instanceof $E?s.changingThisBreaksApplicationSecurity:s}function jo(s,o){const u=function HE(s){return s instanceof $E&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${rt})`)}return u===o}const uy=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var Er=(()=>((Er=Er||{})[Er.NONE=0]="NONE",Er[Er.HTML=1]="HTML",Er[Er.STYLE=2]="STYLE",Er[Er.SCRIPT=3]="SCRIPT",Er[Er.URL=4]="URL",Er[Er.RESOURCE_URL=5]="RESOURCE_URL",Er))();function $p(s){const o=Rh();return o?o.sanitize(Er.URL,s)||"":jo(s,"URL")?pi(s):function Mh(s){return(s=String(s)).match(uy)?s:"unsafe:"+s}(me(s))}function ps(s){const o=Rh();if(o)return BE(o.sanitize(Er.RESOURCE_URL,s)||"");if(jo(s,"ResourceURL"))return BE(pi(s));throw new ce(904,!1)}function py(s,o,u){return function lb(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?ps:$p}(o,u)(s)}function Rh(){const s=we();return s&&s[Ya]}const Tu=new gn("ENVIRONMENT_INITIALIZER"),Fc=new gn("INJECTOR",-1),QE=new gn("INJECTOR_DEF_TYPES");class XE{get(o,u=Hn){if(u===Hn){const c=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw c.name="NullInjectorError",c}return u}}function Nh(...s){return{\u0275providers:JE(0,s),\u0275fromNgModule:!0}}function JE(s,...o){const u=[],c=new Set;let d;return lo(o,f=>{const _=f;my(_,u,[],c)&&(d||(d=[]),d.push(_))}),void 0!==d&&ew(d,u),u}function ew(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];yy(d,f=>{o.push(f)})}}function my(s,o,u,c){if(!(s=K(s)))return!1;let d=null,f=cr(s);const _=!f&&en(s);if(f||_){if(_&&!_.standalone)return!1;d=s}else{const C=s.ngModule;if(f=cr(C),!f)return!1;d=C}const w=c.has(d);if(_){if(w)return!1;if(c.add(d),_.dependencies){const C="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const S of C)my(S,o,u,c)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let S;c.add(d);try{lo(f.imports,R=>{my(R,o,u,c)&&(S||(S=[]),S.push(R))})}finally{}void 0!==S&&ew(S,o)}if(!w){const S=ai(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:Ge},{provide:QE,useValue:d,multi:!0},{provide:Tu,useValue:()=>$e(d),multi:!0})}const C=f.providers;null==C||w||yy(C,R=>{o.push(R)})}}return d!==s&&void 0!==s.providers}function yy(s,o){for(let u of s)Ie(u)&&(u=u.\u0275providers),Array.isArray(u)?yy(u,o):o(u)}const cb=ae({provide:String,useValue:ae});function tw(s){return null!==s&&"object"==typeof s&&cb in s}function Ho(s){return"function"==typeof s}const _y=new gn("Set Injector scope."),Gp={},db={};let vy;function Wp(){return void 0===vy&&(vy=new XE),vy}class Al{}class rw extends Al{get destroyed(){return this._destroyed}constructor(o,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Iy(o,_=>this.processProvider(_)),this.records.set(Fc,Su(void 0,this)),d.has("environment")&&this.records.set(Al,Su(void 0,this));const f=this.records.get(_y);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(QE.multi,Ge,ct.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const u=si(this),c=Xn(void 0);try{return o()}finally{si(u),Xn(c)}}get(o,u=Hn,c=ct.Default){this.assertNotDestroyed(),c=mt(c);const d=si(this),f=Xn(void 0);try{if(!(c&ct.SkipSelf)){let w=this.records.get(o);if(void 0===w){const C=function zp(s){return"function"==typeof s||"object"==typeof s&&s instanceof gn}(o)&&fn(o);w=C&&this.injectableDefInScope(C)?Su(Ey(o),Gp):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&ct.Self?Wp():this.parent).get(o,u=c&ct.Optional&&u===Hn?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[Sr]=_[Sr]||[]).unshift(ve(o)),d)throw _;return function B(s,o,u,c){const d=s[Sr];throw o[Cs]&&d.unshift(o[Cs]),s.message=function L(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==mn?s.slice(2):s;let d=ve(o);if(Array.isArray(o))d=o.map(ve).join(" -> ");else if("object"==typeof o){let f=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];f.push(_+":"+("string"==typeof w?JSON.stringify(w):ve(w)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(Is,"\n  ")}`}("\n"+s.message,d,u,c),s[hr]=d,s[Sr]=null,s}(_,o,"R3InjectorError",this.source)}throw _}finally{Xn(f),si(d)}}resolveInjectorInitializers(){const o=si(this),u=Xn(void 0);try{const c=this.get(Tu.multi,Ge,ct.Self);for(const d of c)d()}finally{si(o),Xn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(ve(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ce(205,!1)}processProvider(o){let u=Ho(o=K(o))?o:K(o&&o.provide);const c=function iw(s){return tw(s)?Su(void 0,s.useValue):Su(sw(s),Gp)}(o);if(Ho(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=Su(void 0,Gp,!0),d.factory=()=>At(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===Gp&&(u.value=db,u.value=u.factory()),"object"==typeof u.value&&u.value&&function wy(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=K(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Ey(s){const o=fn(s),u=null!==o?o.factory:ai(s);if(null!==u)return u;if(s instanceof gn)throw new ce(204,!1);if(s instanceof Function)return function hb(s){const o=s.length;if(o>0)throw function ba(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new ce(204,!1);const u=function ii(s){const o=s&&(s[ki]||s[Dn]);return o?(function Ys(s){if(s.hasOwnProperty("name"))return s.name;(""+s).match(/^function\s*([^\s(]+)/)}(s),o):null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ce(204,!1)}function sw(s,o,u){let c;if(Ho(s)){const d=K(s);return ai(d)||Ey(d)}if(tw(s))c=()=>K(s.useValue);else if(function Hp(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...At(s.deps||[]));else if(function nw(s){return!(!s||!s.useExisting)}(s))c=()=>$e(K(s.useExisting));else{const d=K(s&&(s.useClass||s.provide));if(!function ow(s){return!!s.deps}(s))return ai(d)||Ey(d);c=()=>new d(...At(s.deps))}return c}function Su(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function Iy(s,o){for(const u of s)Array.isArray(u)?Iy(u,o):u&&Ie(u)?Iy(u.\u0275providers,o):o(u)}class fb{}class aw{}class uw{resolveComponentFactory(o){throw function pb(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Au=(()=>{class s{}return s.NULL=new uw,s})();function qp(){return Ml(zn(),we())}function Ml(s,o){return new Pa(nr(s,o))}let Pa=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=qp,s})();function lw(s){return s instanceof Pa?s.nativeElement:s}class cw{}let mb=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function yb(){const s=we(),u=mr(zn().index,s);return(xr(u)?u:s)[Nt]}(),s})(),_b=(()=>{class s{}return s.\u0275prov=tt({token:s,providedIn:"root",factory:()=>null}),s})();class dw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Cy=new dw("15.2.4"),Dy={},by="ngOriginalError";function Ty(s){return s[by]}class Oh{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Ty(o);for(;u&&Ty(u);)u=Ty(u);return u||null}}function Go(s){return s instanceof Function?s():s}function Sy(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}const Kp="ng-template";function mw(s,o,u){let c=0,d=!0;for(;c<s.length;){let f=s[c++];if("string"==typeof f&&d){const _=s[c++];if(u&&"class"===f&&-1!==Sy(_.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<s.length&&"string"==typeof(f=s[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function Rl(s){return 4===s.type&&s.value!==Kp}function Ay(s,o,u){return o===(4!==s.type||u?s.value:Kp)}function bb(s,o,u){let c=4;const d=s.attrs||[],f=function _w(s){for(let o=0;o<s.length;o++)if(to(s[o]))return o;return s.length}(d);let _=!1;for(let w=0;w<o.length;w++){const C=o[w];if("number"!=typeof C){if(!_)if(4&c){if(c=2|1&c,""!==C&&!Ay(s,C,u)||""===C&&1===o.length){if(Bs(c))return!1;_=!0}}else{const S=8&c?C:o[++w];if(8&c&&null!==s.attrs){if(!mw(s.attrs,S,u)){if(Bs(c))return!1;_=!0}continue}const k=Yp(8&c?"class":C,d,Rl(s),u);if(-1===k){if(Bs(c))return!1;_=!0;continue}if(""!==S){let H;H=k>f?"":d[k+1].toLowerCase();const Q=8&c?H:null;if(Q&&-1!==Sy(Q,S,0)||2&c&&S!==H){if(Bs(c))return!1;_=!0}}}}else{if(!_&&!Bs(c)&&!Bs(C))return!1;if(_&&Bs(C))continue;_=!1,c=C|1&c}}return Bs(c)||_}function Bs(s){return 0==(1&s)}function Yp(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)f=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=f?1:2}return-1}return function Tb(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function kh(s,o,u=!1){for(let c=0;c<o.length;c++)if(bb(s,o[c],u))return!0;return!1}function vw(s,o){return s?":not("+o.trim()+")":o}function Ab(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&c){const w=s[++u];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+_:4&c&&(d+=" "+_);else""!==d&&!Bs(_)&&(o+=vw(f,d),d=""),c=_,f=f||!Bs(c);u++}return""!==d&&(o+=vw(f,d)),o}const Lt={};function Ew(s){Qp(Xt(),we(),rr()+s,!1)}function Qp(s,o,u,c){if(!c)if(3==(3&o[kt])){const f=s.preOrderCheckHooks;null!==f&&ko(o,f,u)}else{const f=s.preOrderHooks;null!==f&&eo(o,f,0,u)}ui(u)}function My(s,o=null,u=null,c){const d=Pb(s,o,u,c);return d.resolveInjectorInitializers(),d}function Pb(s,o=null,u=null,c,d=new Set){const f=[u||Ge,Nh(s)];return c=c||("object"==typeof s?void 0:ve(s)),new rw(f,o||Wp(),c||null,d)}let Uc=(()=>{class s{static create(u,c){if(Array.isArray(u))return My({name:""},c,u,"");{const d=u.name??"";return My({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=Hn,s.NULL=new XE,s.\u0275prov=tt({token:s,providedIn:"any",factory:()=>$e(Fc)}),s.__NG_ELEMENT_ID__=-1,s})();function $c(s,o=ct.Default){const u=we();return null===u?$e(s,o):ci(zn(),u,K(s),o)}function Mw(){throw new Error("invalid")}function xw(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const f=u[c+1];if(-1!==f){const _=s.data[f];uu(u[c]),_.contentQueries(2,o[f],f)}}}function Py(s,o,u,c,d,f,_,w,C,S,R){const k=o.blueprint.slice();return k[$i]=d,k[kt]=76|c,(null!==R||s&&1024&s[kt])&&(k[kt]|=1024),Ro(k),k[pn]=k[Zs]=s,k[Mn]=u,k[el]=_||s&&s[el],k[Nt]=w||s&&s[Nt],k[Ya]=C||s&&s[Ya]||null,k[bs]=S||s&&s[bs]||null,k[Wn]=f,k[To]=function dh(){return xp++}(),k[Bd]=R,k[Ar]=2==o.type?s[Ar]:k,k}function _n(s,o,u,c,d){let f=s.data[o];if(null===f)f=function po(s,o,u,c,d){const f=ul(),_=sc(),C=s.data[o]=function rN(s,o,u,c,d,f){return{type:u,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=C),null!==f&&(_?null==f.child&&null!==C.parent&&(f.child=C):null===f.next&&(f.next=C,C.prev=f)),C}(s,o,u,c,d),function ca(){return Et.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const _=function No(){const s=Et.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===_?-1:_.injectorIndex}return Kr(f,!0),f}function go(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function jc(s,o,u){Kd(o);try{const c=s.viewQuery;null!==c&&ug(1,c,u);const d=s.template;null!==d&&Nw(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&xw(s,o),s.staticViewQueries&&ug(2,s.viewQuery,u);const f=s.components;null!==f&&function jb(s,o){for(let u=0;u<o.length;u++)Qb(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[kt]&=-5,Yd()}}function Oy(s,o,u,c){const d=o[kt];if(128!=(128&d)){Kd(o);try{Ro(o),function ua(s){return Et.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Nw(s,o,u,2,c);const _=3==(3&d);if(_){const S=s.preOrderCheckHooks;null!==S&&ko(o,S,null)}else{const S=s.preOrderHooks;null!==S&&eo(o,S,0,null),fa(o,0)}if(function ig(s){for(let o=Ai(s);null!==o;o=Cu(o)){if(!o[Jl])continue;const u=o[As];for(let c=0;c<u.length;c++){const d=u[c];512&d[kt]||ol(d[pn],1),d[kt]|=512}}}(o),function jy(s){for(let o=Ai(s);null!==o;o=Cu(o))for(let u=Mr;u<o.length;u++){const c=o[u],d=c[Ke];nu(c)&&Oy(d,c,d.template,c[Mn])}}(o),null!==s.contentQueries&&xw(s,o),_){const S=s.contentCheckHooks;null!==S&&ko(o,S)}else{const S=s.contentHooks;null!==S&&eo(o,S,1),fa(o,1)}!function $b(s,o){const u=s.hostBindingOpCodes;if(null!==u)try{for(let c=0;c<u.length;c++){const d=u[c];if(d<0)ui(~d);else{const f=d,_=u[++c],w=u[++c];qd(_,f),w(2,o[f])}}}finally{ui(-1)}}(s,o);const w=s.components;null!==w&&function Rw(s,o){for(let u=0;u<o.length;u++)Hy(s,o[u])}(o,w);const C=s.viewQuery;if(null!==C&&ug(2,C,c),_){const S=s.viewCheckHooks;null!==S&&ko(o,S)}else{const S=s.viewHooks;null!==S&&eo(o,S,2),fa(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[kt]&=-41,512&o[kt]&&(o[kt]&=-513,ol(o[pn],-1))}finally{Yd()}}}function Nw(s,o,u,c,d){const f=rr(),_=2&c;try{ui(-1),_&&o.length>Mt&&Qp(s,o,Mt,!1),nn(_?2:0,d),u(c,d)}finally{ui(f),nn(_?3:1,d)}}function Bh(s,o,u){if(tl(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const _=s.data[f];_.contentQueries&&_.contentQueries(1,u[f],f)}}}function Pw(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Ly(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function Ly(s,o,u,c,d,f,_,w,C,S){const R=Mt+c,k=R+d,H=function Hb(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:Lt);return u}(R,k),Q="function"==typeof S?S():S;return H[Ke]={type:s,blueprint:H,template:u,queries:null,viewQuery:w,declTNode:o,data:H.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:C,consts:Q,incompleteFirstPass:!1}}function Gb(s,o,u,c){const d=zy(o);null===u?d.push(c):(d.push(u),s.firstCreatePass&&Vw(s).push(c,d.length-1))}function Ow(s,o,u,c){for(let d in s)if(s.hasOwnProperty(d)){u=null===u?{}:u;const f=s[d];null===c?Wb(u,o,d,f):c.hasOwnProperty(d)&&Wb(u,o,c[d],f)}return u}function Wb(s,o,u,c){s.hasOwnProperty(u)?s[u].push(o,c):s[u]=[o,c]}function gi(s,o){const u=mr(o,s);16&u[kt]||(u[kt]|=32)}function tg(s,o,u,c,d,f){for(let S=0;S<c.length;S++)oo(ks(u,o),s,c[S].type);!function Lw(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,c.length);for(let S=0;S<c.length;S++){const R=c[S];R.providersResolver&&R.providersResolver(R)}let _=!1,w=!1,C=go(s,o,c.length,null);for(let S=0;S<c.length;S++){const R=c[S];u.mergedAttrs=no(u.mergedAttrs,R.hostAttrs),Yb(s,u,o,C,R),Kb(C,R,d),null!==R.contentQueries&&(u.flags|=4),(null!==R.hostBindings||null!==R.hostAttrs||0!==R.hostVars)&&(u.flags|=64);const k=R.type.prototype;!_&&(k.ngOnChanges||k.ngOnInit||k.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),_=!0),!w&&(k.ngOnChanges||k.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),w=!0),C++}!function iN(s,o,u){const d=o.directiveEnd,f=s.data,_=o.attrs,w=[];let C=null,S=null;for(let R=o.directiveStart;R<d;R++){const k=f[R],H=u?u.get(k):null,fe=H?H.outputs:null;C=Ow(k.inputs,R,C,H?H.inputs:null),S=Ow(k.outputs,R,S,fe);const Le=null===C||null===_||Rl(o)?null:rg(C,R,_);w.push(Le)}null!==C&&(C.hasOwnProperty("class")&&(o.flags|=8),C.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=C,o.outputs=S}(s,u,f)}function Fw(s,o,u){const c=u.directiveStart,d=u.directiveEnd,f=u.index,_=function Oo(){return Et.lFrame.currentDirectiveIndex}();try{ui(f);for(let w=c;w<d;w++){const C=s.data[w],S=o[w];da(w),(null!==C.hostBindings||0!==C.hostVars||null!==C.hostAttrs)&&ng(C,S)}}finally{ui(-1),da(_)}}function ng(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Uy(s,o,u){o.componentOffset=u,(s.components||(s.components=[])).push(o.index)}function Kb(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;Gi(o)&&(u[""]=s)}}function Yb(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=ai(d.type)),_=new qn(f,Gi(d),$c);s.blueprint[c]=_,u[c]=_,function kw(s,o,u,c,d){const f=d.hostBindings;if(f){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const w=~o.index;(function zb(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(_)!=w&&_.push(w),_.push(u,c,f)}}(s,o,c,go(s,u,d.hostVars,Lt),d)}function Wo(s,o,u,c,d,f){const _=nr(s,o);!function By(s,o,u,c,d,f,_){if(null==f)s.removeAttribute(o,d,u);else{const w=null==_?me(f):_(f,c||"",d);s.setAttribute(o,d,w,u)}}(o[Nt],_,f,s.value,u,c,d)}function Mi(s,o,u,c,d,f){const _=f[o];if(null!==_){const w=c.setInput;for(let C=0;C<_.length;){const S=_[C++],R=_[C++],k=_[C++];null!==w?c.setInput(u,k,S,R):u[R]=k}}}function rg(s,o,u){let c=null,d=0;for(;d<u.length;){const f=u[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(s.hasOwnProperty(f)){null===c&&(c=[]);const _=s[f];for(let w=0;w<_.length;w+=2)if(_[w]===o){c.push(f,_[w+1],u[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Hy(s,o){const u=mr(o,s);if(nu(u)){const c=u[Ke];48&u[kt]?Oy(c,u,c.template,u[Mn]):u[ts]>0&&$h(u)}}function $h(s){for(let c=Ai(s);null!==c;c=Cu(c))for(let d=Mr;d<c.length;d++){const f=c[d];if(nu(f))if(512&f[kt]){const _=f[Ke];Oy(_,f,_.template,f[Mn])}else f[ts]>0&&$h(f)}const u=s[Ke].components;if(null!==u)for(let c=0;c<u.length;c++){const d=mr(u[c],s);nu(d)&&d[ts]>0&&$h(d)}}function Qb(s,o){const u=mr(o,s),c=u[Ke];(function Xb(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])})(c,u),jc(c,u,u[Mn])}function sg(s,o){return s[Ts]?s[Jo][Ur]=o:s[Ts]=o,s[Jo]=o,o}function Gy(s){for(;s;){s[kt]|=32;const o=Tt(s);if(ta(s)&&!o)return s;s=o}return null}function og(s,o,u,c=!0){const d=o[el];d.begin&&d.begin();try{Oy(s,o,s.template,u)}catch(_){throw c&&Bw(o,_),_}finally{d.end&&d.end()}}function ug(s,o,u){uu(0),o(s,u)}function zy(s){return s[ns]||(s[ns]=[])}function Vw(s){return s.cleanup||(s.cleanup=[])}function Bw(s,o){const u=s[bs],c=u?u.get(Oh,null):null;c&&c.handleError(o)}function qy(s,o,u,c,d){for(let f=0;f<u.length;){const _=u[f++],w=u[f++],C=o[_],S=s.data[_];null!==S.setInput?S.setInput(C,d,c,w):C[w]=d}}function Hc(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?f=w:1==f?d=De(d,w):2==f&&(c=De(c,w+": "+o[++_]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}function jh(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(xn(f)),tr(f))for(let w=Mr;w<f.length;w++){const C=f[w],S=C[Ke].firstChild;null!==S&&jh(C[Ke],C,S,c)}const _=u.type;if(8&_)jh(s,o,u.child,c);else if(32&_){const w=Ye(u,o);let C;for(;C=w();)c.push(C)}else if(16&_){const w=Tl(o,u);if(Array.isArray(w))c.push(...w);else{const C=Tt(o[Ar]);jh(C[Ke],C,w,c,!0)}}u=d?u.projectionNext:u.next}return c}class Nl{get rootNodes(){const o=this._lView,u=o[Ke];return jh(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Mn]}set context(o){this._lView[Mn]=o}get destroyed(){return 128==(128&this._lView[kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[pn];if(tr(o)){const u=o[ji],c=u?u.indexOf(this):-1;c>-1&&(vh(o,c),Uo(u,c))}this._attachedToViewContainer=!1}Eh(this._lView[Ke],this._lView)}onDestroy(o){Gb(this._lView[Ke],this._lView,null,o)}markForCheck(){Gy(this._cdRefInjectingView||this._lView)}detach(){this._lView[kt]&=-65}reattach(){this._lView[kt]|=64}detectChanges(){og(this._lView[Ke],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Op(s,o){Nc(s,o,o[Nt],2,null,null)}(this._lView[Ke],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new ce(902,!1);this._appRef=o}}class $w extends Nl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;og(o[Ke],o,o[Mn],!1)}checkNoChanges(){}get context(){return null}}class Gc extends Au{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=en(o);return new Hh(u,this.ngModule)}}function jw(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class Yy{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){c=mt(c);const d=this.injector.get(o,Dy,c);return d!==Dy||u===Dy?d:this.parentInjector.get(o,u,c)}}class Hh extends aw{get inputs(){return jw(this.componentDef.inputs)}get outputs(){return jw(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function Mb(s){return s.map(Ab).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,c,d){let f=(d=d||this.ngModule)instanceof Al?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const _=f?new Yy(o,f):o,w=_.get(cw,null);if(null===w)throw new ce(407,!1);const C=_.get(_b,null),S=w.createRenderer(null,this.componentDef),R=this.componentDef.selectors[0][0]||"div",k=c?function nN(s,o,u){return s.selectRootElement(o,u===X.ShadowDom)}(S,c,this.componentDef.encapsulation):Mc(S,R,function Ky(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(R)),H=this.componentDef.onPush?288:272,Q=Ly(0,null,null,1,0,null,null,null,null,null),fe=Py(null,Q,null,H,null,null,w,S,C,_,null);let Le,We;Kd(fe);try{const st=this.componentDef;let It,Re=null;st.findHostDirectiveDefs?(It=[],Re=new Map,st.findHostDirectiveDefs(st,It,Re),It.push(st)):It=[st];const Ft=function Hw(s,o){const u=s[Ke],c=Mt;return s[c]=o,_n(u,c,2,"#host",null)}(fe,k),Vn=function Qy(s,o,u,c,d,f,_,w){const C=d[Ke];!function eT(s,o,u,c){for(const d of s)o.mergedAttrs=no(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(Hc(o,o.mergedAttrs,!0),null!==u&&Th(c,u,o))}(c,s,o,_);const S=f.createRenderer(o,u),R=Py(d,Pw(u),null,u.onPush?32:16,d[s.index],s,f,S,w||null,null,null);return C.firstCreatePass&&Uy(C,s,c.length-1),sg(d,R),d[s.index]=R}(Ft,k,st,It,fe,w,S);We=oa(Q,Mt),k&&function nT(s,o,u,c){if(c)Ns(s,u,["ng-version",Cy.full]);else{const{attrs:d,classes:f}=function Zp(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!Bs(d))break;d=f}c++}return{attrs:o,classes:u}}(o.selectors[0]);d&&Ns(s,u,d),f&&f.length>0&&bh(s,u,f.join(" "))}}(S,st,k,c),void 0!==u&&function lg(s,o,u){const c=s.projection=[];for(let d=0;d<o.length;d++){const f=u[d];c.push(null!=f?Array.from(f):null)}}(We,this.ngContentSelectors,u),Le=function tT(s,o,u,c,d,f){const _=zn(),w=d[Ke],C=nr(_,d);tg(w,d,_,u,null,c);for(let R=0;R<u.length;R++)$r(uo(d,w,_.directiveStart+R,_),d);Fw(w,d,_),C&&$r(C,d);const S=uo(d,w,_.directiveStart+_.componentOffset,_);if(s[Mn]=d[Mn]=S,null!==f)for(const R of f)R(S,o);return Bh(w,_,s),S}(Vn,st,It,Re,fe,[Xy]),jc(Q,fe,null)}finally{Yd()}return new Zy(this.componentType,Le,Ml(We,fe),fe,We)}}class Zy extends fb{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.instance=u,this.hostView=this.changeDetectorRef=new $w(d),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const f=this._rootLView;qy(f[Ke],f,d,o,u),gi(f,this._tNode.index)}}get injector(){return new va(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Xy(){const s=zn();ha(we()[Ke],s)}function Gh(s){let o=function cg(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(Gi(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new ce(903,!1);d=o.\u0275dir}if(d){if(u){c.push(d);const _=s;_.inputs=Jy(s.inputs),_.declaredInputs=Jy(s.declaredInputs),_.outputs=Jy(s.outputs);const w=d.hostBindings;w&&zw(s,w);const C=d.viewQuery,S=d.contentQueries;if(C&&Ww(s,C),S&&Wc(s,S),Pe(s.inputs,d.inputs),Pe(s.declaredInputs,d.declaredInputs),Pe(s.outputs,d.outputs),Gi(d)&&d.data.animation){const R=s.data;R.animation=(R.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let _=0;_<f.length;_++){const w=f[_];w&&w.ngInherit&&w(s),w===Gh&&(u=!1)}}o=Object.getPrototypeOf(o)}!function Gw(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=no(d.hostAttrs,u=no(u,d.hostAttrs))}}(c)}function Jy(s){return s===Je?{}:s===Ge?[]:s}function Ww(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function Wc(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function zw(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}function Wh(s){return!!n_(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function n_(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ti(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Qw(s,o,u,c){const d=we();return ti(d,la(),o)&&(Xt(),Wo(vn(),d,s,o,u,c)),Qw}function tI(s,o,u){const c=we();return ti(c,la(),o)&&function On(s,o,u,c,d,f,_,w){const C=nr(o,u);let R,S=o.inputs;!w&&null!=S&&(R=S[c])?(qy(s,u,R,c,d),Za(o)&&gi(u,o.index)):3&o.type&&(c=function sN(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=_?_(d,o.value||"",c):d,f.setProperty(C,c,d))}(Xt(),vn(),c,s,o,c[Nt],u,!1),tI}function nI(s,o,u,c,d){const _=d?"class":"style";qy(s,u,o.inputs[_],_,c)}function Zh(s,o,u,c){const d=we(),f=Xt(),_=Mt+s,w=d[Nt],C=f.firstCreatePass?function dN(s,o,u,c,d,f){const _=o.consts,C=_n(o,s,2,c,os(_,d));return function ka(s,o,u,c){if(su()){const d=null===c?null:{"":-1},f=function Vy(s,o){const u=s.directiveRegistry;let c=null,d=null;if(u)for(let f=0;f<u.length;f++){const _=u[f];if(kh(o,_.selectors,!1))if(c||(c=[]),Gi(_))if(null!==_.findHostDirectiveDefs){const w=[];d=d||new Map,_.findHostDirectiveDefs(_,w,d),c.unshift(...w,_),Uy(s,o,w.length)}else c.unshift(_),Uy(s,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,c,d),c.push(_)}return null===c?null:[c,d]}(s,u);let _,w;null===f?_=w=null:[_,w]=f,null!==_&&tg(s,o,u,_,d,w),d&&function qb(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new ce(-301,!1);c.push(o[d],f)}}}(u,c,d)}u.mergedAttrs=no(u.mergedAttrs,u.attrs)}(o,u,C,os(_,f)),null!==C.attrs&&Hc(C,C.attrs,!1),null!==C.mergedAttrs&&Hc(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(_,f,d,o,u,c):f.data[_],S=d[_]=Mc(w,o,function dc(){return Et.lFrame.currentNamespace}()),R=Hi(C);return Kr(C,!0),Th(w,S,C),32!=(32&C.flags)&&kp(f,d,S,C),0===function Hd(){return Et.lFrame.elementDepthCount}()&&$r(S,d),function aa(){Et.lFrame.elementDepthCount++}(),R&&(function ky(s,o,u){su()&&(function ei(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;Za(u)&&function Zb(s,o,u){const c=nr(o,s),d=Pw(u),f=s[el],_=sg(s,Py(s,d,null,u.onPush?32:16,c,o,f,f.createRenderer(c,u),null,null,null));s[o.index]=_}(o,u,s.data[d+u.componentOffset]),s.firstCreatePass||ks(u,o),$r(c,o);const _=u.initialInputs;for(let w=d;w<f;w++){const C=s.data[w],S=uo(o,s,w,u);$r(S,o),null!==_&&Mi(0,w-d,S,C,0,_),Gi(C)&&(mr(u.index,o)[Mn]=uo(o,s,w,u))}}(s,o,u,nr(u,o)),64==(64&u.flags)&&Fw(s,o,u))}(f,d,C),Bh(f,C,d)),null!==c&&function Fy(s,o,u=nr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const _=c[f+1],w=-1===_?u(o,s):s[_];s[d++]=w}}}(d,C),Zh}function Qh(){let s=zn();sc()?function Po(){Et.lFrame.isParent=!1}():(s=s.parent,Kr(s,!1));const o=s;!function Gd(){Et.lFrame.elementDepthCount--}();const u=Xt();return u.firstCreatePass&&(ha(u,s),tl(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function pa(s){return 0!=(8&s.flags)}(o)&&nI(u,o,we(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function lu(s){return 0!=(16&s.flags)}(o)&&nI(u,o,we(),o.stylesWithoutHost,!1),Qh}function Xh(s,o,u,c){return Zh(s,o,u,c),Qh(),Xh}function i_(s){return!!s&&"function"==typeof s.then}function sI(s){return!!s&&"function"==typeof s.subscribe}const oI=sI;function s_(s,o,u,c){const d=we(),f=Xt(),_=zn();return function gT(s,o,u,c,d,f,_){const w=Hi(c),S=s.firstCreatePass&&Vw(s),R=o[Mn],k=zy(o);let H=!0;if(3&c.type||_){const Le=nr(c,o),We=_?_(Le):Le,st=k.length,It=_?Ft=>_(xn(Ft[c.index])):c.index;let Re=null;if(!_&&w&&(Re=function hN(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const _=d[f];if(_===u&&d[f+1]===c){const w=o[ns],C=d[f+2];return w.length>C?w[C]:null}"string"==typeof _&&(f+=2)}return null}(s,o,d,c.index)),null!==Re)(Re.__ngLastListenerFn__||Re).__ngNextListenerFn__=f,Re.__ngLastListenerFn__=f,H=!1;else{f=yT(c,o,R,f,!1);const Ft=u.listen(We,d,f);k.push(f,Ft),S&&S.push(d,It,st,st+1)}}else f=yT(c,o,R,f,!1);const Q=c.outputs;let fe;if(H&&null!==Q&&(fe=Q[d])){const Le=fe.length;if(Le)for(let We=0;We<Le;We+=2){const Vn=o[fe[We]][fe[We+1]].subscribe(f),ar=k.length;k.push(f,Vn),S&&S.push(d,c.index,ar,-(ar+1))}}}(f,d,d[Nt],_,s,o,c),s_}function mT(s,o,u,c){try{return nn(6,o,u),!1!==u(c)}catch(d){return Bw(s,d),!1}finally{nn(7,o,u)}}function yT(s,o,u,c,d){return function f(_){if(_===Function)return c;Gy(s.componentOffset>-1?mr(s.index,o):o);let C=mT(o,u,c,_),S=f.__ngNextListenerFn__;for(;S;)C=mT(o,u,S,_)&&C,S=S.__ngNextListenerFn__;return d&&!1===C&&(_.preventDefault(),_.returnValue=!1),C}}function o_(s,o){return s<<17|o<<2}function kl(s){return s>>17&32767}function lI(s){return 2|s}function Qc(s){return(131068&s)>>2}function cI(s,o){return-131069&s|o<<2}function dI(s){return 1|s}function hI(s,o,u,c,d){const f=s[u+1],_=null===o;let w=c?kl(f):Qc(f),C=!1;for(;0!==w&&(!1===C||_);){const R=s[w+1];IN(s[w],o)&&(C=!0,s[w+1]=c?dI(R):lI(R)),w=c?kl(R):Qc(R)}C&&(s[u+1]=c?lI(f):dI(f))}function IN(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&it(s,o)>=0}function fI(s,o){return function Ki(s,o,u,c){const d=we(),f=Xt(),_=function zi(s){const o=Et.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function gI(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[rr()],_=function pI(s,o){return o>=s.expandoStartIndex}(s,u);(function u_(s,o){return 0!=(s.flags&(o?8:16))})(f,c)&&null===o&&!_&&(o=!1),o=function mI(s,o,u,c){const d=function ac(s){const o=Et.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=tf(u=_I(null,s,o,u,c),o.attrs,c),f=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(u=_I(d,s,o,u,c),null===f){let C=function yI(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Qc(c))return s[kl(c)]}(s,o,c);void 0!==C&&Array.isArray(C)&&(C=_I(null,s,o,C[1],c),C=tf(C,o.attrs,c),function a_(s,o,u,c){s[kl(u?o.classBindings:o.styleBindings)]=c}(s,o,c,C))}else f=function Fl(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=tf(c,s[f].hostAttrs,u);return tf(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function EN(s,o,u,c,d,f){let _=f?o.classBindings:o.styleBindings,w=kl(_),C=Qc(_);s[c]=u;let R,S=!1;if(Array.isArray(u)?(R=u[1],(null===R||it(u,R)>0)&&(S=!0)):R=u,d)if(0!==C){const H=kl(s[w+1]);s[c+1]=o_(H,w),0!==H&&(s[H+1]=cI(s[H+1],c)),s[w+1]=function _N(s,o){return 131071&s|o<<17}(s[w+1],c)}else s[c+1]=o_(w,0),0!==w&&(s[w+1]=cI(s[w+1],c)),w=c;else s[c+1]=o_(C,0),0===w?w=c:s[C+1]=cI(s[C+1],c),C=c;S&&(s[c+1]=lI(s[c+1])),hI(s,R,c,!0),hI(s,R,c,!1),function wN(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&it(f,o)>=0&&(u[c+1]=dI(u[c+1]))}(o,R,s,c,f),_=o_(w,C),f?o.classBindings=_:o.styleBindings=_}(d,f,o,u,_,c)}}(f,s,_,c),o!==Lt&&ti(d,_,o)&&function EI(s,o,u,c,d,f,_,w){if(!(3&o.type))return;const C=s.data,S=C[w+1],R=function vN(s){return 1==(1&s)}(S)?wI(C,o,u,d,Qc(S),_):void 0;fg(R)||(fg(f)||function yN(s){return 2==(2&s)}(S)&&(f=wI(C,null,u,d,w,_)),function ey(s,o,u,c,d){if(o)d?s.addClass(u,c):s.removeClass(u,c);else{let f=-1===c.indexOf("-")?void 0:hi.DashCase;null==d?s.removeStyle(u,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=hi.Important),s.setStyle(u,c,d,f))}}(c,_,function xs(s,o){return xn(o[s])}(rr(),u),d,f))}(f,f.data[rr()],d,d[Nt],s,d[_+1]=function kT(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(pi(s)))),s}(o,u),c,_)}(s,o,null,!0),fI}function _I(s,o,u,c,d){let f=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(f=o[w],c=tf(c,f.hostAttrs,d),f!==s);)w++;return null!==s&&(u.directiveStylingLast=w),c}function tf(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const _=o[f];"number"==typeof _?d=_:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),qt(s,_,!!u||o[++f]))}return void 0===s?null:s}function wI(s,o,u,c,d,f){const _=null===o;let w;for(;d>0;){const C=s[d],S=Array.isArray(C),R=S?C[1]:C,k=null===R;let H=u[d+1];H===Lt&&(H=k?Ge:void 0);let Q=k?Br(H,c):R===c?H:void 0;if(S&&!fg(Q)&&(Q=Br(C,c)),fg(Q)&&(w=Q,_))return w;const fe=s[d+1];d=_?kl(fe):Qc(fe)}if(null!==o){let C=f?o.residualClasses:o.residualStyles;null!=C&&(w=Br(C,c))}return w}function fg(s){return void 0!==s}function FT(s,o=""){const u=we(),c=Xt(),d=s+Mt,f=c.firstCreatePass?_n(c,d,1,o,null):c.data[d],_=u[d]=function Cl(s,o){return s.createText(o)}(u[Nt],o);kp(c,u,_,f),Kr(f,!1)}const Ou=void 0;var yg=["en",[["a","p"],["AM","PM"],Ou],[["AM","PM"],Ou,Ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ou,"{1} 'at' {0}",Ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function E_(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Ll={};function _g(s){const o=function vg(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=w_(o);if(u)return u;const c=o.split("-")[0];if(u=w_(c),u)return u;if("en"===c)return yg;throw new ce(701,!1)}function La(s){return _g(s)[wt.PluralCase]}function w_(s){return s in Ll||(Ll[s]=St.ng&&St.ng.common&&St.ng.common.locales&&St.ng.common.locales[s]),Ll[s]}var wt=(()=>((wt=wt||{})[wt.LocaleId=0]="LocaleId",wt[wt.DayPeriodsFormat=1]="DayPeriodsFormat",wt[wt.DayPeriodsStandalone=2]="DayPeriodsStandalone",wt[wt.DaysFormat=3]="DaysFormat",wt[wt.DaysStandalone=4]="DaysStandalone",wt[wt.MonthsFormat=5]="MonthsFormat",wt[wt.MonthsStandalone=6]="MonthsStandalone",wt[wt.Eras=7]="Eras",wt[wt.FirstDayOfWeek=8]="FirstDayOfWeek",wt[wt.WeekendRange=9]="WeekendRange",wt[wt.DateFormat=10]="DateFormat",wt[wt.TimeFormat=11]="TimeFormat",wt[wt.DateTimeFormat=12]="DateTimeFormat",wt[wt.NumberSymbols=13]="NumberSymbols",wt[wt.NumberFormats=14]="NumberFormats",wt[wt.CurrencyCode=15]="CurrencyCode",wt[wt.CurrencySymbol=16]="CurrencySymbol",wt[wt.CurrencyName=17]="CurrencyName",wt[wt.Currencies=18]="Currencies",wt[wt.Directionality=19]="Directionality",wt[wt.PluralCase=20]="PluralCase",wt[wt.ExtraData=21]="ExtraData",wt))();const Va="en-US";let $T=Va;function Mg(s,o,u,c,d){if(s=K(s),Array.isArray(s))for(let f=0;f<s.length;f++)Mg(s[f],o,u,c,d);else{const f=Xt(),_=we();let w=Ho(s)?s:K(s.provide),C=sw(s);const S=zn(),R=1048575&S.providerIndexes,k=S.directiveStart,H=S.providerIndexes>>20;if(Ho(s)||!s.multi){const Q=new qn(C,d,$c),fe=N_(w,o,d?R:R+H,k);-1===fe?(oo(ks(S,_),f,w),R_(f,s,o.length),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),u.push(Q),_.push(Q)):(u[fe]=Q,_[fe]=Q)}else{const Q=N_(w,o,R+H,k),fe=N_(w,o,R,R+H),We=fe>=0&&u[fe];if(d&&!We||!d&&!(Q>=0&&u[Q])){oo(ks(S,_),f,w);const st=function o0(s,o,u,c,d){const f=new qn(s,u,$c);return f.multi=[],f.index=o,f.componentProviders=0,xg(f,d,c&&!u),f}(d?cS:P_,u.length,d,c,C);!d&&We&&(u[fe].providerFactory=st),R_(f,s,o.length,0),o.push(w),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),u.push(st),_.push(st)}else R_(f,s,Q>-1?Q:fe,xg(u[d?fe:Q],C,!d&&c));!d&&c&&We&&u[fe].componentProviders++}}}function R_(s,o,u,c){const d=Ho(o),f=function Lc(s){return!!s.useClass}(o);if(d||f){const C=(f?K(o.useClass):o).prototype.ngOnDestroy;if(C){const S=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const R=S.indexOf(u);-1===R?S.push(u,[c,C]):S[R+1].push(c,C)}else S.push(u,C)}}}function xg(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function N_(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function P_(s,o,u,c){return lf(this.multi,[])}function cS(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=uo(u,u[Ke],this.providerFactory.index,c);f=w.slice(0,_),lf(d,f);for(let C=_;C<w.length;C++)f.push(w[C])}else f=[],lf(d,f);return f}function lf(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function a0(s,o=[]){return u=>{u.providersResolver=(c,d)=>function lS(s,o,u){const c=Xt();if(c.firstCreatePass){const d=Gi(s);Mg(u,c.data,c.blueprint,d,!0),Mg(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class $l{}class u0{}function l0(s,o){return new Rg(s,o??null)}class Rg extends $l{constructor(o,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gc(this);const c=Vr(o);this._bootstrapComponents=Go(c.bootstrap),this._r3Injector=Pb(o,u,[{provide:$l,useValue:this},{provide:Au,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class O_ extends u0{constructor(o){super(),this.moduleType=o}create(o){return new Rg(this.moduleType,o)}}class dS extends $l{constructor(o,u,c){super(),this.componentFactoryResolver=new Gc(this),this.instance=null;const d=new rw([...o,{provide:$l,useValue:this},{provide:Au,useValue:this.componentFactoryResolver}],u||Wp(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Ng(s,o,u=null){return new dS(s,o,u).injector}let hS=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=JE(0,u.type),d=c.length>0?Ng([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=tt({token:s,providedIn:"environment",factory:()=>new s($e(Al))}),s})();function fS(s){s.getStandaloneInjector=o=>o.get(hS).getOrCreateStandaloneInjector(s)}function Og(s){return o=>{setTimeout(s,void 0,o)}}const _o=class xS extends g.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let d=o,f=u||(()=>null),_=c;if(o&&"object"==typeof o){const C=o;d=C.next?.bind(C),f=C.error?.bind(C),_=C.complete?.bind(C)}this.__isAsync&&(f=Og(f),d&&(d=Og(d)),_&&(_=Og(_)));const w=super.subscribe({next:d,error:f,complete:_});return o instanceof V.w0&&o.add(w),w}};function _0(){return this._results[Symbol.iterator]()}class ff{get changes(){return this._changes||(this._changes=new _o)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ff.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=_0)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=function Ti(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Cc(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let pf=(()=>{class s{}return s.__NG_ELEMENT_ID__=v0,s})();const RS=pf,NS=class extends RS{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}createEmbeddedView(o,u){const c=this._declarationTContainer.tView,d=Py(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,u||null);d[Ss]=this._declarationLView[this._declarationTContainer.index];const _=this._declarationLView[er];return null!==_&&(d[er]=_.createEmbeddedView(c)),jc(c,d,o),new Nl(d)}};function v0(){return Yo(zn(),we())}function Yo(s,o){return 4&s.type?new NS(o,s,Ml(s,o)):null}let sd=(()=>{class s{}return s.__NG_ELEMENT_ID__=od,s})();function od(){return V_(zn(),we())}const E0=sd,L_=class extends E0{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Ml(this._hostTNode,this._hostLView)}get injector(){return new va(this._hostTNode,this._hostLView)}get parentInjector(){const o=fu(this._hostTNode,this._hostLView);if(cu(o)){const u=ro(o,this._hostLView),c=Lo(o);return new va(u[Ke].data[c+8],u)}return new va(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=ad(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-Mr}createEmbeddedView(o,u,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const _=o.createEmbeddedView(u||{},f);return this.insert(_,d),_}createComponent(o,u,c,d,f){const _=o&&!function mu(s){return"function"==typeof s}(o);let w;if(_)w=u;else{const k=u||{};w=k.index,c=k.injector,d=k.projectableNodes,f=k.environmentInjector||k.ngModuleRef}const C=_?o:new Hh(en(o)),S=c||this.parentInjector;if(!f&&null==C.ngModule){const H=(_?S:this.parentInjector).get(Al,null);H&&(f=H)}const R=C.create(S,d,void 0,f);return this.insert(R.hostView,w),R}insert(o,u){const c=o._lView,d=c[Ke];if(function ru(s){return tr(s[pn])}(c)){const R=this.indexOf(o);if(-1!==R)this.detach(R);else{const k=c[pn],H=new L_(k,k[Wn],k[pn]);H.detach(H.indexOf(o))}}const f=this._adjustIndex(u),_=this._lContainer;!function _h(s,o,u,c){const d=Mr+c,f=u.length;c>0&&(u[d-1][Ur]=o),c<f-Mr?(o[Ur]=u[d],sh(u,Mr+c,o)):(u.push(o),o[Ur]=null),o[pn]=u;const _=o[Ss];null!==_&&u!==_&&function Wm(s,o){const u=s[As];o[Ar]!==o[pn][pn][Ar]&&(s[Jl]=!0),null===u?s[As]=[o]:u.push(o)}(_,o);const w=o[er];null!==w&&w.insertView(s),o[kt]|=64}(d,c,_,f);const w=Xm(f,_),C=c[Nt],S=Ch(C,_[is]);return null!==S&&function Du(s,o,u,c,d,f){c[$i]=d,c[Wn]=o,Nc(s,c,u,1,d,f)}(d,_[Wn],C,c,S,w),o.attachToViewContainerRef(),sh(Ba(_),f,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=ad(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=vh(this._lContainer,u);c&&(Uo(Ba(this._lContainer),u),Eh(c[Ke],c))}detach(o){const u=this._adjustIndex(o,-1),c=vh(this._lContainer,u);return c&&null!=Uo(Ba(this._lContainer),u)?new Nl(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function ad(s){return s[ji]}function Ba(s){return s[ji]||(s[ji]=[])}function V_(s,o){let u;const c=o[s.index];if(tr(c))u=c;else{let d;if(8&s.type)d=xn(c);else{const f=o[Nt];d=f.createComment("");const _=nr(s,o);bu(f,Ch(f,_),d,function kE(s,o){return s.nextSibling(o)}(f,_),!1)}o[s.index]=u=function $y(s,o,u,c){return[s,!0,!1,o,null,0,c,u,null,null]}(c,o,d,s),sg(o,u)}return new L_(u,s,o)}class kg{constructor(o){this.queryList=o,this.matches=null}clone(){return new kg(this.queryList)}setDirty(){this.queryList.setDirty()}}class wr{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const _=u.getByIndex(f);d.push(this.queries[_.indexInDeclarationView].clone())}return new wr(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==I0(o,u).matches&&this.queries[u].setDirty()}}class ud{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class gf{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new gf(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class $s{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new $s(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,yi(u,f)),this.matchTNodeWithReadOption(o,u,ao(u,o,f,!1,!1))}else c===pf?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,ao(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Pa||d===sd||d===pf&&4&u.type)this.addMatch(u.index,-2);else{const f=ao(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function yi(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function Fg(s,o,u,c){return-1===u?function PS(s,o){return 11&s.type?Ml(s,o):4&s.type?Yo(s,o):null}(o,s):-2===u?function OS(s,o,u){return u===Pa?Ml(o,s):u===pf?Yo(o,s):u===sd?V_(o,s):void 0}(s,o,c):uo(s,s[Ke],u,o)}function $a(s,o,u,c){const d=o[er].queries[c];if(null===d.matches){const f=s.data,_=u.matches,w=[];for(let C=0;C<_.length;C+=2){const S=_[C];w.push(S<0?null:Fg(o,f[S],_[C+1],u.metadata.read))}d.matches=w}return d.matches}function vo(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const _=$a(s,o,d,u);for(let w=0;w<f.length;w+=2){const C=f[w];if(C>0)c.push(_[w/2]);else{const S=f[w+1],R=o[-C];for(let k=Mr;k<R.length;k++){const H=R[k];H[Ss]===H[pn]&&vo(H[Ke],H,S,c)}if(null!==R[As]){const k=R[As];for(let H=0;H<k.length;H++){const Q=k[H];vo(Q[Ke],Q,S,c)}}}}}return c}function Vu(s){const o=we(),u=Xt(),c=uc();uu(c+1);const d=I0(u,c);if(s.dirty&&function tu(s){return 4==(4&s[kt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?vo(u,o,c,[]):$a(u,o,d,c);s.reset(f,lw),s.notifyOnChanges()}return!0}return!1}function ld(s,o,u,c){const d=Xt();if(d.firstCreatePass){const f=zn();(function U_(s,o,u){null===s.queries&&(s.queries=new gf),s.queries.track(new $s(o,u))})(d,new ud(o,u,c),f.index),function FS(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function Nr(s,o,u){const c=new ff(4==(4&u));Gb(s,o,c,c.destroy),null===o[er]&&(o[er]=new wr),o[er].queries.push(new kg(c))}(d,we(),u)}function Lg(){return function w0(s,o){return s[er].queries[o].queryList}(we(),uc())}function I0(s,o){return s.queries.getByIndex(o)}function B_(s){return!!Vr(s)}function jg(...s){}const $0=new gn("Application Initializer");let If=(()=>{class s{constructor(u){this.appInits=u,this.resolve=jg,this.reject=jg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const u=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(i_(f))u.push(f);else if(oI(f)){const _=new Promise((w,C)=>{f.subscribe({complete:w,error:C})});u.push(_)}}Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)($e($0,8))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Y_=new gn("AppId",{providedIn:"root",factory:function Z_(){return`${Q_()}${Q_()}${Q_()}`}});function Q_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const X_=new gn("Platform Initializer"),j0=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let H0=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const an=new gn("LocaleId",{providedIn:"root",factory:()=>et(an,ct.Optional|ct.SkipSelf)||function G0(){return typeof $localize<"u"&&$localize.locale||Va}()}),cn=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ev{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let ZS=(()=>{class s{compileModuleSync(u){return new O_(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),f=Go(Vr(u).declarations).reduce((_,w)=>{const C=en(w);return C&&_.push(new Hh(C)),_},[]);return new ev(c,f)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const js=(()=>Promise.resolve(0))();function tv(s){typeof Zone>"u"?js.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class _s{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _o(!1),this.onMicrotaskEmpty=new _o(!1),this.onStable=new _o(!1),this.onError=new _o(!1),typeof Zone>"u")throw new ce(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function XS(){let s=St.requestAnimationFrame,o=St.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function JS(s){const o=()=>{!function bf(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(St,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Hg(s),s.isCheckStableRunning=!0,Df(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Hg(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,_,w)=>{try{return W0(s),u.invokeTask(d,f,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),z0(s)}},onInvoke:(u,c,d,f,_,w,C)=>{try{return W0(s),u.invoke(d,f,_,w,C)}finally{s.shouldCoalesceRunChangeDetection&&o(),z0(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Hg(s),Df(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new ce(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new ce(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,_=f.scheduleEventTask("NgZoneEvent: "+d,o,Hl,jg,jg);try{return f.runTask(_,u,c)}finally{f.cancelTask(_)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const Hl={};function Df(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Hg(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function W0(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function z0(s){s._nesting--,Df(s)}class eA{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _o,this.onMicrotaskEmpty=new _o,this.onStable=new _o,this.onError=new _o}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}const nv=new gn(""),Bu=new gn("");let Wg,Qt=(()=>{class s{constructor(u,c,d){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Wg||(function Gg(s){Wg=s}(d),d.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),tv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)($e(_s),$e(Tf),$e(Bu))},s.\u0275prov=tt({token:s,factory:s.\u0275fac}),s})(),Tf=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Wg?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Hr=!1;let Eo=null;const Hs=new gn("AllowMultipleToken"),rv=new gn("PlatformDestroyListeners"),Ri=new gn("appBootstrapListener");class nA{constructor(o,u){this.name=o,this.token=u}}function ov(s,o,u=[]){const c=`Platform: ${o}`,d=new gn(c);return(f=[])=>{let _=av();if(!_||_.injector.get(Hs,!1)){const w=[...u,...f,{provide:d,useValue:!0}];s?s(w):function K0(s){if(Eo&&!Eo.get(Hs,!1))throw new ce(400,!1);Eo=s;const o=s.get(wn);(function sv(s){const o=s.get(X_,null);o&&o.forEach(u=>u())})(s)}(function Q0(s=[],o){return Uc.create({name:o,providers:[{provide:_y,useValue:"platform"},{provide:rv,useValue:new Set([()=>Eo=null])},...s]})}(w,c))}return function Z0(s){const o=av();if(!o)throw new ce(401,!1);return o}()}}function av(){return Eo?.get(wn)??null}let wn=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const d=function J0(s,o){let u;return u="noop"===s?new eA:("zone.js"===s?void 0:s)||new _s(o),u}(c?.ngZone,function X0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(c)),f=[{provide:_s,useValue:d}];return d.run(()=>{const _=Uc.create({providers:f,parent:this.injector,name:u.moduleType.name}),w=u.create(_),C=w.injector.get(Oh,null);if(!C)throw new ce(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:R=>{C.handleError(R)}});w.onDestroy(()=>{Gs(this._modules,w),S.unsubscribe()})}),function Af(s,o,u){try{const c=u();return i_(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(C,d,()=>{const S=w.injector.get(If);return S.runInitializers(),S.donePromise.then(()=>(function jT(s){Xe(s,"Expected localeId to be defined"),"string"==typeof s&&($T=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(an,Va)||Va),this._moduleDoBootstrap(w),w))})})}bootstrapModule(u,c=[]){const d=zg({},c);return function tA(s,o,u){const c=new O_(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(Ha);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new ce(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ce(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(rv,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)($e(Uc))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function zg(s,o){return Array.isArray(o)?o.reduce(zg,s):{...s,...o}}let Ha=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,c,d){this._zone=u,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new G.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),_=new G.y(w=>{let C;this._zone.runOutsideAngular(()=>{C=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),tv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{C.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ie.T)(f,_.pipe((0,oe.B)()))}bootstrap(u,c){const d=u instanceof aw;if(!this._injector.get(If).done){!d&&qr(u);throw new ce(405,Hr)}let _;_=d?u:this._injector.get(Au).resolveComponentFactory(u),this.componentTypes.push(_.componentType);const w=function iv(s){return s.isBoundToModule}(_)?void 0:this._injector.get($l),S=_.create(Uc.NULL,[],c||_.selector,w),R=S.location.nativeElement,k=S.injector.get(nv,null);return k?.registerApplication(R),S.onDestroy(()=>{this.detachView(S.hostView),Gs(this.components,S),k?.unregisterApplication(R)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new ce(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;Gs(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(Ri,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Gs(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new ce(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)($e(_s),$e(Al),$e(Oh))},s.\u0275prov=tt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Gs(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}function rA(){return!1}let iA=(()=>{class s{}return s.__NG_ELEMENT_ID__=uv,s})();function uv(s){return function eC(s,o,u){if(Za(s)&&!u){const c=mr(s.index,o);return new Nl(c,c)}return 47&s.type?new Nl(o[Ar],o):null}(zn(),we(),16==(16&s))}class em{constructor(){}supports(o){return Wh(o)}create(o){return new aA(o)}}const fv=(s,o)=>o;class aA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||fv}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const _=!c||u&&u.currentIndex<sC(c,d,f)?u:c,w=sC(_,d,f),C=_.currentIndex;if(_===c)d--,c=c._nextRemoved;else if(u=u._next,null==_.previousIndex)d++;else{f||(f=[]);const S=w-d,R=C-d;if(S!=R){for(let H=0;H<S;H++){const Q=H<f.length?f[H]:f[H]=0,fe=Q+H;R<=fe&&fe<S&&(f[H]=Q+1)}f[_.previousIndex]=R-S}}w!==C&&o(_,w,C)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Wh(o))throw new ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,_,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],_=this._trackByFn(w,f),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,f,_,w)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,_,w),c=!0),u=u._next}else d=0,function t_(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,w=>{_=this._trackByFn(d,w),null!==u&&Object.is(u.trackById,_)?(c&&(u=this._verifyReinsertion(u,w,_,d)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new uA(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new iC),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new iC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class uA{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class iC{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new rC,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function sC(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class oC{constructor(){}supports(o){return o instanceof Map||n_(o)}create(){return new Ws}}class Ws{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||n_(o)))throw new ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,_=d._next;return f&&(f._next=_),_&&(_._prev=f),d._next=null,d._prev=null,d}const c=new pv(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class pv{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function tm(){return new Of([new em])}let Of=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||tm()),deps:[[s,new Bo,new Ls]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new ce(901,!1)}}return s.\u0275prov=tt({token:s,providedIn:"root",factory:tm}),s})();function gd(){return new Ga([new oC])}let Ga=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||gd()),deps:[[s,new Bo,new Ls]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new ce(901,!1)}}return s.\u0275prov=tt({token:s,providedIn:"root",factory:gd}),s})();const kf=ov(null,"core",[]);let lA=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)($e(Ha))},s.\u0275mod=Ka({type:s}),s.\u0275inj=Un({}),s})();function cA(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(pt,Ae,F)=>{F.d(Ae,{Z:()=>je});var g=F(2090),V=F(4859),G=F(9681),ie=F(1877);class oe{constructor(ce,_e){this._delegate=ce,this.firebase=_e,(0,G._addComponent)(ce,new V.wA("app-compat",()=>this,"PUBLIC")),this.container=ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this._delegate.automaticDataCollectionEnabled=ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ce=>{this._delegate.checkDestroyed(),ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,G.deleteApp)(this._delegate)))}_getService(ce,_e=G._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const Me=this._delegate.container.getProvider(ce);return!Me.isInitialized()&&"EXPLICIT"===(null===(me=Me.getComponent())||void 0===me?void 0:me.instantiationMode)&&Me.initialize(),Me.getImmediate({identifier:_e})}_removeServiceInstance(ce,_e=G._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ce).clearInstance(_e)}_addComponent(ce){(0,G._addComponent)(this._delegate,ce)}_addOrOverwriteComponent(ce){(0,G._addOrOverwriteComponent)(this._delegate,ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function De(){const rt=function ve(rt){const ce={},_e={__esModule:!0,initializeApp:function be(Y,ne={}){const he=G.initializeApp(Y,ne);if((0,g.r3)(ce,he.name))return ce[he.name];const He=new rt(he,_e);return ce[he.name]=He,He},app:Me,registerVersion:G.registerVersion,setLogLevel:G.setLogLevel,onLog:G.onLog,apps:null,SDK_VERSION:G.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Y){const ne=Y.name,he=ne.replace("-compat","");if(G._registerComponent(Y)&&"PUBLIC"===Y.type){const He=(Be=Me())=>{if("function"!=typeof Be[he])throw Pe.create("invalid-app-argument",{appName:ne});return Be[he]()};void 0!==Y.serviceProps&&(0,g.ZB)(He,Y.serviceProps),_e[he]=He,rt.prototype[he]=function(...Be){return this._getService.bind(this,ne).apply(this,Y.multipleInstances?Be:[])}}return"PUBLIC"===Y.type?_e[he]:null},removeApp:function me(Y){delete ce[Y]},useAsService:function Ue(Y,ne){return"serverAuth"===ne?null:ne},modularAPIs:G}};function Me(Y){if(!(0,g.r3)(ce,Y=Y||G._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:Y});return ce[Y]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function Te(){return Object.keys(ce).map(Y=>ce[Y])}}),Me.App=rt,_e}(oe);return rt.INTERNAL=Object.assign(Object.assign({},rt.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function ce(_e){(0,g.ZB)(rt,_e)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),rt}(),j=new ie.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){j.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rt=self.firebase.SDK_VERSION;rt&&rt.indexOf("LITE")>=0&&j.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=$;!function Ie(rt){(0,G.registerVersion)("@firebase/app-compat","0.2.5",rt)}()},9681:(pt,Ae,F)=>{F.r(Ae),F.d(Ae,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>ii,_DEFAULT_ENTRY_NAME:()=>Oe,_addComponent:()=>sn,_addOrOverwriteComponent:()=>gt,_apps:()=>Xe,_clearComponents:()=>Un,_components:()=>ze,_getProvider:()=>tt,_registerComponent:()=>vt,_removeServiceInstance:()=>tn,deleteApp:()=>Fi,getApp:()=>cr,getApps:()=>ki,initializeApp:()=>Ys,onLog:()=>ct,registerVersion:()=>br,setLogLevel:()=>Li});var g=F(5861),V=F(4859),G=F(1877),ie=F(2090),oe=F(8766);class ae{constructor(ge){this.container=ge}getPlatformInfoString(){return this.container.getProviders().map(et=>{if(function Pe($e){return"VERSION"===$e.getComponent()?.type}(et)){const mt=et.getImmediate();return`${mt.library}/${mt.version}`}return null}).filter(et=>et).join(" ")}}const ve="@firebase/app",$=new G.Yd("@firebase/app"),Oe="[DEFAULT]",Fe={[ve]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Xe=new Map,ze=new Map;function sn($e,ge){try{$e.container.addComponent(ge)}catch(et){$.debug(`Component ${ge.name} failed to register with FirebaseApp ${$e.name}`,et)}}function gt($e,ge){$e.container.addOrOverwriteComponent(ge)}function vt($e){const ge=$e.name;if(ze.has(ge))return $.debug(`There were multiple attempts to register component ${ge}.`),!1;ze.set(ge,$e);for(const et of Xe.values())sn(et,$e);return!0}function tt($e,ge){const et=$e.container.getProvider("heartbeat").getImmediate({optional:!0});return et&&et.triggerHeartbeat(),$e.container.getProvider(ge)}function tn($e,ge,et=Oe){tt($e,ge).clearInstance(et)}function Un(){ze.clear()}const on=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class lr{constructor(ge,et,mt){this._isDeleted=!1,this._options=Object.assign({},ge),this._config=Object.assign({},et),this._name=et.name,this._automaticDataCollectionEnabled=et.automaticDataCollectionEnabled,this._container=mt,this.container.addComponent(new V.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this.checkDestroyed(),this._automaticDataCollectionEnabled=ge}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ge){this._isDeleted=ge}checkDestroyed(){if(this.isDeleted)throw on.create("app-deleted",{appName:this._name})}}const ii="9.18.0";function Ys($e,ge={}){let et=$e;"object"!=typeof ge&&(ge={name:ge});const mt=Object.assign({name:Oe,automaticDataCollectionEnabled:!1},ge),At=mt.name;if("string"!=typeof At||!At)throw on.create("bad-app-name",{appName:String(At)});if(et||(et=(0,ie.aH)()),!et)throw on.create("no-options");const Yt=Xe.get(At);if(Yt){if((0,ie.vZ)(et,Yt.options)&&(0,ie.vZ)(mt,Yt.config))return Yt;throw on.create("duplicate-app",{appName:At})}const Gn=new V.H0(At);for(const L of ze.values())Gn.addComponent(L);const B=new lr(et,mt,Gn);return Xe.set(At,B),B}function cr($e=Oe){const ge=Xe.get($e);if(!ge&&$e===Oe)return Ys();if(!ge)throw on.create("no-app",{appName:$e});return ge}function ki(){return Array.from(Xe.values())}function Fi($e){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,g.Z)(function*($e){const ge=$e.name;Xe.has(ge)&&(Xe.delete(ge),yield Promise.all($e.container.getProviders().map(et=>et.delete())),$e.isDeleted=!0)})).apply(this,arguments)}function br($e,ge,et){var mt;let At=null!==(mt=Fe[$e])&&void 0!==mt?mt:$e;et&&(At+=`-${et}`);const Yt=At.match(/\s|\//),Gn=ge.match(/\s|\//);if(Yt||Gn){const B=[`Unable to register library "${At}" with version "${ge}":`];return Yt&&B.push(`library name "${At}" contains illegal characters (whitespace or "/")`),Yt&&Gn&&B.push("and"),Gn&&B.push(`version name "${ge}" contains illegal characters (whitespace or "/")`),void $.warn(B.join(" "))}vt(new V.wA(`${At}-version`,()=>({library:At,version:ge}),"VERSION"))}function ct($e,ge){if(null!==$e&&"function"!=typeof $e)throw on.create("invalid-log-argument");(0,G.Am)($e,ge)}function Li($e){(0,G.Ub)($e)}const zr="firebase-heartbeat-database",Xn=1,dr="firebase-heartbeat-store";let Vi=null;function St(){return Vi||(Vi=(0,oe.X3)(zr,Xn,{upgrade:($e,ge)=>{0===ge&&$e.createObjectStore(dr)}}).catch($e=>{throw on.create("idb-open",{originalErrorMessage:$e.message})})),Vi}function Dt(){return(Dt=(0,g.Z)(function*($e){try{return(yield St()).transaction(dr).objectStore(dr).get(Jn($e))}catch(ge){if(ge instanceof ie.ZR)$.warn(ge.message);else{const et=on.create("idb-get",{originalErrorMessage:ge?.message});$.warn(et.message)}}})).apply(this,arguments)}function Tr($e,ge){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,g.Z)(function*($e,ge){try{const mt=(yield St()).transaction(dr,"readwrite");return yield mt.objectStore(dr).put(ge,Jn($e)),mt.done}catch(et){if(et instanceof ie.ZR)$.warn(et.message);else{const mt=on.create("idb-set",{originalErrorMessage:et?.message});$.warn(mt.message)}}})).apply(this,arguments)}function Jn($e){return`${$e.name}!${$e.options.appId}`}class Is{constructor(ge){this.container=ge,this._heartbeatsCache=null;const et=this.container.getProvider("app").getImmediate();this._storage=new jt(et),this._heartbeatsCachePromise=this._storage.read().then(mt=>(this._heartbeatsCache=mt,mt))}triggerHeartbeat(){var ge=this;return(0,g.Z)(function*(){const mt=ge.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),At=mn();if(null===ge._heartbeatsCache&&(ge._heartbeatsCache=yield ge._heartbeatsCachePromise),ge._heartbeatsCache.lastSentHeartbeatDate!==At&&!ge._heartbeatsCache.heartbeats.some(Yt=>Yt.date===At))return ge._heartbeatsCache.heartbeats.push({date:At,agent:mt}),ge._heartbeatsCache.heartbeats=ge._heartbeatsCache.heartbeats.filter(Yt=>{const Gn=new Date(Yt.date).valueOf();return Date.now()-Gn<=2592e6}),ge._storage.overwrite(ge._heartbeatsCache)})()}getHeartbeatsHeader(){var ge=this;return(0,g.Z)(function*(){if(null===ge._heartbeatsCache&&(yield ge._heartbeatsCachePromise),null===ge._heartbeatsCache||0===ge._heartbeatsCache.heartbeats.length)return"";const et=mn(),{heartbeatsToSend:mt,unsentEntries:At}=function Cs($e,ge=1024){const et=[];let mt=$e.slice();for(const At of $e){const Yt=et.find(Gn=>Gn.agent===At.agent);if(Yt){if(Yt.dates.push(At.date),si(et)>ge){Yt.dates.pop();break}}else if(et.push({agent:At.agent,dates:[At.date]}),si(et)>ge){et.pop();break}mt=mt.slice(1)}return{heartbeatsToSend:et,unsentEntries:mt}}(ge._heartbeatsCache.heartbeats),Yt=(0,ie.L)(JSON.stringify({version:2,heartbeats:mt}));return ge._heartbeatsCache.lastSentHeartbeatDate=et,At.length>0?(ge._heartbeatsCache.heartbeats=At,yield ge._storage.overwrite(ge._heartbeatsCache)):(ge._heartbeatsCache.heartbeats=[],ge._storage.overwrite(ge._heartbeatsCache)),Yt})()}}function mn(){return(new Date).toISOString().substring(0,10)}class jt{constructor(ge){this.app=ge,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ge=this;return(0,g.Z)(function*(){return(yield ge._canUseIndexedDBPromise)&&(yield function at($e){return Dt.apply(this,arguments)}(ge.app))||{heartbeats:[]}})()}overwrite(ge){var et=this;return(0,g.Z)(function*(){var mt;if(yield et._canUseIndexedDBPromise){const Yt=yield et.read();return Tr(et.app,{lastSentHeartbeatDate:null!==(mt=ge.lastSentHeartbeatDate)&&void 0!==mt?mt:Yt.lastSentHeartbeatDate,heartbeats:ge.heartbeats})}})()}add(ge){var et=this;return(0,g.Z)(function*(){var mt;if(yield et._canUseIndexedDBPromise){const Yt=yield et.read();return Tr(et.app,{lastSentHeartbeatDate:null!==(mt=ge.lastSentHeartbeatDate)&&void 0!==mt?mt:Yt.lastSentHeartbeatDate,heartbeats:[...Yt.heartbeats,...ge.heartbeats]})}})()}}function si($e){return(0,ie.L)(JSON.stringify({version:2,heartbeats:$e})).length}!function Ui($e){vt(new V.wA("platform-logger",ge=>new ae(ge),"PRIVATE")),vt(new V.wA("heartbeat",ge=>new Is(ge),"PRIVATE")),br(ve,"0.9.5",$e),br(ve,"0.9.5","esm2017"),br("fire-js","")}("")},4859:(pt,Ae,F)=>{F.d(Ae,{H0:()=>ve,wA:()=>G});var g=F(5861),V=F(2090);class G{constructor($,j,K){this.name=$,this.instanceFactory=j,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ie="[DEFAULT]";class oe{constructor($,j){this.name=$,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const j=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(j)){const K=new V.BH;if(this.instancesDeferred.set(j,K),this.isInitialized(j)||this.shouldAutoInitialize())try{const Ve=this.getOrInitializeService({instanceIdentifier:j});Ve&&K.resolve(Ve)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate($){var j;const K=this.normalizeInstanceIdentifier($?.identifier),Ve=null!==(j=$?.optional)&&void 0!==j&&j;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(Ve)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(Ie){if(Ve)return null;throw Ie}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function Pe(De){return"EAGER"===De.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[j,K]of this.instancesDeferred.entries()){const Ve=this.normalizeInstanceIdentifier(j);try{const Ie=this.getOrInitializeService({instanceIdentifier:Ve});K.resolve(Ie)}catch{}}}}clearInstance($=ie){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,g.Z)(function*(){const j=Array.from($.instances.values());yield Promise.all([...j.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...j.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ie){return this.instances.has($)}getOptions($=ie){return this.instancesOptions.get($)||{}}initialize($={}){const{options:j={}}=$,K=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ve=this.getOrInitializeService({instanceIdentifier:K,options:j});for(const[Ie,je]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(Ie)&&je.resolve(Ve);return Ve}onInit($,j){var K;const Ve=this.normalizeInstanceIdentifier(j),Ie=null!==(K=this.onInitCallbacks.get(Ve))&&void 0!==K?K:new Set;Ie.add($),this.onInitCallbacks.set(Ve,Ie);const je=this.instances.get(Ve);return je&&$(je,Ve),()=>{Ie.delete($)}}invokeOnInitCallbacks($,j){const K=this.onInitCallbacks.get(j);if(K)for(const Ve of K)try{Ve($,j)}catch{}}getOrInitializeService({instanceIdentifier:$,options:j={}}){let K=this.instances.get($);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(De=$,De===ie?void 0:De),options:j}),this.instances.set($,K),this.instancesOptions.set($,j),this.invokeOnInitCallbacks(K,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,K)}catch{}var De;return K||null}normalizeInstanceIdentifier($=ie){return this.component?this.component.multipleInstances?$:ie:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor($){this.name=$,this.providers=new Map}addComponent($){const j=this.getProvider($.name);if(j.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);j.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const j=new oe($,this);return this.providers.set($,j),j}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,Ae,F)=>{F.d(Ae,{Am:()=>De,Ub:()=>ve,Yd:()=>Pe,in:()=>V});const g=[];var V=(()=>{return($=V||(V={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",V;var $})();const G={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},ie=V.INFO,oe={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},ae=($,j,...K)=>{if(j<$.logLevel)return;const Ve=(new Date).toISOString(),Ie=oe[j];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[Ie](`[${Ve}]  ${$.name}:`,...K)};class Pe{constructor(j){this.name=j,this._logLevel=ie,this._logHandler=ae,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in V))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?G[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...j),this._logHandler(this,V.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...j),this._logHandler(this,V.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,V.INFO,...j),this._logHandler(this,V.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,V.WARN,...j),this._logHandler(this,V.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...j),this._logHandler(this,V.ERROR,...j)}}function ve($){g.forEach(j=>{j.setLogLevel($)})}function De($,j){for(const K of g){let Ve=null;j&&j.level&&(Ve=G[j.level]),K.userLogHandler=null===$?null:(Ie,je,...rt)=>{const ce=rt.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch{return null}}).filter(_e=>_e).join(" ");je>=(Ve??Ie.logLevel)&&$({level:V[je].toLowerCase(),message:ce,args:rt,type:Ie.name})}}}},259:(pt,Ae,F)=>{F.d(Ae,{C6:()=>g.getApps,KN:()=>g.registerVersion,Mq:()=>g.getApp,ZF:()=>g.initializeApp});var g=F(9681);(0,g.registerVersion)("firebase","9.18.0","app")},9260:(pt,Ae,F)=>{F.d(Ae,{Z:()=>g.Z});var g=F(3942);g.Z.registerVersion("firebase","9.18.0","app-compat")},8766:(pt,Ae,F)=>{F.d(Ae,{Lj:()=>be,X3:()=>Me});var g=F(5861);const V=(ne,he)=>he.some(He=>ne instanceof He);let G,ie;const Pe=new WeakMap,ve=new WeakMap,De=new WeakMap,$=new WeakMap,j=new WeakMap;let Ie={get(ne,he,He){if(ne instanceof IDBTransaction){if("done"===he)return ve.get(ne);if("objectStoreNames"===he)return ne.objectStoreNames||De.get(ne);if("store"===he)return He.objectStoreNames[1]?void 0:He.objectStore(He.objectStoreNames[0])}return _e(ne[he])},set:(ne,he,He)=>(ne[he]=He,!0),has:(ne,he)=>ne instanceof IDBTransaction&&("done"===he||"store"===he)||he in ne};function ce(ne){return"function"==typeof ne?function rt(ne){return ne!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ae(){return ie||(ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ne)?function(...he){return ne.apply(me(this),he),_e(Pe.get(this))}:function(...he){return _e(ne.apply(me(this),he))}:function(he,...He){const Be=ne.call(me(this),he,...He);return De.set(Be,he.sort?he.sort():[he]),_e(Be)}}(ne):(ne instanceof IDBTransaction&&function Ve(ne){if(ve.has(ne))return;const he=new Promise((He,Be)=>{const Ct=()=>{ne.removeEventListener("complete",Qe),ne.removeEventListener("error",te),ne.removeEventListener("abort",te)},Qe=()=>{He(),Ct()},te=()=>{Be(ne.error||new DOMException("AbortError","AbortError")),Ct()};ne.addEventListener("complete",Qe),ne.addEventListener("error",te),ne.addEventListener("abort",te)});ve.set(ne,he)}(ne),V(ne,function oe(){return G||(G=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ne,Ie):ne)}function _e(ne){if(ne instanceof IDBRequest)return function K(ne){const he=new Promise((He,Be)=>{const Ct=()=>{ne.removeEventListener("success",Qe),ne.removeEventListener("error",te)},Qe=()=>{He(_e(ne.result)),Ct()},te=()=>{Be(ne.error),Ct()};ne.addEventListener("success",Qe),ne.addEventListener("error",te)});return he.then(He=>{He instanceof IDBCursor&&Pe.set(He,ne)}).catch(()=>{}),j.set(he,ne),he}(ne);if($.has(ne))return $.get(ne);const he=ce(ne);return he!==ne&&($.set(ne,he),j.set(he,ne)),he}const me=ne=>j.get(ne);function Me(ne,he,{blocked:He,upgrade:Be,blocking:Ct,terminated:Qe}={}){const te=indexedDB.open(ne,he),ue=_e(te);return Be&&te.addEventListener("upgradeneeded",pe=>{Be(_e(te.result),pe.oldVersion,pe.newVersion,_e(te.transaction))}),He&&te.addEventListener("blocked",()=>He()),ue.then(pe=>{Qe&&pe.addEventListener("close",()=>Qe()),Ct&&pe.addEventListener("versionchange",()=>Ct())}).catch(()=>{}),ue}function be(ne,{blocked:he}={}){const He=indexedDB.deleteDatabase(ne);return he&&He.addEventListener("blocked",()=>he()),_e(He).then(()=>{})}const Te=["get","getKey","getAll","getAllKeys","count"],Ee=["put","add","delete","clear"],Ue=new Map;function Y(ne,he){if(!(ne instanceof IDBDatabase)||he in ne||"string"!=typeof he)return;if(Ue.get(he))return Ue.get(he);const He=he.replace(/FromIndex$/,""),Be=he!==He,Ct=Ee.includes(He);if(!(He in(Be?IDBIndex:IDBObjectStore).prototype)||!Ct&&!Te.includes(He))return;const Qe=function(){var te=(0,g.Z)(function*(ue,...pe){const Se=this.transaction(ue,Ct?"readwrite":"readonly");let Oe=Se.store;return Be&&(Oe=Oe.index(pe.shift())),(yield Promise.all([Oe[He](...pe),Ct&&Se.done]))[0]});return function(pe){return te.apply(this,arguments)}}();return Ue.set(he,Qe),Qe}!function je(ne){Ie=ne(Ie)}(ne=>({...ne,get:(he,He,Be)=>Y(he,He)||ne.get(he,He,Be),has:(he,He)=>!!Y(he,He)||ne.has(he,He)}))},5861:(pt,Ae,F)=>{function g(G,ie,oe,ae,Pe,ve,De){try{var $=G[ve](De),j=$.value}catch(K){return void oe(K)}$.done?ie(j):Promise.resolve(j).then(ae,Pe)}function V(G){return function(){var ie=this,oe=arguments;return new Promise(function(ae,Pe){var ve=G.apply(ie,oe);function De(j){g(ve,ae,Pe,De,$,"next",j)}function $(j){g(ve,ae,Pe,De,$,"throw",j)}De(void 0)})}}F.d(Ae,{Z:()=>V})}},pt=>{pt(pt.s=113)}]);